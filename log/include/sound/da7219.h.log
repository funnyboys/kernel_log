commit 2874c5fd284268364ece81a7bd936f3c8168e567
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon May 27 08:55:01 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 152
    
    Based on 1 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license as published by
      the free software foundation either version 2 of the license or at
      your option any later version
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-or-later
    
    has been chosen to replace the boilerplate/reference in 3029 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190527070032.746973796@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 4a36954c86c5..dde4542b084f 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -1,14 +1,10 @@
+/* SPDX-License-Identifier: GPL-2.0-or-later */
 /*
  * da7219.h - DA7219 ASoC Codec Driver Platform Data
  *
  * Copyright (c) 2015 Dialog Semiconductor
  *
  * Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
- *
- * This program is free software; you can redistribute  it and/or modify it
- * under  the terms of  the GNU General  Public License as published by the
- * Free Software Foundation;  either version 2 of the  License, or (at your
- * option) any later version.
  */
 
 #ifndef __DA7219_PDATA_H

commit d90ba6c8b53e541913a181638c353cf7a0856256
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Tue Mar 19 17:49:31 2019 +0000

    ASoC: da7219: Expose BCLK and WCLK control through CCF
    
    For the purposes of platforms which use the codec as DAI clock
    master for the CPU and other codec devices, there is the need to
    not only expose the clock gating of BCLK and WCLK but also the
    ability to set those rates without going through the ASoC APIs.
    
    To make this possible, the previous CCF implementation in the
    driver has been extended to separate BCLK and WCLK out. WCLK is
    the parent clock to BCLK, and is also the clock gate for both.
    BCLK in HW is a factor/multiplier of WCLK so derives from whatever
    SR is chosen for WCLK, hence the need to make it a child of WCLK
    for the purposes of CCF. Enabling/disabling either BCLK or WCLK
    will result in clocks being ungated/gated accordingly. To simplify
    matters, these clocks can only be configured if the codec is set
    as master, otherwise CCF control is disallowed.
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 1bfcb16f2d10..4a36954c86c5 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -33,10 +33,16 @@ enum da7219_mic_amp_in_sel {
 
 struct da7219_aad_pdata;
 
+enum da7219_dai_clks {
+	DA7219_DAI_WCLK_IDX = 0,
+	DA7219_DAI_BCLK_IDX,
+	DA7219_DAI_NUM_CLKS,
+};
+
 struct da7219_pdata {
 	bool wakeup_source;
 
-	const char *dai_clks_name;
+	const char *dai_clk_names[DA7219_DAI_NUM_CLKS];
 
 	/* Mic */
 	enum da7219_micbias_voltage micbias_lvl;

commit fc8f7ea2d6c074baaad202c9187962bfa493ef13
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Fri Mar 9 16:25:43 2018 +0000

    ASoC: da7219: Add common clock usage for providing DAI clks
    
    There is a need to use DA7219 as DAI clock master for other codecs
    within a system, which means that the DAI clocks are required to
    remain, regardless of whether the codec is actually running
    playback/capture. To be able to expose control of the DAI clocking
    the common clock framework has been employed.
    
    The current implementation adds a simple clock gate for enabling
    and disabling the DAI clocks, with no rate control supported
    (this is still handled through standard hw_params() functions as
    before). If DT is enabled then the clock is added to the OF
    providers list, otherwise a clkdev lookup is used.
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 409ef1397fd3..1bfcb16f2d10 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -36,6 +36,8 @@ struct da7219_aad_pdata;
 struct da7219_pdata {
 	bool wakeup_source;
 
+	const char *dai_clks_name;
+
 	/* Mic */
 	enum da7219_micbias_voltage micbias_lvl;
 	enum da7219_mic_amp_in_sel mic_amp_in_sel;

commit bb0c35fcaf8f2ad3383dd43ca8abf5203cd06cc3
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Mon Sep 26 14:29:21 2016 +0100

    ASoC: da7219: Disable AAD if codec is not a wake-up source
    
    Currently if AAD is enabled in the device, during system suspend
    the feature remains, regardless of whether the codec is a wake-up
    source or not. This means some additional power is being used
    which is unnecessary, and can causes issues with some platforms'
    IRQ handlers where state changes during system suspend aren't
    captured.
    
    This patch updates the driver to disable AAD during suspend, if
    we're not a wake-up source, and then re-enables this on resume.
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 02876acdc840..409ef1397fd3 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -34,6 +34,8 @@ enum da7219_mic_amp_in_sel {
 struct da7219_aad_pdata;
 
 struct da7219_pdata {
+	bool wakeup_source;
+
 	/* Mic */
 	enum da7219_micbias_voltage micbias_lvl;
 	enum da7219_mic_amp_in_sel mic_amp_in_sel;

commit 0aed64c1766d354c819a13a57d8673adaf2266eb
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Tue Dec 22 18:27:55 2015 +0000

    ASoC: da7219: Add support for 1.6V micbias level
    
    HW can provide 1.6V micbias level as well the existing levels
    already provided in the driver. This patch adds support for 1.6V
    to the DT binding.
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Acked-by: Rob Herring <robh@kernel.org>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 307198b469bc..02876acdc840 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -16,7 +16,8 @@
 
 /* Mic Bias */
 enum da7219_micbias_voltage {
-	DA7219_MICBIAS_1_8V = 1,
+	DA7219_MICBIAS_1_6V = 0,
+	DA7219_MICBIAS_1_8V,
 	DA7219_MICBIAS_2_0V,
 	DA7219_MICBIAS_2_2V,
 	DA7219_MICBIAS_2_4V,

commit d8ef140dccc1645aa37a140ed7585458294210b8
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Tue Dec 22 18:27:54 2015 +0000

    ASoC: da7219: Remove internal LDO features of codec
    
    In AB silicon, the internal LDO is not supported so remove
    DT and driver references to this (digital voltage direct from
    'VDD' supply)
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Acked-by: Rob Herring <robh@kernel.org>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
index 3f39e135312d..307198b469bc 100644
--- a/include/sound/da7219.h
+++ b/include/sound/da7219.h
@@ -14,14 +14,6 @@
 #ifndef __DA7219_PDATA_H
 #define __DA7219_PDATA_H
 
-/* LDO */
-enum da7219_ldo_lvl_sel {
-	DA7219_LDO_LVL_SEL_1_05V = 0,
-	DA7219_LDO_LVL_SEL_1_10V,
-	DA7219_LDO_LVL_SEL_1_20V,
-	DA7219_LDO_LVL_SEL_1_40V,
-};
-
 /* Mic Bias */
 enum da7219_micbias_voltage {
 	DA7219_MICBIAS_1_8V = 1,
@@ -41,9 +33,6 @@ enum da7219_mic_amp_in_sel {
 struct da7219_aad_pdata;
 
 struct da7219_pdata {
-	/* Internal LDO */
-	enum da7219_ldo_lvl_sel ldo_lvl_sel;
-
 	/* Mic */
 	enum da7219_micbias_voltage micbias_lvl;
 	enum da7219_mic_amp_in_sel mic_amp_in_sel;

commit 6d817c0e9fd7536be76690bfdee88e8a81c16f7d
Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
Date:   Tue Sep 29 16:44:01 2015 +0100

    ASoC: codecs: Add da7219 codec driver
    
    This adds support for the DA7219 audio codec with built-in advanced
    accessory detect features.
    
    Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/da7219.h b/include/sound/da7219.h
new file mode 100644
index 000000000000..3f39e135312d
--- /dev/null
+++ b/include/sound/da7219.h
@@ -0,0 +1,55 @@
+/*
+ * da7219.h - DA7219 ASoC Codec Driver Platform Data
+ *
+ * Copyright (c) 2015 Dialog Semiconductor
+ *
+ * Author: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
+ *
+ * This program is free software; you can redistribute  it and/or modify it
+ * under  the terms of  the GNU General  Public License as published by the
+ * Free Software Foundation;  either version 2 of the  License, or (at your
+ * option) any later version.
+ */
+
+#ifndef __DA7219_PDATA_H
+#define __DA7219_PDATA_H
+
+/* LDO */
+enum da7219_ldo_lvl_sel {
+	DA7219_LDO_LVL_SEL_1_05V = 0,
+	DA7219_LDO_LVL_SEL_1_10V,
+	DA7219_LDO_LVL_SEL_1_20V,
+	DA7219_LDO_LVL_SEL_1_40V,
+};
+
+/* Mic Bias */
+enum da7219_micbias_voltage {
+	DA7219_MICBIAS_1_8V = 1,
+	DA7219_MICBIAS_2_0V,
+	DA7219_MICBIAS_2_2V,
+	DA7219_MICBIAS_2_4V,
+	DA7219_MICBIAS_2_6V,
+};
+
+/* Mic input type */
+enum da7219_mic_amp_in_sel {
+	DA7219_MIC_AMP_IN_SEL_DIFF = 0,
+	DA7219_MIC_AMP_IN_SEL_SE_P,
+	DA7219_MIC_AMP_IN_SEL_SE_N,
+};
+
+struct da7219_aad_pdata;
+
+struct da7219_pdata {
+	/* Internal LDO */
+	enum da7219_ldo_lvl_sel ldo_lvl_sel;
+
+	/* Mic */
+	enum da7219_micbias_voltage micbias_lvl;
+	enum da7219_mic_amp_in_sel mic_amp_in_sel;
+
+	/* AAD */
+	struct da7219_aad_pdata *aad_pdata;
+};
+
+#endif /* __DA7219_PDATA_H */
