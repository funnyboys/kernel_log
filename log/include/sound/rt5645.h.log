commit d2912cb15bdda8ba4a5dd73396ad62641af2f520
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Tue Jun 4 10:11:33 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 500
    
    Based on 2 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation #
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 4122 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Enrico Weigelt <info@metux.net>
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190604081206.933168790@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index f218c742f08e..39a77c7cea36 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -1,11 +1,8 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 /*
  * linux/sound/rt5645.h -- Platform data for RT5645
  *
  * Copyright 2013 Realtek Microelectronics
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
  */
 
 #ifndef __LINUX_SND_RT5645_H

commit aa9c387c2dc25597b730cd8386cac8ccfe75de07
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Mon Dec 11 22:26:40 2017 +0100

    ASoC: rt5645: Set card long_name for GPD win / pocket
    
    The GPD win and pocket devices both use the same codec setup and both
    have too generic dmi strings making snd_soc_set_dmi_name() not work.
    
    As these devices have only a single speaker we want a separate ucm
    file for them, which requires a unique long_name, use the existing
    GPD quirk handling to also provide a unique long_name.
    
    Signed-off-by: Hans de Goede <hdegoede@redhat.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index d0c33a9972b9..f218c742f08e 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -25,6 +25,9 @@ struct rt5645_platform_data {
 	bool level_trigger_irq;
 	/* Invert JD1_1 status polarity */
 	bool inv_jd1_1;
+
+	/* Value to asign to snd_soc_card.long_name */
+	const char *long_name;
 };
 
 #endif

commit aea086dda2d5df659a7c5d9efe85721e9442a133
Author: Bard Liao <bardliao@realtek.com>
Date:   Wed Jun 28 14:49:38 2017 +0200

    ASoC: rt5645: add inv_jd1_1 flag
    
    The flag will invert jd1_1 status. Which will be used if the jack
    connector is normal closed.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Tested-by: Hans de Goede <hdegoede@redhat.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index c427f10a39ae..d0c33a9972b9 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -23,6 +23,8 @@ struct rt5645_platform_data {
 	unsigned int jd_mode;
 	/* Use level triggered irq */
 	bool level_trigger_irq;
+	/* Invert JD1_1 status polarity */
+	bool inv_jd1_1;
 };
 
 #endif

commit 895750228c9d3361ed82e9786322604de3232466
Author: Bard Liao <bardliao@realtek.com>
Date:   Wed Jun 28 14:49:37 2017 +0200

    ASoC: rt5645: rename jd_invert flag in platform data
    
    The jd_invert flag is actually used for level triggered IRQ. Rename
    it to let code more readable.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Tested-by: Hans de Goede <hdegoede@redhat.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index a5cf6152e778..c427f10a39ae 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -21,8 +21,8 @@ struct rt5645_platform_data {
 	/* 0 = IN2P; 1 = GPIO6; 2 = GPIO10; 3 = GPIO12 */
 
 	unsigned int jd_mode;
-	/* Invert JD when jack insert */
-	bool jd_invert;
+	/* Use level triggered irq */
+	bool level_trigger_irq;
 };
 
 #endif

commit 917536aeb88d34e06c1353b0dd144f0987bb66bd
Author: John Lin <john.lin@realtek.com>
Date:   Mon Sep 21 14:12:01 2015 +0800

    ASoC: rt5645: Add jd_invert for Broadwell
    
    Broadwell can not triger the IRQ falling and rising simultaneously,
    so it can not detect jack-in and jack-out simultaneously.
    We add a flag "jd_invert" to platform data. If this flag is set,
    codec IRQ will be set to invert that forces IRQ as pulse when jack-in
    and jack-out.
    
    Signed-off-by: John Lin <john.lin@realtek.com>
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index 22734bc3ffd4..a5cf6152e778 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -21,6 +21,8 @@ struct rt5645_platform_data {
 	/* 0 = IN2P; 1 = GPIO6; 2 = GPIO10; 3 = GPIO12 */
 
 	unsigned int jd_mode;
+	/* Invert JD when jack insert */
+	bool jd_invert;
 };
 
 #endif

commit 0b0cefc8fd105f379989164f3ef7e5b4a0d44c1f
Author: Oder Chiou <oder_chiou@realtek.com>
Date:   Wed Jun 10 14:27:57 2015 +0800

    ASoC: rt5645: change gpio to gpiod APIs
    
    Move gpio to gpio_desc and use gpiod APIs in codec driver.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Oder Chiou <oder_chiou@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index 652cb9e4afe5..22734bc3ffd4 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -20,9 +20,6 @@ struct rt5645_platform_data {
 	unsigned int dmic2_data_pin;
 	/* 0 = IN2P; 1 = GPIO6; 2 = GPIO10; 3 = GPIO12 */
 
-	unsigned int hp_det_gpio;
-	bool gpio_hp_det_active_high;
-
 	unsigned int jd_mode;
 };
 

commit ac4fc3eeb79e06499779db99937522526e863ab6
Author: Bard Liao <bardliao@realtek.com>
Date:   Tue May 5 21:42:01 2015 +0800

    ASoC: rt5645: remove unused field in pdata
    
    We can know if dmic is used by reading the value of dmic1_data_pin
    and dmic2_data_pin. Also IRQ must be used if codec JD or button
    detection function is used. So, dmic_en and en_jd_func can be remove
    from platform data.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index 120d9610054e..652cb9e4afe5 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -15,7 +15,6 @@ struct rt5645_platform_data {
 	/* IN2 can optionally be differential */
 	bool in2_diff;
 
-	bool dmic_en;
 	unsigned int dmic1_data_pin;
 	/* 0 = IN2N; 1 = GPIO5; 2 = GPIO11 */
 	unsigned int dmic2_data_pin;
@@ -24,8 +23,6 @@ struct rt5645_platform_data {
 	unsigned int hp_det_gpio;
 	bool gpio_hp_det_active_high;
 
-	/* true if codec's jd function is used */
-	bool en_jd_func;
 	unsigned int jd_mode;
 };
 

commit 2d4e2d020516632288e8c8d1f8be2f3042d6b8de
Author: Bard Liao <bardliao@realtek.com>
Date:   Tue Nov 18 16:50:18 2014 +0800

    ASoC: rt5645: multiple JD mode support
    
    There are 3 JD modes in RT5645. This patch configure register
    values according to platform data.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index 937f421bc66b..120d9610054e 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -26,6 +26,7 @@ struct rt5645_platform_data {
 
 	/* true if codec's jd function is used */
 	bool en_jd_func;
+	unsigned int jd_mode;
 };
 
 #endif

commit bb656add19764c7a3cf28b2b330ec0a189fe4f48
Author: Bard Liao <bardliao@realtek.com>
Date:   Wed Nov 5 15:02:08 2014 +0800

    ASoC: rt5645: Add JD function support
    
    rt5645 codec support jack detection function. The patch will set
    related registers if JD function is used.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index a5352712194b..937f421bc66b 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -23,6 +23,9 @@ struct rt5645_platform_data {
 
 	unsigned int hp_det_gpio;
 	bool gpio_hp_det_active_high;
+
+	/* true if codec's jd function is used */
+	bool en_jd_func;
 };
 
 #endif

commit f3fa1bbd836a7d6efb2abd506ed8e24096f39062
Author: Oder Chiou <oder_chiou@realtek.com>
Date:   Fri Sep 19 19:15:45 2014 +0800

    ASoC: rt5645: Add headset detect function
    
    Add headset detect function
    
    Signed-off-by: Oder Chiou <oder_chiou@realtek.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
index 1de744c242f6..a5352712194b 100644
--- a/include/sound/rt5645.h
+++ b/include/sound/rt5645.h
@@ -20,6 +20,9 @@ struct rt5645_platform_data {
 	/* 0 = IN2N; 1 = GPIO5; 2 = GPIO11 */
 	unsigned int dmic2_data_pin;
 	/* 0 = IN2P; 1 = GPIO6; 2 = GPIO10; 3 = GPIO12 */
+
+	unsigned int hp_det_gpio;
+	bool gpio_hp_det_active_high;
 };
 
 #endif

commit 1319b2f6a565231ca2e3f368ab7f74fc4714c799
Author: Oder Chiou <oder_chiou@realtek.com>
Date:   Mon Apr 28 19:59:10 2014 +0800

    ASoC: rt5645: Add codec driver
    
    This patch adds the Realtek ALC5645 codec driver. It is the base
    version that because the jack detect function is not implemented to
    it, the headphone and AMIC1 are not workable. We will fill up the
    further functions later.
    
    Signed-off-by: Bard Liao <bardliao@realtek.com>
    Signed-off-by: Oder Chiou <oder_chiou@realtek.com>
    Signed-off-by: Mark Brown <broonie@linaro.org>

diff --git a/include/sound/rt5645.h b/include/sound/rt5645.h
new file mode 100644
index 000000000000..1de744c242f6
--- /dev/null
+++ b/include/sound/rt5645.h
@@ -0,0 +1,25 @@
+/*
+ * linux/sound/rt5645.h -- Platform data for RT5645
+ *
+ * Copyright 2013 Realtek Microelectronics
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#ifndef __LINUX_SND_RT5645_H
+#define __LINUX_SND_RT5645_H
+
+struct rt5645_platform_data {
+	/* IN2 can optionally be differential */
+	bool in2_diff;
+
+	bool dmic_en;
+	unsigned int dmic1_data_pin;
+	/* 0 = IN2N; 1 = GPIO5; 2 = GPIO11 */
+	unsigned int dmic2_data_pin;
+	/* 0 = IN2P; 1 = GPIO6; 2 = GPIO10; 3 = GPIO12 */
+};
+
+#endif
