commit 2025cf9e193de05b0654570dd639acb49ebd3adf
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed May 29 07:18:02 2019 -0700

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 288
    
    Based on 1 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms and conditions of the gnu general public license
      version 2 as published by the free software foundation this program
      is distributed in the hope it will be useful but without any
      warranty without even the implied warranty of merchantability or
      fitness for a particular purpose see the gnu general public license
      for more details
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 263 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Reviewed-by: Alexios Zavras <alexios.zavras@intel.com>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190529141901.208660670@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/soc/imx/cpuidle.h b/include/soc/imx/cpuidle.h
index 8e7743d3b34d..7d92028015b3 100644
--- a/include/soc/imx/cpuidle.h
+++ b/include/soc/imx/cpuidle.h
@@ -1,14 +1,6 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 /*
  * Copyright 2016 Pengutronix, <kernel@pengutronix.de>
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms and conditions of the GNU General Public License,
- * version 2, as published by the Free Software Foundation.
- *
- * This program is distributed in the hope it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
- * more details.
  */
 
 #ifndef __SOC_IMX_CPUIDLE_H__

commit 4dbc39e98b57a7f67c739b04f12d9829fe659bfa
Author: Ben Dooks <ben.dooks@codethink.co.uk>
Date:   Fri Jun 17 15:51:41 2016 +0100

    ARM: imx6: fix static declaration in include/soc/imx/cpuidle.h
    
    If both CONFIG_CPU_IDLE or CONFIG_SOC_IMX6Q are not set
    then the imx6q_cpuidle_fec_irqs_used() and other functions
    should be marked static inline to avoid the following
    warnings whilst building drivers/net/ethernet/freescale:
    
    include/soc/imx/cpuidle.h:21:6: warning: symbol 'imx6q_cpuidle_fec_irqs_used' was not declared. Should it be static?
    include/soc/imx/cpuidle.h:22:6: warning: symbol 'imx6q_cpuidle_fec_irqs_unused' was not declared. Should it be static?
    
    Signed-off-by: Ben Dooks <ben.dooks@codethink.co.uk>
    Signed-off-by: Shawn Guo <shawnguo@kernel.org>

diff --git a/include/soc/imx/cpuidle.h b/include/soc/imx/cpuidle.h
index 986a4823bce1..8e7743d3b34d 100644
--- a/include/soc/imx/cpuidle.h
+++ b/include/soc/imx/cpuidle.h
@@ -18,8 +18,8 @@
 void imx6q_cpuidle_fec_irqs_used(void);
 void imx6q_cpuidle_fec_irqs_unused(void);
 #else
-void imx6q_cpuidle_fec_irqs_used(void) { }
-void imx6q_cpuidle_fec_irqs_unused(void) { }
+static inline void imx6q_cpuidle_fec_irqs_used(void) { }
+static inline void imx6q_cpuidle_fec_irqs_unused(void) { }
 #endif
 
 #endif /* __SOC_IMX_CPUIDLE_H__ */

commit 29380905565655bb797bf670a173bddb8e641da6
Author: Lucas Stach <l.stach@pengutronix.de>
Date:   Fri Jun 3 18:31:19 2016 +0200

    ARM: imx6: disable deeper idle states when FEC is active w/o HW workaround
    
    The i.MX6 Q/DL has an erratum (ERR006687) that prevents the FEC from
    waking the CPUs when they are in wait(unclocked) state. As the hardware
    workaround isn't applicable to all boards, disable the deeper idle state
    when the workaround isn't present and the FEC is in use.
    
    This allows to safely run a kernel with CPUidle enabled on all i.MX6
    boards.
    
    Signed-off-by: Lucas Stach <l.stach@pengutronix.de>
    Acked-by: David S. Miller <davem@davemloft.net> (for network changes)
    Signed-off-by: Shawn Guo <shawnguo@kernel.org>

diff --git a/include/soc/imx/cpuidle.h b/include/soc/imx/cpuidle.h
new file mode 100644
index 000000000000..986a4823bce1
--- /dev/null
+++ b/include/soc/imx/cpuidle.h
@@ -0,0 +1,25 @@
+/*
+ * Copyright 2016 Pengutronix, <kernel@pengutronix.de>
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms and conditions of the GNU General Public License,
+ * version 2, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ */
+
+#ifndef __SOC_IMX_CPUIDLE_H__
+#define __SOC_IMX_CPUIDLE_H__
+
+#if defined(CONFIG_CPU_IDLE) && defined(CONFIG_SOC_IMX6Q)
+void imx6q_cpuidle_fec_irqs_used(void);
+void imx6q_cpuidle_fec_irqs_unused(void);
+#else
+void imx6q_cpuidle_fec_irqs_used(void) { }
+void imx6q_cpuidle_fec_irqs_unused(void) { }
+#endif
+
+#endif /* __SOC_IMX_CPUIDLE_H__ */
