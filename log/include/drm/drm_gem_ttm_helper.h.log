commit 231927d939f073ffee24a5e7acb5b5621ba8b7c8
Author: Gerd Hoffmann <kraxel@redhat.com>
Date:   Wed Oct 16 13:52:00 2019 +0200

    drm/ttm: add drm_gem_ttm_mmap()
    
    Add helper function to mmap ttm bo's using &drm_gem_object_funcs.mmap().
    
    Note that with this code path access verification is done by
    drm_gem_mmap() (which calls drm_vma_node_is_allowed(()).
    The &ttm_bo_driver.verify_access() callback is is not used.
    
    v3: use ttm_bo_mmap_obj instead of ttm_bo_mmap_vma_setup
    
    Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Link: http://patchwork.freedesktop.org/patch/msgid/20191016115203.20095-9-kraxel@redhat.com

diff --git a/include/drm/drm_gem_ttm_helper.h b/include/drm/drm_gem_ttm_helper.h
index 6268f89c5a48..118cef76f84f 100644
--- a/include/drm/drm_gem_ttm_helper.h
+++ b/include/drm/drm_gem_ttm_helper.h
@@ -15,5 +15,7 @@
 
 void drm_gem_ttm_print_info(struct drm_printer *p, unsigned int indent,
 			    const struct drm_gem_object *gem);
+int drm_gem_ttm_mmap(struct drm_gem_object *gem,
+		     struct vm_area_struct *vma);
 
 #endif

commit ff540b76f14ac9922eb91894ebc1fab335e8be7e
Author: Gerd Hoffmann <kraxel@redhat.com>
Date:   Wed Sep 4 07:47:35 2019 +0200

    drm/ttm: add drm gem ttm helpers, starting with drm_gem_ttm_print_info()
    
    Now with ttm_buffer_object being a subclass of drm_gem_object we can
    easily lookup ttm_buffer_object for a given drm_gem_object, which in
    turn allows to create common helper functions.
    
    This patch starts off with a drm_gem_ttm_print_info() helper function
    which adds some ttm specific lines to the debug output.
    
    Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
    Acked-by: Thomas Zimmermann <tzimmermann@suse.de>
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Link: http://patchwork.freedesktop.org/patch/msgid/20190904054740.20817-3-kraxel@redhat.com

diff --git a/include/drm/drm_gem_ttm_helper.h b/include/drm/drm_gem_ttm_helper.h
new file mode 100644
index 000000000000..6268f89c5a48
--- /dev/null
+++ b/include/drm/drm_gem_ttm_helper.h
@@ -0,0 +1,19 @@
+/* SPDX-License-Identifier: GPL-2.0-or-later */
+
+#ifndef DRM_GEM_TTM_HELPER_H
+#define DRM_GEM_TTM_HELPER_H
+
+#include <linux/kernel.h>
+
+#include <drm/drm_gem.h>
+#include <drm/drm_device.h>
+#include <drm/ttm/ttm_bo_api.h>
+#include <drm/ttm/ttm_bo_driver.h>
+
+#define drm_gem_ttm_of_gem(gem_obj) \
+	container_of(gem_obj, struct ttm_buffer_object, base)
+
+void drm_gem_ttm_print_info(struct drm_printer *p, unsigned int indent,
+			    const struct drm_gem_object *gem);
+
+#endif
