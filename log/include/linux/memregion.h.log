commit a6c7f4c6aea5f4ca6056b06cec7ebd79f8c23e33
Author: Dan Williams <dan.j.williams@intel.com>
Date:   Wed Nov 6 17:43:43 2019 -0800

    device-dax: Add a driver for "hmem" devices
    
    Platform firmware like EFI/ACPI may publish "hmem" platform devices.
    Such a device is a performance differentiated memory range likely
    reserved for an application specific use case. The driver gives access
    to 100% of the capacity via a device-dax mmap instance by default.
    
    However, if over-subscription and other kernel memory management is
    desired the resulting dax device can be assigned to the core-mm via the
    kmem driver.
    
    This consumes "hmem" devices the producer of "hmem" devices is saved for
    a follow-on patch so that it can reference the new CONFIG_DEV_DAX_HMEM
    symbol to gate performing the enumeration work.
    
    Reported-by: kbuild test robot <lkp@intel.com>
    Reviewed-by: Dave Hansen <dave.hansen@linux.intel.com>
    Signed-off-by: Dan Williams <dan.j.williams@intel.com>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>

diff --git a/include/linux/memregion.h b/include/linux/memregion.h
index 7de7c0a1444e..e11595256cac 100644
--- a/include/linux/memregion.h
+++ b/include/linux/memregion.h
@@ -4,6 +4,10 @@
 #include <linux/types.h>
 #include <linux/errno.h>
 
+struct memregion_info {
+	int target_node;
+};
+
 #ifdef CONFIG_MEMREGION
 int memregion_alloc(gfp_t gfp);
 void memregion_free(int id);

commit 33dd70752cd76f4d883a165a674f13121a4155ed
Author: Dan Williams <dan.j.williams@intel.com>
Date:   Wed Nov 6 17:43:31 2019 -0800

    lib: Uplevel the pmem "region" ida to a global allocator
    
    In preparation for handling platform differentiated memory types beyond
    persistent memory, uplevel the "region" identifier to a global number
    space. This enables a device-dax instance to be registered to any memory
    type with guaranteed unique names.
    
    Signed-off-by: Dan Williams <dan.j.williams@intel.com>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>

diff --git a/include/linux/memregion.h b/include/linux/memregion.h
new file mode 100644
index 000000000000..7de7c0a1444e
--- /dev/null
+++ b/include/linux/memregion.h
@@ -0,0 +1,19 @@
+/* SPDX-License-Identifier: GPL-2.0 */
+#ifndef _MEMREGION_H_
+#define _MEMREGION_H_
+#include <linux/types.h>
+#include <linux/errno.h>
+
+#ifdef CONFIG_MEMREGION
+int memregion_alloc(gfp_t gfp);
+void memregion_free(int id);
+#else
+static inline int memregion_alloc(gfp_t gfp)
+{
+	return -ENOMEM;
+}
+void memregion_free(int id)
+{
+}
+#endif
+#endif /* _MEMREGION_H_ */
