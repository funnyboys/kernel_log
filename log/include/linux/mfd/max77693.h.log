commit d7d8d7a2405f8b6296660648e893fc3442269d81
Author: Krzysztof Kozlowski <krzk@kernel.org>
Date:   Tue Aug 7 18:11:23 2018 +0200

    mfd: maxim: Add SPDX license identifiers
    
    Replace GPL v2.0+ license statements with SPDX license identifiers.
    
    Signed-off-by: Krzysztof Kozlowski <krzk@kernel.org>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index d450f687301b..c67c16ba8649 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -1,3 +1,4 @@
+/* SPDX-License-Identifier: GPL-2.0+ */
 /*
  * max77693.h - Driver for the Maxim 77693
  *
@@ -6,20 +7,6 @@
  *
  * This program is not provided / owned by Maxim Integrated Products.
  *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- *
  * This driver is based on max8997.h
  *
  * MAX77693 has PMIC, Charger, Flash LED, Haptic, MUIC devices.

commit f0c1bc95a108b36677dde6c9d96a5bb810a05b75
Merge: 1dcf58d6e6e6 e554a99ee8d0
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Apr 14 17:29:55 2015 -0700

    Merge tag 'mfd-for-linus-4.1' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd
    
    Pull MFD updates from Lee Jones:
     "Changes to existing drivers:
    
       - Rename child driver [axp288_battery => axp288_fuel_gauge]; axp20x
       - Rename child driver [max77693-flash => max77693-led]; max77693
       - Error handling fixes; intel_soc_pmic
       - GPIO tweaking; intel_soc_pmic
       - Remove non-DT code; vexpress-sysreg, tc3589x
       - Remove unused/legacy code; ti_am335x_tscadc, rts5249, rtsx_gops, rtsx_pcr,
                                    rtc-s5m, sec-core, max77693, menelaus,
                                    wm5102-tables
       - Trivial fixups; rtsx_pci, da9150-core, sec-core, max7769, max77693,
                         mc13xxx-core, dln2, hi6421-pmic-core, rk808, twl4030-power,
                         lpc_ich, menelaus, twl6040
       - Update register/address values; rts5227, rts5249
       - DT and/or binding document fixups; arizona, da9150, mt6397, axp20x,
                                            qcom-rpm, qcom-spmi-pmic
       - Couple of trivial core Kconfig fixups
       - Remove use of seq_printf return value; ab8500-debugfs
       - Remove __exit markups; menelaus, tps65010
       - Fix platform-device name collisions; mfd-core
    
      New drivers/supported devices:
    
       - Add support for wm8280/wm8281 into arizona
       - Add support for COMe-cBL6 into kempld-core
       - Add support for rts524a and rts525a into rts5249
       - Add support for ipq8064 into qcom_rpm
       - Add support for extcon into axp20x
       - New MediaTek MT6397 PMIC driver
       - New Maxim MAX77843 PMIC dirver
       - New Intel Quark X1000 I2C-GPIO driver
       - New Skyworks SKY81452 driver"
    
    * tag 'mfd-for-linus-4.1' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd: (76 commits)
      mfd: sec: Fix RTC alarm interrupt number on S2MPS11
      mfd: wm5102: Remove registers for output 3R from readable list
      mfd: tps65010: Remove incorrect __exit markups
      mfd: devicetree: bindings: Add Qualcomm RPM regulator subnodes
      mfd: axp20x: Add support for extcon cell
      mfd: lpc_ich: Sort IDs
      mfd: twl6040: Remove wrong and unneeded "platform:twl6040" modalias
      mfd: qcom-spmi-pmic: Add specific compatible strings for Qualcomm's SPMI PMIC's
      mfd: axp20x: Fix duplicate const for model names
      mfd: menelaus: Use macro for magic number
      mfd: menelaus: Drop support for SW controller VCORE
      mfd: menelaus: Delete omap_has_menelaus
      mfd: arizona: Correct type of gpio_defaults
      mfd: lpc_ich: Sort IDs
      mfd: Fix a typo in Kconfig
      mfd: qcom_rpm: Add support for IPQ8064
      mfd: devicetree: qcom_rpm: Document IPQ8064 resources
      mfd: core: Fix platform-device name collisions
      mfd: intel_quark_i2c_gpio: Don't crash if !DMI
      dt-bindings: Add vendor-prefix for X-Powers
      ...

commit eb2d90c058280b41c8493cb17271e053b5ebba39
Author: Krzysztof Kozlowski <k.kozlowski@samsung.com>
Date:   Thu Mar 26 11:35:59 2015 +0100

    mfd: max77693: Remove unused structures
    
    The max77693 regulator driver no longer supports board files. Remove the
    left-overs. Additionally fix name of device in comment.
    
    Signed-off-by: Krzysztof Kozlowski <k.kozlowski@samsung.com>
    Acked-by: Lee Jones <lee.jones@linaro.org>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index f0b6585cd874..09a4dedaeea8 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -30,7 +30,7 @@
 #ifndef __LINUX_MFD_MAX77693_H
 #define __LINUX_MFD_MAX77693_H
 
-/* MAX77686 regulator IDs */
+/* MAX77693 regulator IDs */
 enum max77693_regulators {
 	MAX77693_ESAFEOUT1 = 0,
 	MAX77693_ESAFEOUT2,
@@ -38,12 +38,6 @@ enum max77693_regulators {
 	MAX77693_REG_MAX,
 };
 
-struct max77693_regulator_data {
-	int id;
-	struct regulator_init_data *initdata;
-	struct device_node *of_node;
-};
-
 struct max77693_reg_data {
 	u8 addr;
 	u8 data;
@@ -103,10 +97,6 @@ struct max77693_led_platform_data {
 /* MAX77693 */
 
 struct max77693_platform_data {
-	/* regulator data */
-	struct max77693_regulator_data *regulators;
-	int num_regulators;
-
 	/* muic data */
 	struct max77693_muic_platform_data *muic_data;
 	struct max77693_led_platform_data *led_data;

commit a307de2aab5bcb96bae3d778b01ff815f027ad88
Author: Jacek Anaszewski <j.anaszewski@samsung.com>
Date:   Wed Mar 4 17:14:27 2015 +0100

    mfd: max77693: Remove struct max77693_led_platform_data
    
    The flash part of the max77693 device will depend only on OF, and thus
    will not use board files. Since there are no other users of the
    struct max77693_led_platform_data its existence is unjustified.
    
    Signed-off-by: Jacek Anaszewski <j.anaszewski@samsung.com>
    Acked-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index f0b6585cd874..ce894b6e6315 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -87,19 +87,6 @@ enum max77693_led_boost_mode {
 	MAX77693_LED_BOOST_FIXED,
 };
 
-struct max77693_led_platform_data {
-	u32 fleds[2];
-	u32 iout_torch[2];
-	u32 iout_flash[2];
-	u32 trigger[2];
-	u32 trigger_type[2];
-	u32 num_leds;
-	u32 boost_mode;
-	u32 flash_timeout;
-	u32 boost_vout;
-	u32 low_vsys;
-};
-
 /* MAX77693 */
 
 struct max77693_platform_data {

commit a0bc607208e295f70d0355fa4e632a0c8c27533b
Author: Jacek Anaszewski <j.anaszewski@samsung.com>
Date:   Fri Aug 22 11:06:18 2014 +0200

    mfd: max77693: Improve support for the flash cell
    
    This patch improves support for the flash cell of
    max77693 mfd by adding relevant of_compatible field
    and a structure for caching related platform data.
    Added are also FLASH registers related macro definitions.
    
    Signed-off-by: Jacek Anaszewski <j.anaszewski@samsung.com>
    Signed-off-by: Andrzej Hajda <a.hajda@samsung.com>
    Acked-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 3f3dc45f93ee..f0b6585cd874 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -63,6 +63,45 @@ struct max77693_muic_platform_data {
 	int path_uart;
 };
 
+/* MAX77693 led flash */
+
+/* triggers */
+enum max77693_led_trigger {
+	MAX77693_LED_TRIG_OFF,
+	MAX77693_LED_TRIG_FLASH,
+	MAX77693_LED_TRIG_TORCH,
+	MAX77693_LED_TRIG_EXT,
+	MAX77693_LED_TRIG_SOFT,
+};
+
+/* trigger types */
+enum max77693_led_trigger_type {
+	MAX77693_LED_TRIG_TYPE_EDGE,
+	MAX77693_LED_TRIG_TYPE_LEVEL,
+};
+
+/* boost modes */
+enum max77693_led_boost_mode {
+	MAX77693_LED_BOOST_NONE,
+	MAX77693_LED_BOOST_ADAPTIVE,
+	MAX77693_LED_BOOST_FIXED,
+};
+
+struct max77693_led_platform_data {
+	u32 fleds[2];
+	u32 iout_torch[2];
+	u32 iout_flash[2];
+	u32 trigger[2];
+	u32 trigger_type[2];
+	u32 num_leds;
+	u32 boost_mode;
+	u32 flash_timeout;
+	u32 boost_vout;
+	u32 low_vsys;
+};
+
+/* MAX77693 */
+
 struct max77693_platform_data {
 	/* regulator data */
 	struct max77693_regulator_data *regulators;
@@ -70,5 +109,6 @@ struct max77693_platform_data {
 
 	/* muic data */
 	struct max77693_muic_platform_data *muic_data;
+	struct max77693_led_platform_data *led_data;
 };
 #endif	/* __LINUX_MFD_MAX77693_H */

commit 4233a0aafb72985a4692a9e6af5c528811226ac1
Author: Andrzej Hajda <a.hajda@samsung.com>
Date:   Wed Aug 21 18:53:33 2013 +0200

    mfd: max77693: Remove device wakeup from driver
    
    The patch removes wakeup related code from the driver and plaftorm
    data - it is already handled by i2c core using I2C_CLIENT_WAKE flag
    from struct i2c_board_info. As a result MFD itself do not requires
    platform data.
    
    Signed-off-by: Andrzej Hajda <a.hajda@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 676f0f388992..3f3dc45f93ee 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -64,8 +64,6 @@ struct max77693_muic_platform_data {
 };
 
 struct max77693_platform_data {
-	int wakeup;
-
 	/* regulator data */
 	struct max77693_regulator_data *regulators;
 	int num_regulators;

commit 80b022e29bfdffb6c9ac0a283bcad3e1030c4c7e
Author: Jonghwa Lee <jonghwa3.lee@samsung.com>
Date:   Tue Jun 25 10:08:38 2013 +0900

    regulator: max77693: Add max77693 regualtor driver.
    
    This patch adds new regulator driver to support max77693 chip's regulators.
    max77693 has two linear voltage regulators and one current regulator which
    can be controlled through I2C bus. This driver also supports device tree.
    
    Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
    Signed-off-by: Mark Brown <broonie@linaro.org>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 3109a6c5c948..676f0f388992 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -30,6 +30,20 @@
 #ifndef __LINUX_MFD_MAX77693_H
 #define __LINUX_MFD_MAX77693_H
 
+/* MAX77686 regulator IDs */
+enum max77693_regulators {
+	MAX77693_ESAFEOUT1 = 0,
+	MAX77693_ESAFEOUT2,
+	MAX77693_CHARGER,
+	MAX77693_REG_MAX,
+};
+
+struct max77693_regulator_data {
+	int id;
+	struct regulator_init_data *initdata;
+	struct device_node *of_node;
+};
+
 struct max77693_reg_data {
 	u8 addr;
 	u8 data;
@@ -52,6 +66,10 @@ struct max77693_muic_platform_data {
 struct max77693_platform_data {
 	int wakeup;
 
+	/* regulator data */
+	struct max77693_regulator_data *regulators;
+	int num_regulators;
+
 	/* muic data */
 	struct max77693_muic_platform_data *muic_data;
 };

commit 2b75799f5ae9f31ea9778003591fd295d3bc3159
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Thu Dec 6 21:27:56 2012 +0900

    extcon: max77693: Set default uart/usb path by using platform data
    
    This patch determine default uart/usb path by using platform data.
    The MAX77693 MUIC device can possibliy set USB/UART/AUDIO/USB_AUX
    /UART_AUX to internal h/w path of MUIC device. So, drvier should
    determine default uart/usb path.
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 9aa9c203f28b..3109a6c5c948 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -40,6 +40,13 @@ struct max77693_muic_platform_data {
 	int num_init_data;
 
 	int detcable_delay_ms;
+
+	/*
+	 * Default usb/uart path whether UART/USB or AUX_UART/AUX_USB
+	 * h/w path of COMP2/COMN1 on CONTROL1 register.
+	 */
+	int path_usb;
+	int path_uart;
 };
 
 struct max77693_platform_data {

commit 297620fd1e14edf5fefa1736f873b9228336eee1
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Wed Dec 26 13:10:11 2012 +0900

    extcon: max77693: Check the state/type of cable after boot completed
    
    This patch check the state/type of cable after completing the initialization
    of platform and notify platform of cable state/type through extcon. If extcon
    provider driver notify the state/type of cable before completing platform boot,
    this uevent is unused and ignored.
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index fe03b2d35d4f..9aa9c203f28b 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -38,6 +38,8 @@ struct max77693_reg_data {
 struct max77693_muic_platform_data {
 	struct max77693_reg_data *init_data;
 	int num_init_data;
+
+	int detcable_delay_ms;
 };
 
 struct max77693_platform_data {

commit f8457d574f680a98c77846a15df13086ab1ab426
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Mon Oct 8 14:41:49 2012 +0900

    extcon: MAX77693: Add platform data for MUIC device to initialize registers
    
    This patch add platform data for MUIC device to initialize register
    on probe() call because it should unmask interrupt mask register
    and initialize some register related to MUIC device.
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 1d28ae90384e..fe03b2d35d4f 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -30,7 +30,20 @@
 #ifndef __LINUX_MFD_MAX77693_H
 #define __LINUX_MFD_MAX77693_H
 
+struct max77693_reg_data {
+	u8 addr;
+	u8 data;
+};
+
+struct max77693_muic_platform_data {
+	struct max77693_reg_data *init_data;
+	int num_init_data;
+};
+
 struct max77693_platform_data {
 	int wakeup;
+
+	/* muic data */
+	struct max77693_muic_platform_data *muic_data;
 };
 #endif	/* __LINUX_MFD_MAX77693_H */

commit 6592ebb3979c1ec0e37eb06553ef5ce9d6f5f025
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Mon May 14 22:54:20 2012 +0200

    mfd: Add MAX77693 irq handler
    
    This patch supports IRQ handling for MAX77693.
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
index 5020b8616daa..1d28ae90384e 100644
--- a/include/linux/mfd/max77693.h
+++ b/include/linux/mfd/max77693.h
@@ -31,7 +31,6 @@
 #define __LINUX_MFD_MAX77693_H
 
 struct max77693_platform_data {
-	/* IRQ */
 	int wakeup;
 };
 #endif	/* __LINUX_MFD_MAX77693_H */

commit 83871c00bb43f41d85dd15aba56a83bbb191eabc
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Mon May 14 22:50:39 2012 +0200

    mfd: Add MAX77693 driver
    
    This patch adds MFD driver for MAX77693 to enable its sub devices.
    
    The MAX77693 is a multi-function devices. It includes PMIC,
    MUIC(Micro USB Interface Controller), flash LED control and
    haptic motor control.
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/include/linux/mfd/max77693.h b/include/linux/mfd/max77693.h
new file mode 100644
index 000000000000..5020b8616daa
--- /dev/null
+++ b/include/linux/mfd/max77693.h
@@ -0,0 +1,37 @@
+/*
+ * max77693.h - Driver for the Maxim 77693
+ *
+ *  Copyright (C) 2012 Samsung Electrnoics
+ *  SangYoung Son <hello.son@samsung.com>
+ *
+ * This program is not provided / owned by Maxim Integrated Products.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * This driver is based on max8997.h
+ *
+ * MAX77693 has PMIC, Charger, Flash LED, Haptic, MUIC devices.
+ * The devices share the same I2C bus and included in
+ * this mfd driver.
+ */
+
+#ifndef __LINUX_MFD_MAX77693_H
+#define __LINUX_MFD_MAX77693_H
+
+struct max77693_platform_data {
+	/* IRQ */
+	int wakeup;
+};
+#endif	/* __LINUX_MFD_MAX77693_H */
