commit 9e288cefcc551c7b5b04f8abc7099d3451a70f5f
Author: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Date:   Tue Sep 25 09:34:05 2018 +0200

    clk: renesas: Convert to SPDX identifiers
    
    This patch updates license to use SPDX-License-Identifier
    instead of verbose license text.
    
    Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
    [rebased against clk-spdx]
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Reviewed-by: Simon Horman <horms+renesas@verge.net.au>
    Signed-off-by: Stephen Boyd <sboyd@kernel.org>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 9ebf1f8243bb..0ebbe2f0b45e 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -1,14 +1,10 @@
-/*
+/* SPDX-License-Identifier: GPL-2.0+
+ *
  * Copyright 2013 Ideas On Board SPRL
  * Copyright 2013, 2014 Horms Solutions Ltd.
  *
  * Contact: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
  * Contact: Simon Horman <horms@verge.net.au>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
  */
 
 #ifndef __LINUX_CLK_RENESAS_H_

commit 3e91d07bb592895982400002020d510fd7b6e85f
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Wed Jun 1 15:26:53 2016 +0200

    clk: renesas: rcar-gen2: Remove obsolete rcar_gen2_clocks_init()
    
    The R-Car Gen2 board code no longer calls rcar_gen2_clocks_init().
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Dirk Behme <dirk.behme@de.bosch.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 9e969941f3f6..9ebf1f8243bb 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -20,8 +20,6 @@ struct device;
 struct device_node;
 struct generic_pm_domain;
 
-void rcar_gen2_clocks_init(u32 mode);
-
 void cpg_mstp_add_clk_domain(struct device_node *np);
 #ifdef CONFIG_CLK_RENESAS_CPG_MSTP
 int cpg_mstp_attach_dev(struct generic_pm_domain *unused, struct device *dev);

commit b9fe9421d06653d735df07954730795d907e618d
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Wed Jun 1 15:24:58 2016 +0200

    clk: renesas: r8a7779: Remove obsolete r8a7779_clocks_init()
    
    The R-Car H1 board code no longer calls r8a7779_clocks_init().
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Dirk Behme <dirk.behme@de.bosch.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 2b663bba1adc..9e969941f3f6 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -20,7 +20,6 @@ struct device;
 struct device_node;
 struct generic_pm_domain;
 
-void r8a7779_clocks_init(u32 mode);
 void rcar_gen2_clocks_init(u32 mode);
 
 void cpg_mstp_add_clk_domain(struct device_node *np);

commit 7978a78c828ac8d5351b85480e60ada865b9bea9
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Wed Jun 1 15:23:22 2016 +0200

    clk: renesas: r8a7778: Remove obsolete r8a7778_clocks_init()
    
    The R-Car M1A board code no longer calls r8a7778_clocks_init().
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Dirk Behme <dirk.behme@de.bosch.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index ba6fa4148515..2b663bba1adc 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -20,7 +20,6 @@ struct device;
 struct device_node;
 struct generic_pm_domain;
 
-void r8a7778_clocks_init(u32 mode);
 void r8a7779_clocks_init(u32 mode);
 void rcar_gen2_clocks_init(u32 mode);
 

commit 2066390ad47b374f3d35075a32325b47d15bf735
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Fri Mar 4 17:03:46 2016 +0100

    clk: renesas: cpg-mssr: Export cpg_mssr_{at,de}tach_dev()
    
    The R-Car SYSC PM Domain driver has to power manage devices in power
    areas using clocks. To reuse code and to share knowledge of clocks
    suitable for power management, this is ideally done through the existing
    cpg_mssr_attach_dev() and cpg_mssr_detach_dev() callbacks.
    
    Hence these callbacks can no longer rely on their "domain" parameter
    pointing to the CPG/MSSR Clock Domain. To handle this, keep a pointer to
    the clock domain in a static variable. cpg_mssr_attach_dev() has to
    support probe deferral, as the R-Car SYSC PM Domain may be initialized,
    and devices may be added to it, before the CPG/MSSR Clock Domain is
    initialized.
    
    Dummy callbacks are provided for the case where CPG/MSTP support is not
    included, so the rcar-sysc driver won't have to care about this.
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index ab57a298a374..ba6fa4148515 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -33,4 +33,11 @@ void cpg_mstp_detach_dev(struct generic_pm_domain *unused, struct device *dev);
 #define cpg_mstp_detach_dev	NULL
 #endif
 
+#ifdef CONFIG_CLK_RENESAS_CPG_MSSR
+int cpg_mssr_attach_dev(struct generic_pm_domain *unused, struct device *dev);
+void cpg_mssr_detach_dev(struct generic_pm_domain *unused, struct device *dev);
+#else
+#define cpg_mssr_attach_dev	NULL
+#define cpg_mssr_detach_dev	NULL
+#endif
 #endif

commit 12524e348bcb2189a8cf43829e90256f7e7d4f3d
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Wed Apr 13 11:18:06 2016 +0200

    clk: renesas: mstp: Provide dummy attach/detach_dev callbacks
    
    Provide dummy cpg_mstp_{at,de}tach_dev() PM Domain callbacks if CPG/MSTP
    support is not included, so the rcar-sysc driver won't have to care
    about this.
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 095b1681daf4..ab57a298a374 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -25,7 +25,12 @@ void r8a7779_clocks_init(u32 mode);
 void rcar_gen2_clocks_init(u32 mode);
 
 void cpg_mstp_add_clk_domain(struct device_node *np);
+#ifdef CONFIG_CLK_RENESAS_CPG_MSTP
 int cpg_mstp_attach_dev(struct generic_pm_domain *unused, struct device *dev);
 void cpg_mstp_detach_dev(struct generic_pm_domain *unused, struct device *dev);
+#else
+#define cpg_mstp_attach_dev	NULL
+#define cpg_mstp_detach_dev	NULL
+#endif
 
 #endif

commit 12a56817b329d8a73ab53bad09aa976aeea46db9
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Fri Mar 4 16:59:26 2016 +0100

    clk: renesas: mstp: Clarify cpg_mstp_{at,de}tach_dev() domain parameter
    
    Make it clear that the "domain" parameter of the cpg_mstp_attach_dev()
    and cpg_mstp_detach_dev() functions is not used.
    
    The cpg_mstp_attach_dev() and cpg_mstp_detach_dev() callbacks are not
    only used by the CPG/MSTP Clock Domain driver, but also by the R-Mobile
    SYSC PM Domain driver.
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 2a3379cf1330..095b1681daf4 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -25,7 +25,7 @@ void r8a7779_clocks_init(u32 mode);
 void rcar_gen2_clocks_init(u32 mode);
 
 void cpg_mstp_add_clk_domain(struct device_node *np);
-int cpg_mstp_attach_dev(struct generic_pm_domain *domain, struct device *dev);
-void cpg_mstp_detach_dev(struct generic_pm_domain *domain, struct device *dev);
+int cpg_mstp_attach_dev(struct generic_pm_domain *unused, struct device *dev);
+void cpg_mstp_detach_dev(struct generic_pm_domain *unused, struct device *dev);
 
 #endif

commit 848fc67da5fb43ef7d92d20891eef79f5de45816
Author: Geert Uytterhoeven <geert+renesas@glider.be>
Date:   Fri Mar 4 15:32:40 2016 +0100

    clk: renesas: mstp: Drop check for CONFIG_PM_GENERIC_DOMAINS_OF
    
    As of commit 71d076ceb245f0d9 ("ARM: shmobile: Enable PM and
    PM_GENERIC_DOMAINS for SoCs with PM Domains"),
    CONFIG_PM_GENERIC_DOMAINS_OF is always enabled for SoCs with MSTP
    clocks.
    
    Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
index 7adfd80fbf55..2a3379cf1330 100644
--- a/include/linux/clk/renesas.h
+++ b/include/linux/clk/renesas.h
@@ -24,12 +24,8 @@ void r8a7778_clocks_init(u32 mode);
 void r8a7779_clocks_init(u32 mode);
 void rcar_gen2_clocks_init(u32 mode);
 
-#ifdef CONFIG_PM_GENERIC_DOMAINS_OF
 void cpg_mstp_add_clk_domain(struct device_node *np);
 int cpg_mstp_attach_dev(struct generic_pm_domain *domain, struct device *dev);
 void cpg_mstp_detach_dev(struct generic_pm_domain *domain, struct device *dev);
-#else
-static inline void cpg_mstp_add_clk_domain(struct device_node *np) {}
-#endif
 
 #endif

commit 09c32427c9e9e861e5aeaf9e08ba0b4a3cfca917
Author: Simon Horman <horms+renesas@verge.net.au>
Date:   Tue Mar 8 09:42:07 2016 +0900

    clk: renesas: Rename header file renesas.h
    
    This is part of an ongoing process to migrate from ARCH_SHMOBILE to
    ARCH_RENESAS the motivation for which being that RENESAS seems to be a more
    appropriate name than SHMOBILE for the majority of Renesas ARM based SoCs.
    
    Along with the above mentioned Kconfig changes it seems appropriate
    to also rename files.
    
    Signed-off-by: Simon Horman <horms+renesas@verge.net.au>
    Acked-by: Geert Uytterhoeven <geert+renesas@glider.be>
    Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>

diff --git a/include/linux/clk/renesas.h b/include/linux/clk/renesas.h
new file mode 100644
index 000000000000..7adfd80fbf55
--- /dev/null
+++ b/include/linux/clk/renesas.h
@@ -0,0 +1,35 @@
+/*
+ * Copyright 2013 Ideas On Board SPRL
+ * Copyright 2013, 2014 Horms Solutions Ltd.
+ *
+ * Contact: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
+ * Contact: Simon Horman <horms@verge.net.au>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ */
+
+#ifndef __LINUX_CLK_RENESAS_H_
+#define __LINUX_CLK_RENESAS_H_
+
+#include <linux/types.h>
+
+struct device;
+struct device_node;
+struct generic_pm_domain;
+
+void r8a7778_clocks_init(u32 mode);
+void r8a7779_clocks_init(u32 mode);
+void rcar_gen2_clocks_init(u32 mode);
+
+#ifdef CONFIG_PM_GENERIC_DOMAINS_OF
+void cpg_mstp_add_clk_domain(struct device_node *np);
+int cpg_mstp_attach_dev(struct generic_pm_domain *domain, struct device *dev);
+void cpg_mstp_detach_dev(struct generic_pm_domain *domain, struct device *dev);
+#else
+static inline void cpg_mstp_add_clk_domain(struct device_node *np) {}
+#endif
+
+#endif
