commit d2912cb15bdda8ba4a5dd73396ad62641af2f520
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Tue Jun 4 10:11:33 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 500
    
    Based on 2 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation #
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 4122 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Enrico Weigelt <info@metux.net>
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190604081206.933168790@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/linux/power/generic-adc-battery.h b/include/linux/power/generic-adc-battery.h
index b1ebe08533b6..40f9c7628f7b 100644
--- a/include/linux/power/generic-adc-battery.h
+++ b/include/linux/power/generic-adc-battery.h
@@ -1,8 +1,6 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 /*
  * Copyright (C) 2012, Anish Kumar <anish198519851985@gmail.com>
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
  */
 
 #ifndef GENERIC_ADC_BATTERY_H

commit e60fea794e6ecb9ea4df2623c9498412afe31d4d
Author: anish kumar <anish198519851985@gmail.com>
Date:   Fri Sep 21 17:10:00 2012 +0100

    power: battery: Generic battery driver using IIO
    
    Driver to allow use of the ADC drivers supported by the IIO
    subsystem for battery status monitoring. Connecting this
    driver to the relevant IIO device requires registration of
    the appropriate iio_map structure array by the IIO device
    driver (usually from platform data).  If specified the driver
    will also make use of a gpio to provide interrupt driven
    notification that the battery is fully charged.
    
    In last version:
    Addressed concerns raised by lars:
    a. made the adc_bat per device.
    b. get the IIO channel using hardcoded channel names.
    c. Minor issues related to gpio_is_valid and some code
       refactoring.
    
    In V1:
    Addressed concerns raised by Anton:
    a. changed the struct name to gab(generic adc battery).
    b. Added some functions to neaten the code.
    c. Some minor coding guidelines changes.
    d. Used the latest function introduce by lars:
       iio_read_channel_processed to streamline the code.
    
    In V2:
    Addressed concerns by lars:
    a. No need of allocating memory for channels.Make it array.
    b. Code restructring, coding style and following kernel guidelines changes
       suggested by him.
    
    In V3:
    Addressed conerns by Anton:
    a. Added the copyright.
    b. Coding guidelines changes suggested by him.
    c. Added Makefile and Kconfig
    
    Signed-off-by: anish kumar <anish198519851985@gmail.com>
    Acked-by: Anton Vorontsov <cbouatmailru@gmail.com>
    Signed-off-by: Jonathan Cameron <jic23@kernel.org>

diff --git a/include/linux/power/generic-adc-battery.h b/include/linux/power/generic-adc-battery.h
new file mode 100644
index 000000000000..b1ebe08533b6
--- /dev/null
+++ b/include/linux/power/generic-adc-battery.h
@@ -0,0 +1,29 @@
+/*
+ * Copyright (C) 2012, Anish Kumar <anish198519851985@gmail.com>
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#ifndef GENERIC_ADC_BATTERY_H
+#define GENERIC_ADC_BATTERY_H
+
+/**
+ * struct gab_platform_data - platform_data for generic adc iio battery driver.
+ * @battery_info:         recommended structure to specify static power supply
+ *			   parameters
+ * @cal_charge:           calculate charge level.
+ * @gpio_charge_finished: gpio for the charger.
+ * @gpio_inverted:        Should be 1 if the GPIO is active low otherwise 0
+ * @jitter_delay:         delay required after the interrupt to check battery
+ *			  status.Default set is 10ms.
+ */
+struct gab_platform_data {
+	struct power_supply_info battery_info;
+	int	(*cal_charge)(long value);
+	int	gpio_charge_finished;
+	bool	gpio_inverted;
+	int     jitter_delay;
+};
+
+#endif /* GENERIC_ADC_BATTERY_H */
