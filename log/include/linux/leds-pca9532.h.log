commit b886d83c5b621abc84ff9616f14c529be3f6b147
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Sat Jun 1 10:08:55 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 441
    
    Based on 1 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license as published by
      the free software foundation version 2 of the license
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 315 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Reviewed-by: Armijn Hemel <armijn@tjaldur.nl>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190531190115.503150771@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index 5e240b2b4d58..f4796d333974 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -1,14 +1,10 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 /*
  * pca9532.h - platform data structure for pca9532 led controller
  *
  * Copyright (C) 2008 Riku Voipio <riku.voipio@movial.fi>
  *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; version 2 of the License.
- *
  * Datasheet: http://www.nxp.com/acrobat/datasheets/PCA9532_3.pdf
- *
  */
 
 #ifndef __LINUX_PCA9532_H

commit 28c5fe99016d28f15d1b825df8acb1558a3a63a1
Author: Felix Brack <fb@ltec.ch>
Date:   Thu Apr 13 09:51:38 2017 +0200

    leds: pca9532: Extend pca9532 device tree support
    
    This patch extends the device tree support for the pca9532 by adding
    the leds 'default-state' property.
    
    Signed-off-by: Felix Brack <fb@ltec.ch>
    Signed-off-by: Jacek Anaszewski <jacek.anaszewski@gmail.com>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index d215b4561180..5e240b2b4d58 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -22,7 +22,8 @@ enum pca9532_state {
 	PCA9532_OFF  = 0x0,
 	PCA9532_ON   = 0x1,
 	PCA9532_PWM0 = 0x2,
-	PCA9532_PWM1 = 0x3
+	PCA9532_PWM1 = 0x3,
+	PCA9532_KEEP = 0xff,
 };
 
 struct pca9532_led {
@@ -44,4 +45,3 @@ struct pca9532_platform_data {
 };
 
 #endif /* __LINUX_PCA9532_H */
-

commit fa4191a609f219262a18dd8b02ab7dc30896b707
Author: Phil Reid <preid@electromag.com.au>
Date:   Tue Jun 14 15:36:17 2016 +0800

    leds: pca9532: Add device tree support
    
    This patch adds basic device tree support for the pca9532 LEDs.
    
    Signed-off-by: Phil Reid <preid@electromag.com.au>
    Signed-off-by: Jacek Anaszewski <j.anaszewski@samsung.com>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index b8d6fffed4d8..d215b4561180 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -16,6 +16,7 @@
 
 #include <linux/leds.h>
 #include <linux/workqueue.h>
+#include <dt-bindings/leds/leds-pca9532.h>
 
 enum pca9532_state {
 	PCA9532_OFF  = 0x0,
@@ -24,16 +25,14 @@ enum pca9532_state {
 	PCA9532_PWM1 = 0x3
 };
 
-enum pca9532_type { PCA9532_TYPE_NONE, PCA9532_TYPE_LED,
-	PCA9532_TYPE_N2100_BEEP, PCA9532_TYPE_GPIO };
-
 struct pca9532_led {
 	u8 id;
 	struct i2c_client *client;
-	char *name;
+	const char *name;
+	const char *default_trigger;
 	struct led_classdev ldev;
 	struct work_struct work;
-	enum pca9532_type type;
+	u32 type;
 	enum pca9532_state state;
 };
 

commit 3c1ab50d0a31b27bb4e55168f4901dd91e6e5ea4
Author: Joachim Eastwood <manabian@gmail.com>
Date:   Tue May 24 17:13:23 2011 -0700

    drivers/leds/leds-pca9532.c: add gpio capability
    
    Allow unused leds on pca9532 to be used as gpio.  The board I am working
    on now has no less than 6 pca9532 chips.  One chips is used for only leds,
    one has 14 leds and 2 gpio and the rest of the chips are gpio only.
    
    There is also one board in mainline which could use this capabilty;
    arch/arm/mach-iop32x/n2100.c
     232         {       .type = PCA9532_TYPE_NONE }, /* power OFF gpio */
     233         {       .type = PCA9532_TYPE_NONE }, /* reset gpio */
    
    This patch defines a new pin type, PCA9532_TYPE_GPIO, and registers a
    gpiochip if any pin has this type set.  The gpio will registers all chip
    pins but will filter on gpio_request.
    
    [randy.dunlap@oracle.com: fix build when GPIOLIB is not enabled]
    Signed-off-by: Joachim Eastwood <joachim.eastwood@jotron.com>
    Reviewed-by: Wolfram Sang <w.sang@pengutronix.de>
    Reviewed-by: H Hartley Sweeten <hsweeten@visionengravers.com>
    Cc: Richard Purdie <rpurdie@rpsys.net>
    Cc: Grant Likely <grant.likely@secretlab.ca>
    Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com>
    Cc: Jan Weitzel <j.weitzel@phytec.de>
    Cc: Juergen Kilb <j.kilb@phytec.de>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index f158eb1149aa..b8d6fffed4d8 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -25,7 +25,7 @@ enum pca9532_state {
 };
 
 enum pca9532_type { PCA9532_TYPE_NONE, PCA9532_TYPE_LED,
-	PCA9532_TYPE_N2100_BEEP };
+	PCA9532_TYPE_N2100_BEEP, PCA9532_TYPE_GPIO };
 
 struct pca9532_led {
 	u8 id;
@@ -41,6 +41,7 @@ struct pca9532_platform_data {
 	struct pca9532_led leds[16];
 	u8 pwm[2];
 	u8 psc[2];
+	int gpio_base;
 };
 
 #endif /* __LINUX_PCA9532_H */

commit 9695fff8f84d7ab849139750036e443b85804edd
Author: Antonio Ospite <ospite@studenti.unina.it>
Date:   Sat Nov 28 12:55:51 2009 +0100

    leds: leds-pca9532.h- indent with tabs, not spaces
    
    Signed-off-by: Antonio Ospite <ospite@studenti.unina.it>
    Signed-off-by: Richard Purdie <rpurdie@linux.intel.com>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index 96eea90f01a8..f158eb1149aa 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -32,7 +32,7 @@ struct pca9532_led {
 	struct i2c_client *client;
 	char *name;
 	struct led_classdev ldev;
-       struct work_struct work;
+	struct work_struct work;
 	enum pca9532_type type;
 	enum pca9532_state state;
 };

commit 934cd3f979a1daacbd403398f2c7a8f6720c33aa
Author: Riku Voipio <riku.voipio@iki.fi>
Date:   Wed Dec 3 08:21:36 2008 +0000

    leds: leds-pcs9532 - Move i2c work to a workqueque
    
    Apparently these might be called under atomic context,
    and i2c operations may sleep. BUG found by
    Ross Burton <ross@burtonini.com>
    
    Signed-off-by: Riku Voipio <riku.voipio@iki.fi>
    Signed-off-by: Richard Purdie <rpurdie@linux.intel.com>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
index 81b4207deb95..96eea90f01a8 100644
--- a/include/linux/leds-pca9532.h
+++ b/include/linux/leds-pca9532.h
@@ -15,6 +15,7 @@
 #define __LINUX_PCA9532_H
 
 #include <linux/leds.h>
+#include <linux/workqueue.h>
 
 enum pca9532_state {
 	PCA9532_OFF  = 0x0,
@@ -31,6 +32,7 @@ struct pca9532_led {
 	struct i2c_client *client;
 	char *name;
 	struct led_classdev ldev;
+       struct work_struct work;
 	enum pca9532_type type;
 	enum pca9532_state state;
 };

commit e14fa82439d33cef67eaafc1a48960bbfa610c8e
Author: Riku Voipio <riku.voipio@iki.fi>
Date:   Sat May 31 14:43:41 2008 +0100

    leds: Add pca9532 led driver
    
    NXP pca9532 is a LED dimmer/controller attached to i2c bus.  It allows
    attaching upto 16 leds which can either be on, off or dimmed and/or blinked
    with the two PWM modulators available.
    
    This driver is a "new-style" i2c driver that adheres to the driver model and
    implements the led framework api.  Since the leds connected to the driver are
    platform specific, it is only useful when platform data is passed to the
    driver to define what leds are connected to which pins.
    
    Signed-off-by: Riku Voipio <riku.voipio@iki.fi>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>

diff --git a/include/linux/leds-pca9532.h b/include/linux/leds-pca9532.h
new file mode 100644
index 000000000000..81b4207deb95
--- /dev/null
+++ b/include/linux/leds-pca9532.h
@@ -0,0 +1,45 @@
+/*
+ * pca9532.h - platform data structure for pca9532 led controller
+ *
+ * Copyright (C) 2008 Riku Voipio <riku.voipio@movial.fi>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; version 2 of the License.
+ *
+ * Datasheet: http://www.nxp.com/acrobat/datasheets/PCA9532_3.pdf
+ *
+ */
+
+#ifndef __LINUX_PCA9532_H
+#define __LINUX_PCA9532_H
+
+#include <linux/leds.h>
+
+enum pca9532_state {
+	PCA9532_OFF  = 0x0,
+	PCA9532_ON   = 0x1,
+	PCA9532_PWM0 = 0x2,
+	PCA9532_PWM1 = 0x3
+};
+
+enum pca9532_type { PCA9532_TYPE_NONE, PCA9532_TYPE_LED,
+	PCA9532_TYPE_N2100_BEEP };
+
+struct pca9532_led {
+	u8 id;
+	struct i2c_client *client;
+	char *name;
+	struct led_classdev ldev;
+	enum pca9532_type type;
+	enum pca9532_state state;
+};
+
+struct pca9532_platform_data {
+	struct pca9532_led leds[16];
+	u8 pwm[2];
+	u8 psc[2];
+};
+
+#endif /* __LINUX_PCA9532_H */
+
