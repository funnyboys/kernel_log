commit 3467f0d433016c45d1851f3587d32816b7b2ffb0
Author: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Date:   Thu Jun 23 16:57:09 2016 +0200

    ath9k: Allow configuration of LED polarity in platform data.
    
    Some devices running OpenWrt need this and it makes sense to add this
    to ath9k_platform_data as the next patches will add a devicetree
    (boolean) property for it as well.
    
    Suggested-by: Vittorio Gambaletta <openwrt@vittgam.net>
    Signed-off-by: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
    Signed-off-by: Kalle Valo <kvalo@qca.qualcomm.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index e66153d60bd5..76860a461ed2 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -40,6 +40,7 @@ struct ath9k_platform_data {
 	bool tx_gain_buffalo;
 	bool disable_2ghz;
 	bool disable_5ghz;
+	bool led_active_high;
 
 	int (*get_mac_revision)(void);
 	int (*external_reset)(void);

commit c8770bcf5cefa8cbfae21c07c4fe3428f5a9d42a
Author: Miaoqing Pan <miaoqing@codeaurora.org>
Date:   Mon Mar 7 10:38:18 2016 +0800

    ath9k: Allow platform override BTCoex pin
    
    Add new platform data to allow override BTCoex default pin.
    
    Signed-off-by: Miaoqing Pan <miaoqing@codeaurora.org>
    Signed-off-by: Kalle Valo <kvalo@qca.qualcomm.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 33eb274cd0e6..e66153d60bd5 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -31,6 +31,10 @@ struct ath9k_platform_data {
 	u32 gpio_mask;
 	u32 gpio_val;
 
+	u32 bt_active_pin;
+	u32 bt_priority_pin;
+	u32 wlan_active_pin;
+
 	bool endian_check;
 	bool is_clk_25mhz;
 	bool tx_gain_buffalo;

commit 3468968ef766d7bb4ab29c0ef7ebd169a4ac2e96
Author: Felix Fietkau <nbd@openwrt.org>
Date:   Sat Oct 25 17:19:34 2014 +0200

    ath9k: allow disabling bands via platform data
    
    Some devices have multiple bands enables in the EEPROM data, even though
    they are only calibrated for one. Allow platform data to disable
    unsupported bands.
    
    Signed-off-by: Gabor Juhos <juhosg@openwrt.org>
    Signed-off-by: Felix Fietkau <nbd@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 43501657bce9..33eb274cd0e6 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -34,6 +34,8 @@ struct ath9k_platform_data {
 	bool endian_check;
 	bool is_clk_25mhz;
 	bool tx_gain_buffalo;
+	bool disable_2ghz;
+	bool disable_5ghz;
 
 	int (*get_mac_revision)(void);
 	int (*external_reset)(void);

commit a59dadbeeaf7d33f2e92dbf5a290965d6df64162
Author: Felix Fietkau <nbd@openwrt.org>
Date:   Sat Oct 25 17:19:33 2014 +0200

    ath9k: add support for endian swap of eeprom from platform data
    
    On some devices (especially little-endian ones), the flash EEPROM data
    has a different endian, which needs to be detected.
    Add a flag to the platform data to allow overriding that behavior
    
    Signed-off-by: Felix Fietkau <nbd@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index a495a959e8a7..43501657bce9 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -31,6 +31,7 @@ struct ath9k_platform_data {
 	u32 gpio_mask;
 	u32 gpio_val;
 
+	bool endian_check;
 	bool is_clk_25mhz;
 	bool tx_gain_buffalo;
 

commit 552a515707a5caf9fa9f3620d68fc28146c6b1b9
Author: Helmut Schaa <helmut.schaa@googlemail.com>
Date:   Wed May 7 09:28:31 2014 +0200

    ath9k: Allow platform override without EEPROM override
    
    Add a new platform data flag "use_eeprom" that indicates that the eeprom
    found on the card itself should be used instead of the one present in
    the platform data.
    
    This allows to override the MAC address of a PCI card while preserving
    the eeprom data from the card itself.
    
    The default behavior is preserved.
    
    Signed-off-by: Helmut Schaa <helmut.schaa@googlemail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 8598f8eacb20..a495a959e8a7 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -36,6 +36,8 @@ struct ath9k_platform_data {
 
 	int (*get_mac_revision)(void);
 	int (*external_reset)(void);
+
+	bool use_eeprom;
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit 0f978bfaf2600040f9826f394eb12e023bef3068
Author: Sujith Manoharan <c_manoha@qca.qualcomm.com>
Date:   Fri Dec 6 16:28:45 2013 +0530

    ath9k: Use a separate TX gain table for WZR-HP-G450H
    
    The Buffalo device WZR-HP-G450H uses the index 3 for TX gain,
    which is set to the high_power table currently. Later variants
    of the router use the same index, but instead refer to the
    low_ob_db gain table. This is not handled in the driver since
    there is no way to distinguish board revisions and the high_power
    table is used (incorrectly) for the newer variants.
    
    By default, devices based on AR9300 using the TX gain index 3 have
    to use the high_power table. To make sure that WZR-HP-G450H is not
    broken when the high_power table is updated, use a separate array
    based on information obtained from the platform data.
    
    The current situation where only the original variant of WZR-HP-G450H
    works properly stays unchanged.
    
    Signed-off-by: Sujith Manoharan <c_manoha@qca.qualcomm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index fcdd81bd5314..8598f8eacb20 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -32,6 +32,8 @@ struct ath9k_platform_data {
 	u32 gpio_val;
 
 	bool is_clk_25mhz;
+	bool tx_gain_buffalo;
+
 	int (*get_mac_revision)(void);
 	int (*external_reset)(void);
 };

commit ab5c4f71d8c7add173a2d32e5beefdaaf1b7cbbc
Author: Gabor Juhos <juhosg@openwrt.org>
Date:   Mon Dec 10 15:30:28 2012 +0100

    ath9k: allow to load EEPROM content via firmware API
    
    The calibration data for devices w/o a separate
    EEPROM chip can be specified via the 'eeprom_data'
    field of 'ath9k_platform_data'. The 'eeprom_data'
    is usually filled from board specific setup
    functions. It is easy if the EEPROM data is mapped
    to the memory, but it can be complicated if it is
    stored elsewhere.
    
    The patch adds support for loading of the EEPROM
    data via the firmware API to avoid this limitation.
    
    Signed-off-by: Gabor Juhos <juhosg@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 6e3f54f37844..fcdd81bd5314 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -22,6 +22,8 @@
 #define ATH9K_PLAT_EEP_MAX_WORDS	2048
 
 struct ath9k_platform_data {
+	const char *eeprom_name;
+
 	u16 eeprom_data[ATH9K_PLAT_EEP_MAX_WORDS];
 	u8 *macaddr;
 

commit 7d95847c9b3631d31f657d8cede153b518ed9e2e
Author: Gabor Juhos <juhosg@openwrt.org>
Date:   Tue Jun 21 11:23:51 2011 +0200

    ath9k: add external_reset callback to ath9k_platfom_data for AR9330
    
    The patch adds a callback to ath9k_platform_data. If the
    callback is provided by the platform code, then it can be
    used to hard reset the WMAC device.
    
    The callback is required for doing a hard reset of the AR9330
    chips to get them working again after a hang.
    
    Signed-off-by: Gabor Juhos <juhosg@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index c207607acada..6e3f54f37844 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -31,6 +31,7 @@ struct ath9k_platform_data {
 
 	bool is_clk_25mhz;
 	int (*get_mac_revision)(void);
+	int (*external_reset)(void);
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit 3762561aa8afb0bd9fb60d3d847961f9945f8143
Author: Gabor Juhos <juhosg@openwrt.org>
Date:   Tue Jun 21 11:23:23 2011 +0200

    ath9k: add MAC revision detection for AR9330
    
    The AR9330 1.0 and 1.1 are using the same revision,
    thus it is not possible to distinguish the two chips.
    The platform setup code can distinguish the chips based
    on the SoC revision.
    
    Add a callback function to ath9k_platform_data in order
    to allow getting the revision number from the platform code.
    
    Signed-off-by: Gabor Juhos <juhosg@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 60a7c49dcb49..c207607acada 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -30,6 +30,7 @@ struct ath9k_platform_data {
 	u32 gpio_val;
 
 	bool is_clk_25mhz;
+	int (*get_mac_revision)(void);
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit f2f5f2a1cedc803a5a517557d436e6cb10c007de
Author: Vasanthakumar Thiagarajan <vasanth@atheros.com>
Date:   Tue Apr 19 19:29:01 2011 +0530

    ath9k_hw: Get AHB clock information from ath9k_platform_data
    
    Add a bool in ath9k_platform_data to pass AHB clock speed information.
    Driver needs this to configure PLL on some SOCs.
    
    Signed-off-by: Vasanthakumar Thiagarajan <vasanth@atheros.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index 020387a114e3..60a7c49dcb49 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -28,6 +28,8 @@ struct ath9k_platform_data {
 	int led_pin;
 	u32 gpio_mask;
 	u32 gpio_val;
+
+	bool is_clk_25mhz;
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit 6de66dd963ddd669667a81a2401f2fd6472ff55c
Author: Felix Fietkau <nbd@openwrt.org>
Date:   Sat Mar 19 13:55:40 2011 +0100

    ath9k: add support for overriding LED pin and GPIO settings from platform data
    
    Signed-off-by: Felix Fietkau <nbd@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index b5f06583a1ba..020387a114e3 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -24,6 +24,10 @@
 struct ath9k_platform_data {
 	u16 eeprom_data[ATH9K_PLAT_EEP_MAX_WORDS];
 	u8 *macaddr;
+
+	int led_pin;
+	u32 gpio_mask;
+	u32 gpio_val;
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit 6fb1b1e18fe3d141c54182c5d5b3af823bed455f
Author: Felix Fietkau <nbd@openwrt.org>
Date:   Sat Mar 19 13:55:39 2011 +0100

    ath9k: add support for overriding the MAC address through platform data
    
    On some devices the correct MAC address is not in the EEPROM data, but
    stored somewhere else.
    
    Signed-off-by: Felix Fietkau <nbd@openwrt.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
index b847fc7b93f9..b5f06583a1ba 100644
--- a/include/linux/ath9k_platform.h
+++ b/include/linux/ath9k_platform.h
@@ -23,6 +23,7 @@
 
 struct ath9k_platform_data {
 	u16 eeprom_data[ATH9K_PLAT_EEP_MAX_WORDS];
+	u8 *macaddr;
 };
 
 #endif /* _LINUX_ATH9K_PLATFORM_H */

commit 9dbeb91a8b97e2892c04461e28d2bdd0198b719d
Author: Gabor Juhos <juhosg@openwrt.org>
Date:   Wed Jan 14 20:17:08 2009 +0100

    ath9k: get EEPROM contents from platform data on AHB bus
    
    On the AR913x SOCs we have to provide EEPROM contents via platform_data,
    because accessing the flash via MMIO is not safe. Additionally different
    boards may store the radio calibration data at different locations.
    
    Changes-licensed-under: ISC
    
    Signed-off-by: Gabor Juhos <juhosg@openwrt.org>
    Signed-off-by: Imre Kaloz <kaloz@openwrt.org>
    Tested-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/include/linux/ath9k_platform.h b/include/linux/ath9k_platform.h
new file mode 100644
index 000000000000..b847fc7b93f9
--- /dev/null
+++ b/include/linux/ath9k_platform.h
@@ -0,0 +1,28 @@
+/*
+ * Copyright (c) 2008 Atheros Communications Inc.
+ * Copyright (c) 2009 Gabor Juhos <juhosg@openwrt.org>
+ * Copyright (c) 2009 Imre Kaloz <kaloz@openwrt.org>
+ *
+ * Permission to use, copy, modify, and/or distribute this software for any
+ * purpose with or without fee is hereby granted, provided that the above
+ * copyright notice and this permission notice appear in all copies.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
+ * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
+ * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
+ * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
+ * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
+ * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
+ * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+ */
+
+#ifndef _LINUX_ATH9K_PLATFORM_H
+#define _LINUX_ATH9K_PLATFORM_H
+
+#define ATH9K_PLAT_EEP_MAX_WORDS	2048
+
+struct ath9k_platform_data {
+	u16 eeprom_data[ATH9K_PLAT_EEP_MAX_WORDS];
+};
+
+#endif /* _LINUX_ATH9K_PLATFORM_H */
