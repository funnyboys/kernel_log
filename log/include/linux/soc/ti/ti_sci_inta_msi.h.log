commit 49b323157bf1e70bfb3114a463d340399906c43a
Author: Lokesh Vutla <lokeshvutla@ti.com>
Date:   Tue Apr 30 15:42:28 2019 +0530

    soc: ti: Add MSI domain bus support for Interrupt Aggregator
    
    With the system coprocessor managing the range allocation of the
    inputs to Interrupt Aggregator, it is difficult to represent
    the device IRQs from DT.
    
    The suggestion is to use MSI in such cases where devices wants
    to allocate and group interrupts dynamically.
    
    Create a MSI domain bus layer that allocates and frees MSIs for
    a device.
    
    APIs that are implemented:
    - ti_sci_inta_msi_create_irq_domain() that creates a MSI domain
    - ti_sci_inta_msi_domain_alloc_irqs() that creates MSIs for the
      specified device and resource.
    - ti_sci_inta_msi_domain_free_irqs() frees the irqs attached to the device.
    - ti_sci_inta_msi_get_virq() for getting the virq attached to a specific event.
    
    Signed-off-by: Lokesh Vutla <lokeshvutla@ti.com>
    Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>

diff --git a/include/linux/soc/ti/ti_sci_inta_msi.h b/include/linux/soc/ti/ti_sci_inta_msi.h
new file mode 100644
index 000000000000..11fb5048f5f6
--- /dev/null
+++ b/include/linux/soc/ti/ti_sci_inta_msi.h
@@ -0,0 +1,23 @@
+/* SPDX-License-Identifier: GPL-2.0 */
+/*
+ * Texas Instruments' K3 TI SCI INTA MSI helper
+ *
+ * Copyright (C) 2018-2019 Texas Instruments Incorporated - http://www.ti.com/
+ *	Lokesh Vutla <lokeshvutla@ti.com>
+ */
+
+#ifndef __INCLUDE_LINUX_TI_SCI_INTA_MSI_H
+#define __INCLUDE_LINUX_TI_SCI_INTA_MSI_H
+
+#include <linux/msi.h>
+#include <linux/soc/ti/ti_sci_protocol.h>
+
+struct irq_domain
+*ti_sci_inta_msi_create_irq_domain(struct fwnode_handle *fwnode,
+				   struct msi_domain_info *info,
+				   struct irq_domain *parent);
+int ti_sci_inta_msi_domain_alloc_irqs(struct device *dev,
+				      struct ti_sci_resource *res);
+unsigned int ti_sci_inta_msi_get_virq(struct device *dev, u32 index);
+void ti_sci_inta_msi_domain_free_irqs(struct device *dev);
+#endif /* __INCLUDE_LINUX_IRQCHIP_TI_SCI_INTA_H */
