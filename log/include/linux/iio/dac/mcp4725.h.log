commit 80503b23b23b5b2228d8750b786eb182f2fa28d2
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Fri May 24 12:04:09 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 149
    
    Based on 1 normalized pattern(s):
    
      licensed under the gpl 2 or later
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-or-later
    
    has been chosen to replace the boilerplate/reference in 82 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Reviewed-by: Richard Fontana <rfontana@redhat.com>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190524100845.150836982@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/linux/iio/dac/mcp4725.h b/include/linux/iio/dac/mcp4725.h
index 628b2cf54c50..e9801c8d49c0 100644
--- a/include/linux/iio/dac/mcp4725.h
+++ b/include/linux/iio/dac/mcp4725.h
@@ -1,9 +1,8 @@
+/* SPDX-License-Identifier: GPL-2.0-or-later */
 /*
  * MCP4725 DAC driver
  *
  * Copyright (C) 2012 Peter Meerwald <pmeerw@pmeerw.net>
- *
- * Licensed under the GPL-2 or later.
  */
 
 #ifndef IIO_DAC_MCP4725_H_

commit 29157c6d601db8cb9f3bea93fc933b73db3bf869
Author: Tomas Novotny <tomas@novotny.cz>
Date:   Tue Oct 18 19:43:08 2016 +0200

    iio: dac: mcp4725: support voltage reference selection
    
    MCP47x6 chip supports selection of a voltage reference (VDD, VREF buffered
    or unbuffered). MCP4725 doesn't have this feature thus the eventual setting
    is ignored and user is warned.
    
    The setting is stored only in the volatile memory of the chip. You need to
    manually store it to the EEPROM of the chip via 'store_eeprom' sysfs entry.
    
    Signed-off-by: Tomas Novotny <tomas@novotny.cz>
    Signed-off-by: Jonathan Cameron <jic23@kernel.org>

diff --git a/include/linux/iio/dac/mcp4725.h b/include/linux/iio/dac/mcp4725.h
index 7c062e8d2a48..628b2cf54c50 100644
--- a/include/linux/iio/dac/mcp4725.h
+++ b/include/linux/iio/dac/mcp4725.h
@@ -9,7 +9,18 @@
 #ifndef IIO_DAC_MCP4725_H_
 #define IIO_DAC_MCP4725_H_
 
+/**
+ * struct mcp4725_platform_data - MCP4725/6 DAC specific data.
+ * @use_vref: Whether an external reference voltage on Vref pin should be used.
+ *            Additional vref-supply must be specified when used.
+ * @vref_buffered: Controls buffering of the external reference voltage.
+ *
+ * Vref related settings are available only on MCP4756. See
+ * Documentation/devicetree/bindings/iio/dac/mcp4725.txt for more information.
+ */
 struct mcp4725_platform_data {
+	bool use_vref;
+	bool vref_buffered;
 };
 
 #endif /* IIO_DAC_MCP4725_H_ */

commit b440f1d90ec54fd2586537ea46e958343ad4b151
Author: Tomas Novotny <tomas@novotny.cz>
Date:   Tue Oct 11 15:57:40 2016 +0200

    iio: dac: mcp4725: use regulator framework
    
    Use a standard framework to get the reference voltage. It is done that way
    in the iio subsystem and it will simplify extending of the driver.
    
    Structure mcp4725_platform_data is left undeleted because it used in the
    next patch.
    
    This change breaks the current users of the driver, but there is no
    mainline user of struct mcp4725_platform_data.
    
    Signed-off-by: Tomas Novotny <tomas@novotny.cz>
    Signed-off-by: Jonathan Cameron <jic23@kernel.org>

diff --git a/include/linux/iio/dac/mcp4725.h b/include/linux/iio/dac/mcp4725.h
index 91530e6611e9..7c062e8d2a48 100644
--- a/include/linux/iio/dac/mcp4725.h
+++ b/include/linux/iio/dac/mcp4725.h
@@ -10,7 +10,6 @@
 #define IIO_DAC_MCP4725_H_
 
 struct mcp4725_platform_data {
-	u16 vref_mv;
 };
 
 #endif /* IIO_DAC_MCP4725_H_ */

commit cf35ad61aca2c0c8983fa1e140c901f6588aba7e
Author: Peter Meerwald <pmeerw@pmeerw.net>
Date:   Fri Jun 8 18:06:45 2012 +0200

    iio: add mcp4725 I2C DAC driver
    
    v5:
    * fix warnings (Jonathan Cameron)
    
    v4:
    * remove unused indio_dev pointer in mcp4725_data (Jonathan Cameron)
    * use u16 instead of unsigned short in mcp4725_data (Jonathan Cameron)
    * #include mcp4725.h from linux/iio/dac/
    
    v3:
    * move from staging to drivers/iio
    * switch to chan_spec
    * dev_get_drvdata() -> dev_to_iio_dev()
    * annotate probe() and remove() with __devinit and __devexit
    
    v2 (based on comments from Jonathan Cameron and Lars-Peter Clausen):
    * did NOT switch to chan_spec yet
    * rebase to staging-next tree, update iio header locations
    * dropped dac.h #include, not needed
    * strict_strtol() -> kstrtol()
    * call iio_device_unregister() in remove()
    * everything in one patch
    
    Signed-off-by: Peter Meerwald <pmeerw@pmeerw.net>
    Acked-by: Jonathan Cameron <jic23@kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/linux/iio/dac/mcp4725.h b/include/linux/iio/dac/mcp4725.h
new file mode 100644
index 000000000000..91530e6611e9
--- /dev/null
+++ b/include/linux/iio/dac/mcp4725.h
@@ -0,0 +1,16 @@
+/*
+ * MCP4725 DAC driver
+ *
+ * Copyright (C) 2012 Peter Meerwald <pmeerw@pmeerw.net>
+ *
+ * Licensed under the GPL-2 or later.
+ */
+
+#ifndef IIO_DAC_MCP4725_H_
+#define IIO_DAC_MCP4725_H_
+
+struct mcp4725_platform_data {
+	u16 vref_mv;
+};
+
+#endif /* IIO_DAC_MCP4725_H_ */
