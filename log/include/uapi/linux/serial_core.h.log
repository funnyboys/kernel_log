commit 9905f32aefbe3d9cb2d24c3bd9c882397eaf3842
Author: Stefan-Gabriel Mirea <stefan-gabriel.mirea@nxp.com>
Date:   Wed Oct 16 15:48:25 2019 +0300

    serial: fsl_linflexuart: Be consistent with the name
    
    For consistency reasons, spell the controller name as "LINFlexD" in
    comments and documentation.
    
    Signed-off-by: Stefan-Gabriel Mirea <stefan-gabriel.mirea@nxp.com>
    Link: https://lore.kernel.org/r/1571230107-8493-4-git-send-email-stefan-gabriel.mirea@nxp.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index e7fe550b6038..8ec3dd742ea4 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -290,7 +290,7 @@
 /* Sunix UART */
 #define PORT_SUNIX	121
 
-/* Freescale Linflex UART */
+/* Freescale LINFlexD UART */
 #define PORT_LINFLEXUART	122
 
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 47934ef7f1883209120781b59d78eaf8b83e2fb7
Author: Stefan-gabriel Mirea <stefan-gabriel.mirea@nxp.com>
Date:   Fri Oct 4 13:51:13 2019 +0000

    tty: serial: Fix PORT_LINFLEXUART definition
    
    The port type macros should have different values for different devices.
    Currently, PORT_LINFLEXUART conflicts with PORT_SUNIX.
    
    Fixes: 09864c1cdf5c ("tty: serial: Add linflexuart driver for S32V234")
    Signed-off-by: Stefan-Gabriel Mirea <stefan-gabriel.mirea@nxp.com>
    Link: https://lore.kernel.org/r/20191004135058.18007-1-stefan-gabriel.mirea@nxp.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 0f4f87a6fd54..e7fe550b6038 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -291,6 +291,6 @@
 #define PORT_SUNIX	121
 
 /* Freescale Linflex UART */
-#define PORT_LINFLEXUART	121
+#define PORT_LINFLEXUART	122
 
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 09864c1cdf5c537bd01bff45181406e422ea988c
Author: Stefan-gabriel Mirea <stefan-gabriel.mirea@nxp.com>
Date:   Fri Aug 9 11:29:16 2019 +0000

    tty: serial: Add linflexuart driver for S32V234
    
    Introduce support for LINFlex driver, based on:
    - the version of Freescale LPUART driver after commit b3e3bf2ef2c7 ("Merge
      4.0-rc7 into tty-next");
    - commit abf1e0a98083 ("tty: serial: fsl_lpuart: lock port on console
      write").
    In this basic version, the driver can be tested using initramfs and relies
    on the clocks and pin muxing set up by U-Boot.
    
    Remarks concerning the earlycon support:
    
    - LinFlexD does not allow character transmissions in the INIT mode (see
      section 47.4.2.1 in the reference manual[1]). Therefore, a mutual
      exclusion between the first linflex_setup_watermark/linflex_set_termios
      executions and linflex_earlycon_putchar was employed and the characters
      normally sent to earlycon during initialization are kept in a buffer and
      sent afterwards.
    
    - Empirically, character transmission is also forbidden within the last 1-2
      ms before entering the INIT mode, so we use an explicit timeout
      (PREINIT_DELAY) between linflex_earlycon_putchar and the first call to
      linflex_setup_watermark.
    
    - U-Boot currently uses the UART FIFO mode, while this driver makes the
      transition to the buffer mode. Therefore, the earlycon putchar function
      matches the U-Boot behavior before initializations and the Linux behavior
      after.
    
    [1] https://www.nxp.com/webapp/Download?colCode=S32V234RM
    
    Signed-off-by: Stoica Cosmin-Stefan <cosmin.stoica@nxp.com>
    Signed-off-by: Adrian.Nitu <adrian.nitu@freescale.com>
    Signed-off-by: Larisa Grigore <Larisa.Grigore@nxp.com>
    Signed-off-by: Ana Nedelcu <B56683@freescale.com>
    Signed-off-by: Mihaela Martinas <Mihaela.Martinas@freescale.com>
    Signed-off-by: Matthew Nunez <matthew.nunez@nxp.com>
    [stefan-gabriel.mirea@nxp.com: Reduced for upstreaming and implemented
                                   earlycon support]
    Signed-off-by: Stefan-Gabriel Mirea <stefan-gabriel.mirea@nxp.com>
    Link: https://lore.kernel.org/r/20190809112853.15846-6-stefan-gabriel.mirea@nxp.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index bd0d9d176a66..0f4f87a6fd54 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -290,4 +290,7 @@
 /* Sunix UART */
 #define PORT_SUNIX	121
 
+/* Freescale Linflex UART */
+#define PORT_LINFLEXUART	121
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 8515dbc1f51b4f728908cdb993c849c83743aba7
Author: Kai-Heng Feng <kai.heng.feng@canonical.com>
Date:   Sat Aug 10 03:01:29 2019 +0800

    serial: 8250_pci: Add support for Sunix serial boards
    
    Add support to Sunix serial boards with up to 16 ports.
    
    Sunix board need its own setup callback instead of using Timedia's, to
    properly support more than 4 ports.
    
    Cc: Morris Ku <morris_ku@sunix.com>
    Cc: Debbie Liu <debbie_liu@sunix.com>
    Signed-off-by: Kai-Heng Feng <kai.heng.feng@canonical.com>
    Link: https://lore.kernel.org/r/20190809190130.30773-1-kai.heng.feng@canonical.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index e8dc1787c3c6..bd0d9d176a66 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -287,4 +287,7 @@
 /* SiFive UART */
 #define PORT_SIFIVE_V0	120
 
+/* Sunix UART */
+#define PORT_SUNIX	121
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit bd0d9d159988d1ebb97ea244ae4dfa8365ed7d85
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Aug 9 22:27:30 2019 +0200

    serial: remove ks8695 driver
    
    The platform is getting removed, so there are no more users
    of this driver.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Link: https://lore.kernel.org/r/20190809202749.742267-3-arnd@arndb.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 3cc3af1c2ee1..e8dc1787c3c6 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -161,9 +161,6 @@
 /* Blackfin bf5xx */
 #define PORT_BFIN	75
 
-/* Micrel KS8695 */
-#define PORT_KS8695	76
-
 /* Broadcom SB1250, etc. SOC */
 #define PORT_SB1250_DUART	77
 

commit 4a2b8560e3dff8637ccb09524650864f60ebab7f
Author: Linus Walleij <linus.walleij@linaro.org>
Date:   Mon Jul 22 08:51:46 2019 +0200

    tty: serial: netx: Delete driver
    
    The Netx ARM machine was deleted from the kernel. This driver
    had no users and has to go.
    
    Cc: Robert Schwebel <r.schwebel@pengutronix.de>
    Cc: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Link: https://lore.kernel.org/r/20190722065146.4844-1-linus.walleij@linaro.org
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 5642c05e0da0..3cc3af1c2ee1 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -150,9 +150,6 @@
 
 #define PORT_PNX8XXX	70
 
-/* Hilscher netx */
-#define PORT_NETX	71
-
 /* SUN4V Hypervisor Console */
 #define PORT_SUNHV	72
 

commit ecd6bf67da3126e8ec731c2dd8cb6c2f17d9563a
Author: Mark Greer <mgreer@animalcreek.com>
Date:   Wed Jun 26 09:05:53 2019 -0700

    serial: mpsc: Remove obsolete MPSC driver
    
    Support for the Marvell MV64x60 line of bridge chips that contained
    MPSC controllers has been removed and there are no other components
    that have that controller so remove its driver.
    
    Signed-off-by: Mark Greer <mgreer@animalcreek.com>
    Link: https://lore.kernel.org/r/20190626160553.28518-1-mgreer@animalcreek.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 67c4aaaa2308..5642c05e0da0 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -129,7 +129,7 @@
 /* Motorola i.MX SoC */
 #define PORT_IMX	62
 
-/* Marvell MPSC */
+/* Marvell MPSC (obsolete unused) */
 #define PORT_MPSC	63
 
 /* TXX9 type number */

commit 45c054d0815b1530d7c7ff8441389a0421dd05e7
Author: Paul Walmsley <paul.walmsley@sifive.com>
Date:   Fri Apr 12 19:01:13 2019 -0700

    tty: serial: add driver for the SiFive UART
    
    Add a serial driver for the SiFive UART, found on SiFive FU540 devices
    (among others).
    
    The underlying serial IP block is relatively basic, and currently does
    not support serial break detection.  Further information on the IP
    block can be found in the documentation and Chisel sources:
    
        https://static.dev.sifive.com/FU540-C000-v1.0.pdf
    
        https://github.com/sifive/sifive-blocks/tree/master/src/main/scala/devices/uart
    
    This driver was written in collaboration with Wesley Terpstra
    <wesley@sifive.com>.
    
    Tested on a SiFive HiFive Unleashed A00 board, using BBL and the open-
    source FSBL (using a DT file based on what's targeted for mainline).
    
    This revision incorporates changes based on comments by Julia Lawall
    <julia.lawall@lip6.fr>, Emil Renner Berthing <kernel@esmil.dk>, and
    Andreas Schwab <schwab@suse.de>.  Thanks also to Andreas for testing
    the driver with his userspace and reporting a bug with the
    set_termios implementation.
    
    Signed-off-by: Paul Walmsley <paul.walmsley@sifive.com>
    Signed-off-by: Paul Walmsley <paul@pwsan.com>
    Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Cc: Jiri Slaby <jslaby@suse.com>
    Cc: Palmer Dabbelt <palmer@sifive.com>
    Cc: Wesley Terpstra <wesley@sifive.com>
    Cc: linux-serial@vger.kernel.org
    Cc: linux-riscv@lists.infradead.org
    Cc: linux-kernel@vger.kernel.org
    Cc: Julia Lawall <julia.lawall@lip6.fr>
    Cc: Emil Renner Berthing <kernel@esmil.dk>
    Cc: Andreas Schwab <schwab@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index a51c747b52c5..67c4aaaa2308 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -290,4 +290,7 @@
 /* Socionext Milbeaut UART */
 #define PORT_MLB_USIO	119
 
+/* SiFive UART */
+#define PORT_SIFIVE_V0	120
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit ba44dc04300441b47618f9933bf36e75a280e5fe
Author: Sugaya Taichi <sugaya.taichi@socionext.com>
Date:   Mon Apr 15 20:31:40 2019 +0900

    serial: Add Milbeaut serial control
    
    Add Milbeaut serial control including earlycon and console.
    
    Signed-off-by: Sugaya Taichi <sugaya.taichi@socionext.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 6009ee2c2e99..a51c747b52c5 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -287,4 +287,7 @@
 /* RDA UART */
 #define PORT_RDA	118
 
+/* Socionext Milbeaut UART */
+#define PORT_MLB_USIO	119
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 2d908b38d40921a03225d42fd6e48eb51bffd606
Author: Thierry Reding <treding@nvidia.com>
Date:   Wed Jan 23 11:28:19 2019 +0100

    serial: Add Tegra Combined UART driver
    
    The Tegra Combined UART (TCU) is a mailbox-based mechanism that allows
    multiplexing multiple "virtual UARTs" into a single hardware serial
    port. The TCU is the primary serial port on Tegra194 devices.
    
    Add a TCU driver utilizing the mailbox framework, as the used mailboxes
    are part of Tegra HSP blocks that are already controlled by the Tegra
    HSP mailbox driver.
    
    Based on work by  Mikko Perttunen <mperttunen@nvidia.com>.
    
    Signed-off-by: Thierry Reding <treding@nvidia.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index df4a7534e239..6009ee2c2e99 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -79,6 +79,9 @@
 /* Nuvoton UART */
 #define PORT_NPCM	40
 
+/* NVIDIA Tegra Combined UART */
+#define PORT_TEGRA_TCU	41
+
 /* Intel EG20 */
 #define PORT_PCH_8LINE	44
 #define PORT_PCH_2LINE	45

commit c10b13325ced237f6129e8ee73cd8c72e1bd10ed
Author: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
Date:   Tue Dec 18 20:32:37 2018 +0530

    tty: serial: Add RDA8810PL UART driver
    
    Add UART driver for RDA Micro RDA8810PL SoC.
    
    Signed-off-by: Andreas Färber <afaerber@suse.de>
    Signed-off-by: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
    Reviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Acked-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Olof Johansson <olof@lixom.net>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index dce5f9dae121..df4a7534e239 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -281,4 +281,7 @@
 /* MediaTek BTIF */
 #define PORT_MTK_BTIF	117
 
+/* RDA UART */
+#define PORT_RDA	118
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit f597fbce38d230af95384f4a04e0a13a1d0ad45d
Author: Joel Stanley <joel@jms.id.au>
Date:   Mon Mar 5 22:17:38 2018 +1030

    serial: 8250: Add Nuvoton NPCM UART
    
    The Nuvoton UART is almost compatible with the 8250 driver when probed
    via the 8250_of driver, however it requires some extra configuration
    at startup.
    
    Reviewed-by: Rob Herring <robh@kernel.org>
    Signed-off-by: Joel Stanley <joel@jms.id.au>
    Cc: stable <stable@vger.kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 1c8413f93e3d..dce5f9dae121 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -76,6 +76,9 @@
 #define PORT_SUNZILOG	38
 #define PORT_SUNSAB	39
 
+/* Nuvoton UART */
+#define PORT_NPCM	40
+
 /* Intel EG20 */
 #define PORT_PCH_8LINE	44
 #define PORT_PCH_2LINE	45

commit e2be04c7f9958dde770eeb8b30e829ca969b37bb
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Wed Nov 1 15:09:13 2017 +0100

    License cleanup: add SPDX license identifier to uapi header files with a license
    
    Many user space API headers have licensing information, which is either
    incomplete, badly formatted or just a shorthand for referring to the
    license under which the file is supposed to be.  This makes it hard for
    compliance tools to determine the correct license.
    
    Update these files with an SPDX license identifier.  The identifier was
    chosen based on the license information in the file.
    
    GPL/LGPL licensed headers get the matching GPL/LGPL SPDX license
    identifier with the added 'WITH Linux-syscall-note' exception, which is
    the officially assigned exception identifier for the kernel syscall
    exception:
    
       NOTE! This copyright does *not* cover user programs that use kernel
       services by normal system calls - this is merely considered normal use
       of the kernel, and does *not* fall under the heading of "derived work".
    
    This exception makes it possible to include GPL headers into non GPL
    code, without confusing license compliance tools.
    
    Headers which have either explicit dual licensing or are just licensed
    under a non GPL license are updated with the corresponding SPDX
    identifier and the GPLv2 with syscall exception identifier.  The format
    is:
            ((GPL-2.0 WITH Linux-syscall-note) OR SPDX-ID-OF-OTHER-LICENSE)
    
    SPDX license identifiers are a legally binding shorthand, which can be
    used instead of the full boiler plate text.  The update does not remove
    existing license information as this has to be done on a case by case
    basis and the copyright holders might have to be consulted. This will
    happen in a separate step.
    
    This patch is based on work done by Thomas Gleixner and Kate Stewart and
    Philippe Ombredanne.  See the previous patch in this series for the
    methodology of how this patch was researched.
    
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Reviewed-by: Philippe Ombredanne <pombredanne@nexb.com>
    Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 50d71c436323..1c8413f93e3d 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -1,3 +1,4 @@
+/* SPDX-License-Identifier: GPL-2.0+ WITH Linux-syscall-note */
 /*
  *  linux/drivers/char/serial_core.h
  *

commit 1c16ae65e2502da05310b2ec56b3a1fd3efe6f4d
Author: Sean Wang <sean.wang@mediatek.com>
Date:   Mon Aug 21 01:17:56 2017 +0800

    serial: 8250: of: Add new port type for MediaTek BTIF controller on MT7622/23 SoC
    
    MediaTek BTIF controller is the serial interface similar to UART but it
    works only as the digital device which is mainly used to communicate with
    the connectivity module called CONNSYS inside the SoC which could be mostly
    found on those MediaTek SoCs with Bluetooth feature such as MT7622 and
    MT7623 SoCs.
    
    And the controller is made as being compatible with the 8250 register
    layout with extra registers such as DMA enablement so it tends to be
    integrated with reusing 8250 OF driver. However, DMA mode is not being
    supported yet in the current driver.
    
    Signed-off-by: Sean Wang <sean.wang@mediatek.com>
    Suggested-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
    Acked-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index dc2d7cb766ab..50d71c436323 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -274,4 +274,7 @@
 /* MPS2 UART */
 #define PORT_MPS2UART	116
 
+/* MediaTek BTIF */
+#define PORT_MTK_BTIF	117
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit ee1c90cc2cea80638f559c552371ee6893ca9d9e
Author: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date:   Tue Aug 22 16:58:22 2017 +0300

    serial: Fix port type numbering for TI DA8xx
    
    The UAPI has a global list of unique numbers for different port types.
    The commit
            a2d6a987bfe4 ("serial: 8250: Add new port type for TI DA8xx/66AK2x")
    introduced a new port type and brought the collision with two other port
    types.
    
    Reuse 95 for it instead.
    
    Fixes: a2d6a987bfe4 ("serial: 8250: Add new port type for TI DA8xx/66AK2x")
    Cc: David Lechner <david@lechnology.com>
    Cc: Sekhar Nori <nsekhar@ti.com>
    Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 00d335634271..dc2d7cb766ab 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -56,7 +56,6 @@
 #define PORT_ALTR_16550_F128 28 /* Altera 16550 UART with 128 FIFOs */
 #define PORT_RT2880	29	/* Ralink RT2880 internal UART */
 #define PORT_16550A_FSL64 30	/* Freescale 16550 UART with 64 FIFOs */
-#define PORT_DA830	31	/* TI DA8xx/66AK2x */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed
@@ -209,6 +208,9 @@
 /* MAX310X */
 #define PORT_MAX310X	94
 
+/* TI DA8xx/66AK2x */
+#define PORT_DA830	95
+
 /* TI OMAP-UART */
 #define PORT_OMAP	96
 

commit 3f3dac7e4d815cb7f929c0ed98c3a45a86852e53
Author: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date:   Tue Aug 22 16:58:21 2017 +0300

    serial: Remove unused port type
    
    PORT_MFD is not in use since commit
    
            1bd187de5364 ("x86, intel-mid: remove Intel MID specific serial support")
    
    Remove leftover.
    
    Fixes: 1bd187de5364 ("x86, intel-mid: remove Intel MID specific serial support")
    Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 502aa23c7e15..00d335634271 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -209,9 +209,6 @@
 /* MAX310X */
 #define PORT_MAX310X	94
 
-/* High Speed UART for Medfield */
-#define PORT_MFD	95
-
 /* TI OMAP-UART */
 #define PORT_OMAP	96
 

commit 63e8d4394a2d226803f47abd7287dbb6d21bf8e4
Author: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date:   Tue Aug 22 16:58:20 2017 +0300

    serial: pch_uart: Make port type explicit
    
    It used to be a gap in port definitions after PORT_MAX_8250. Since the
    new drivers are coming the gap become shorter and shorter until the
    commit a2d6a987bfe4 ("serial: 8250: Add new port type for TI DA8xx/66AK2x")
    completely removed it.
    
    So, while type here is just a formality, make things a little bit more
    explicit for this driver and move port types to UAPI header. Note,
    it uses two types for now.
    
    Fixes: fddceb8b5399 ("tty: 8250: Add 64byte UART support for FSL platforms")
    Cc: Priyanka Jain <Priyanka.Jain@freescale.com>
    Cc: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 38bea3217ead..502aa23c7e15 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -57,7 +57,6 @@
 #define PORT_RT2880	29	/* Ralink RT2880 internal UART */
 #define PORT_16550A_FSL64 30	/* Freescale 16550 UART with 64 FIFOs */
 #define PORT_DA830	31	/* TI DA8xx/66AK2x */
-#define PORT_MAX_8250	31	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed
@@ -77,6 +76,10 @@
 #define PORT_SUNZILOG	38
 #define PORT_SUNSAB	39
 
+/* Intel EG20 */
+#define PORT_PCH_8LINE	44
+#define PORT_PCH_2LINE	45
+
 /* DEC */
 #define PORT_DZ		46
 #define PORT_ZS		47

commit fc60a8b675bd9499c71716d21c238eed5092ddfc
Author: Andreas Färber <afaerber@suse.de>
Date:   Sun Jul 9 22:29:42 2017 +0200

    tty: serial: owl: Implement console driver
    
    Implement serial console driver to complement earlycon.
    
    Based on LeMaker linux-actions tree.
    
    Signed-off-by: Andreas Färber <afaerber@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index c34a2a3eeff5..38bea3217ead 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -70,6 +70,7 @@
 #define PORT_CLPS711X	33
 #define PORT_SA1100	34
 #define PORT_UART00	35
+#define PORT_OWL	36
 #define PORT_21285	37
 
 /* Sparc type numbers.  */

commit 72ce5732eeca023abb04e40eb77a6bc1169d9b9d
Author: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date:   Wed Jun 7 18:19:31 2017 +0300

    tty/serial: atmel: Remove AVR32 bits from the driver
    
    AVR32 is gone. Now it's time to clean up the driver by removing
    leftovers that was used by AVR32 related code.
    
    Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
    Acked-by: Richard Genoud <richard.genoud@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 9ec741b133fe..c34a2a3eeff5 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -83,7 +83,7 @@
 /* Parisc type numbers. */
 #define PORT_MUX	48
 
-/* Atmel AT91 / AT32 SoC */
+/* Atmel AT91 SoC */
 #define PORT_ATMEL	49
 
 /* Macintosh Zilog type numbers */

commit a2d6a987bfe4a2e344fae9d255200072eb082427
Author: David Lechner <david@lechnology.com>
Date:   Thu Jan 5 12:54:18 2017 -0600

    serial: 8250: Add new port type for TI DA8xx/66AK2x
    
    This adds a new UART port type for TI DA8xx/OMAPL13x/AM17xx/AM18xx/66AK2x.
    These SoCs have standard 8250 registers plus some extra non-standard
    registers.
    
    The UART will not function unless the non-standard Power and Emulation
    Management Register (PWREMU_MGMT) is configured correctly. This is
    currently handled in arch/arm/mach-davinci/serial.c for non-device-tree
    boards. Making this part of the UART driver will allow UART to work on
    device-tree boards as well and the mach code can eventually be removed.
    
    Signed-off-by: David Lechner <david@lechnology.com>
    Acked-by: Sekhar Nori <nsekhar@ti.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 99dbed8a8874..9ec741b133fe 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -56,7 +56,8 @@
 #define PORT_ALTR_16550_F128 28 /* Altera 16550 UART with 128 FIFOs */
 #define PORT_RT2880	29	/* Ralink RT2880 internal UART */
 #define PORT_16550A_FSL64 30	/* Freescale 16550 UART with 64 FIFOs */
-#define PORT_MAX_8250	30	/* max port ID */
+#define PORT_DA830	31	/* TI DA8xx/66AK2x */
+#define PORT_MAX_8250	31	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit e10abc629f38efd9b6936cf3612583cc846104d9
Merge: 0eff4589c36e d20bb59af646
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri May 20 20:57:27 2016 -0700

    Merge tag 'tty-4.7-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty
    
    Pull tty and serial driver updates from Greg KH:
     "Here's the large TTY and Serial driver update for 4.7-rc1.
    
      A few new serial drivers are added here, and Peter has fixed a bunch
      of long-standing bugs in the tty layer and serial drivers as normal.
      Full details in the shortlog.
    
      All of these have been in linux-next for a while with no reported
      issues"
    
    * tag 'tty-4.7-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty: (88 commits)
      MAINTAINERS: 8250: remove website reference
      serial: core: Fix port mutex assert if lockdep disabled
      serial: 8250_dw: fix wrong logic in dw8250_check_lcr()
      tty: vt, finish looping on duplicate
      tty: vt, return error when con_startup fails
      QE-UART: add "fsl,t1040-ucc-uart" to of_device_id
      serial: mctrl_gpio: Drop support for out1-gpios and out2-gpios
      serial: 8250dw: Add device HID for future AMD UART controller
      Fix OpenSSH pty regression on close
      serial: mctrl_gpio: add IRQ locking
      serial: 8250: Integrate Fintek into 8250_base
      serial: mps2-uart: add support for early console
      serial: mps2-uart: add MPS2 UART driver
      dt-bindings: document the MPS2 UART bindings
      serial: sirf: Use generic uart-has-rtscts DT property
      serial: sirf: Introduce helper variable struct device_node *np
      serial: mxs-auart: Use generic uart-has-rtscts DT property
      serial: imx: Use generic uart-has-rtscts DT property
      doc: DT: Add Generic Serial Device Tree Bindings
      serial: 8250: of: Make tegra_serial_handle_break() static
      ...

commit 07b75260ebc2c789724c594d7eaf0194fa47b3be
Merge: 0efacbbaee1e 6e4ad1b41360
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu May 19 10:02:26 2016 -0700

    Merge branch 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus
    
    Pull MIPS updates from Ralf Baechle:
     "This is the main pull request for MIPS for 4.7.  Here's the summary of
      the changes:
    
       - ATH79: Support for DTB passuing using the UHI boot protocol
       - ATH79: Remove support for builtin DTB.
       - ATH79: Add zboot debug serial support.
       - ATH79: Add initial support for Dragino MS14 (Dragine 2), Onion Omega
                and DPT-Module.
       - ATH79: Update devicetree clock support for AR9132 and AR9331.
       - ATH79: Cleanup the DT code.
       - ATH79: Support newer SOCs in ath79_ddr_ctrl_init.
       - ATH79: Fix regression in PCI window initialization.
       - BCM47xx: Move SPROM driver to drivers/firmware/
       - BCM63xx: Enable partition parser in defconfig.
       - BMIPS: BMIPS5000 has I cache filing from D cache
       - BMIPS: BMIPS: Add cpu-feature-overrides.h
       - BMIPS: Add Whirlwind support
       - BMIPS: Adjust mips-hpt-frequency for BCM7435
       - BMIPS: Remove maxcpus from BCM97435SVMB DTS
       - BMIPS: Add missing 7038 L1 register cells to BCM7435
       - BMIPS: Various tweaks to initialization code.
       - BMIPS: Enable partition parser in defconfig.
       - BMIPS: Cache tweaks.
       - BMIPS: Add UART, I2C and SATA devices to DT.
       - BMIPS: Add BCM6358 and BCM63268support
       - BMIPS: Add device tree example for BCM6358.
       - BMIPS: Improve Improve BCM6328 and BCM6368 device trees
       - Lantiq: Add support for device tree file from boot loader
       - Lantiq: Allow build with no built-in DT.
       - Loongson 3: Reserve 32MB for RS780E integrated GPU.
       - Loongson 3: Fix build error after ld-version.sh modification
       - Loongson 3: Move chipset ACPI code from drivers to arch.
       - Loongson 3: Speedup irq processing.
       - Loongson 3: Add basic Loongson 3A support.
       - Loongson 3: Set cache flush handlers to nop.
       - Loongson 3: Invalidate special TLBs when needed.
       - Loongson 3: Fast TLB refill handler.
       - MT7620: Fallback strategy for invalid syscfg0.
       - Netlogic: Fix CP0_EBASE redefinition warnings
       - Octeon: Initialization fixes
       - Octeon: Add DTS files for the D-Link DSR-1000N and EdgeRouter Lite
       - Octeon: Enable add Octeon-drivers in cavium_octeon_defconfig
       - Octeon: Correctly handle endian-swapped initramfs images.
       - Octeon: Support CN73xx, CN75xx and CN78xx.
       - Octeon: Remove dead code from cvmx-sysinfo.
       - Octeon: Extend number of supported CPUs past 32.
       - Octeon: Remove some code limiting NR_IRQS to 255.
       - Octeon: Simplify octeon_irq_ciu_gpio_set_type.
       - Octeon: Mark some functions __init in smp.c
       - Octeon: Octeon: Add Octeon III CN7xxx interface detection
       - PIC32: Add serial driver and bindings for it.
       - PIC32: Add PIC32 deadman timer driver and bindings.
       - PIC32: Add PIC32 clock timer driver and bindings.
       - Pistachio: Determine SoC revision during boot
       - Sibyte: Fix Kconfig dependencies of SIBYTE_BUS_WATCHER.
       - Sibyte: Strip redundant comments from bcm1480_regs.h.
       - Panic immediately if panic_on_oops is set.
       - module: fix incorrect IS_ERR_VALUE macro usage.
       - module: Make consistent use of pr_*
       - Remove no longer needed work_on_cpu() call.
       - Remove CONFIG_IPV6_PRIVACY from defconfigs.
       - Fix registers of non-crashing CPUs in dumps.
       - Handle MIPSisms in new vmcore_elf32_check_arch.
       - Select CONFIG_HANDLE_DOMAIN_IRQ and make it work.
       - Allow RIXI to be used on non-R2 or R6 cores.
       - Reserve nosave data for hibernation
       - Fix siginfo.h to use strict POSIX types.
       - Don't unwind user mode with EVA.
       - Fix watchpoint restoration
       - Ptrace watchpoints for R6.
       - Sync icache when it fills from dcache
       - I6400 I-cache fills from dcache.
       - Various MSA fixes.
       - Cleanup MIPS_CPU_* definitions.
       - Signal: Move generic copy_siginfo to signal.h
       - Signal: Fix uapi include in exported asm/siginfo.h
       - Timer fixes for sake of KVM.
       - XPA TLB refill fixes.
       - Treat perf counter feature
       - Update John Crispin's email address
       - Add PIC32 watchdog and bindings.
       - Handle R10000 LL/SC bug in set_pte()
       - cpufreq: Various fixes for Longson1.
       - R6: Fix R2 emulation.
       - mathemu: Cosmetic fix to ADDIUPC emulation, plenty of other small fixes
       - ELF: ABI and FP fixes.
       - Allow for relocatable kernel and use that to support KASLR.
       - Fix CPC_BASE_ADDR mask
       - Plenty fo smp-cps, CM, R6 and M6250 fixes.
       - Make reset_control_ops const.
       - Fix kernel command line handling of leading whitespace.
       - Cleanups to cache handling.
       - Add brcm, bcm6345-l1-intc device tree bindings.
       - Use generic clkdev.h header
       - Remove CLK_IS_ROOT usage.
       - Misc small cleanups.
       - CM: Fix compilation error when !MIPS_CM
       - oprofile: Fix a preemption issue
       - Detect DSP ASE v3 support:1"
    
    * 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus: (275 commits)
      MIPS: pic32mzda: fix getting timer clock rate.
      MIPS: ath79: fix regression in PCI window initialization
      MIPS: ath79: make ath79_ddr_ctrl_init() compatible for newer SoCs
      MIPS: Fix VZ probe gas errors with binutils <2.24
      MIPS: perf: Fix I6400 event numbers
      MIPS: DEC: Export `ioasic_ssr_lock' to modules
      MIPS: MSA: Fix a link error on `_init_msa_upper' with older GCC
      MIPS: CM: Fix compilation error when !MIPS_CM
      MIPS: Fix genvdso error on rebuild
      USB: ohci-jz4740: Remove obsolete driver
      MIPS: JZ4740: Probe OHCI platform device via DT
      MIPS: JZ4740: Qi LB60: Remove support for AVT2 variant
      MIPS: pistachio: Determine SoC revision during boot
      MIPS: BMIPS: Adjust mips-hpt-frequency for BCM7435
      mips: mt7620: fallback to SDRAM when syscfg0 does not have a valid value for the memory type
      MIPS: Prevent "restoration" of MSA context in non-MSA kernels
      MIPS: cevt-r4k: Dynamically calculate min_delta_ns
      MIPS: malta-time: Take seconds into account
      MIPS: malta-time: Start GIC count before syncing to RTC
      MIPS: Force CPUs to lose FP context during mode switches
      ...

commit 157b9394709ed5233288986a293405def22792ed
Author: Andrei Pistirica <andrei.pistirica@microchip.com>
Date:   Wed Jan 13 18:15:43 2016 -0700

    serial: pic32_uart: Add PIC32 UART driver
    
    This adds UART and a serial console driver for Microchip PIC32 class
    devices.
    
    [ralf@linux-mips.org: Resolved merge conflict.]
    
    Signed-off-by: Andrei Pistirica <andrei.pistirica@microchip.com>
    Signed-off-by: Joshua Henderson <joshua.henderson@microchip.com>
    Reviewed-by: Alan Cox <alan@linux.intel.com>
    Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Cc: Jiri Slaby <jslaby@suse.com>
    Cc: linux-kernel@vger.kernel.org
    Cc: linux-mips@linux-mips.org
    Cc: linux-serial@vger.kernel.org
    Cc: linux-api@vger.kernel.org
    Patchwork: https://patchwork.linux-mips.org/patch/12101/
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index e513a4ee369b..a539a638ec10 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -264,4 +264,7 @@
 /* MVEBU UART */
 #define PORT_MVEBU	114
 
+/* Microchip PIC32 UART */
+#define PORT_PIC32	114
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 041f031def330582108bc37f97525d9e7c0e2b2f
Author: Vladimir Murzin <vladimir.murzin@arm.com>
Date:   Mon Apr 25 09:47:47 2016 +0100

    serial: mps2-uart: add MPS2 UART driver
    
    This driver adds support to the UART controller found on ARM MPS2
    platform.
    
    Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Reviewed-by: Andy Shevchenko <andy.shevchenko@gmail.com>
    Signed-off-by: Vladimir Murzin <vladimir.murzin@arm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index e513a4ee369b..9aef04c5f7bc 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -264,4 +264,7 @@
 /* MVEBU UART */
 #define PORT_MVEBU	114
 
+/* MPS2 UART */
+#define PORT_MPS2UART	115
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 30530791a7a032dc27dbbab56b8afabd5138074c
Author: Wilson Ding <dingwei@marvell.com>
Date:   Tue Feb 16 19:14:53 2016 +0100

    serial: mvebu-uart: initial support for Armada-3700 serial port
    
    Armada-3700's uart is a simple serial port, which doesn't
    support. Configuring the modem control lines. The uart port has a 32
    bytes Tx FIFO and a 64 bytes Rx FIFO
    
    The uart driver implements the uart core operations. It also support the
    system (early) console based on Armada-3700's serial port.
    
    Known Issue:
    
    The uart driver currently doesn't support clock programming, which means
    the baud-rate stays with the default value configured by the bootloader
    at boot time
    
    [gregory.clement@free-electrons.com: Rewrite many part which are too long
    to enumerate]
    
    Signed-off-by: Wilson Ding <dingwei@marvell.com>
    Signed-off-by: Nadav Haklai <nadavh@marvell.com>
    Signed-off-by: Gregory CLEMENT <gregory.clement@free-electrons.com>
    Acked-by: Rob Herring <robh@kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 3e5d757407fb..e513a4ee369b 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -261,4 +261,7 @@
 /* STM32 USART */
 #define PORT_STM32	113
 
+/* MVEBU UART */
+#define PORT_MVEBU	114
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit d1b5c87fa8058a3f477ae05555916dd1cea934ad
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Nov 16 16:48:12 2015 +0100

    serial: remove NWP serial support
    
    The NWP serial driver is no longer needed, as the two users of
    this hardware have migrated to a much faster generation hardware,
    see https://en.wikipedia.org/wiki/QPACE2 for the replacement.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Cc: Benjamin Krill <ben@codiert.org>
    Cc: linuxppc-dev@lists.ozlabs.org
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 93ba148f923e..3e5d757407fb 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -176,7 +176,7 @@
 
 #define PORT_S3C6400	84
 
-/* NWPSERIAL */
+/* NWPSERIAL, now removed */
 #define PORT_NWPSERIAL	85
 
 /* MAX3100 */

commit 48a6092fb41fab5b80064c3fac786f8ec86457a3
Author: Maxime Coquelin <mcoquelin.stm32@gmail.com>
Date:   Wed Jun 10 21:19:36 2015 +0200

    serial: stm32-usart: Add STM32 USART Driver
    
    This drivers adds support to the STM32 USART controller, which is a
    standard serial driver.
    
    Tested-by: Chanwoo Choi <cw00.choi@samsung.com>
    Reviewed-by: Peter Hurley <peter@hurleysoftware.com>
    Reviewed-by: Vladimir Zapolskiy <vladimir_zapolskiy@mentor.com>
    Reviewed-by: Andy Shevchenko <andy.shevchenko@gmail.com>
    Signed-off-by: Maxime Coquelin <mcoquelin.stm32@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index b2122813f18a..93ba148f923e 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -258,4 +258,7 @@
 /* Cris v10 / v32 SoC */
 #define PORT_CRIS	112
 
+/* STM32 USART */
+#define PORT_STM32	113
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 692132b5b1c5ce97076915d4aed0c61513e18b03
Author: Niklas Cassel <nks@flawful.org>
Date:   Mon Feb 2 23:19:20 2015 +0100

    serial: driver for ETRAX FS UART
    
    This is the last missing piece to get a kernel booting to a prompt in qemu-cris.
    
    Signed-off-by: Niklas Cassel <nks@flawful.org>
    Acked-by: Jesper Nilsson <jesper.nilsson@axis.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 55da91e763bb..b2122813f18a 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -255,4 +255,7 @@
 /* SPRD SERIAL  */
 #define PORT_SPRD	111
 
+/* Cris v10 / v32 SoC */
+#define PORT_CRIS	112
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit b7396a38fb28db4ebbbf35da1057eb5206b4ad6c
Author: Chunyan Zhang <chunyan.zhang@spreadtrum.com>
Date:   Wed Jan 28 19:08:44 2015 +0800

    tty/serial: Add Spreadtrum sc9836-uart driver support
    
    Add a full sc9836-uart driver for SC9836 SoC which is based on the
    spreadtrum sharkl64 platform.
    This driver also support earlycon.
    
    Originally-by: Lanqing Liu <lanqing.liu@spreadtrum.com>
    Signed-off-by: Orson Zhai <orson.zhai@spreadtrum.com>
    Signed-off-by: Chunyan Zhang <chunyan.zhang@spreadtrum.com>
    Acked-by: Arnd Bergmann <arnd@arndb.de>
    Reviewed-by: Peter Hurley <peter@hurleysoftware.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index ee628c489e47..55da91e763bb 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -252,4 +252,7 @@
 /* Conexant Digicolor */
 #define PORT_DIGICOLOR	110
 
+/* SPRD SERIAL  */
+#define PORT_SPRD	111
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit fddceb8b5399083bcc042266f188116cc779fc80
Author: Vijay Rai <vijay.rai@freescale.com>
Date:   Mon Jan 5 21:14:42 2015 +0530

    tty: 8250: Add 64byte UART support for FSL platforms
    
    Some of FSL SoCs like T1040 has new version of UART controller which
    can support 64byte FiFo.
    To enable 64 byte support, following needs to be done:
    -FCR[EN64] needs to be programmed to 1 to enable it.
    -Also, when FCR[EN64]==1, RTL bits to be used as below
    to define various Receive Trigger Levels:
            -FCR[RTL] = 00  1 byte
            -FCR[RTL] = 01  16 bytes
            -FCR[RTL] = 10  32 bytes
            -FCR[RTL] = 11  56 bytes
    -tx_loadsz is set to 63-bytes instead of 64-bytes to implement
     workaround of errata A-008006 which states that tx_loadsz should
     be configured less than Maximum supported fifo bytes
    
    Signed-off-by: Vijay Rai <vijay.rai@freescale.com>
    Signed-off-by: Priyanka Jain <Priyanka.Jain@freescale.com>
    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 9124e837c181..ee628c489e47 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -55,7 +55,8 @@
 #define PORT_ALTR_16550_F64 27	/* Altera 16550 UART with 64 FIFOs */
 #define PORT_ALTR_16550_F128 28 /* Altera 16550 UART with 128 FIFOs */
 #define PORT_RT2880	29	/* Ralink RT2880 internal UART */
-#define PORT_MAX_8250	29	/* max port ID */
+#define PORT_16550A_FSL64 30	/* Freescale 16550 UART with 64 FIFOs */
+#define PORT_MAX_8250	30	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit 5930cb3511dfb4392de1180c892b353316ef29ec
Author: Baruch Siach <baruch@tkos.co.il>
Date:   Thu Dec 18 21:45:24 2014 +0200

    serial: driver for Conexant Digicolor USART
    
    Signed-off-by: Baruch Siach <baruch@tkos.co.il>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index c17218094f18..9124e837c181 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -248,4 +248,7 @@
 /* MESON */
 #define PORT_MESON	109
 
+/* Conexant Digicolor */
+#define PORT_DIGICOLOR	110
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 9b8777e3473e31b2aabd669e5f34866d4a3afb6a
Author: John Crispin <blogic@openwrt.org>
Date:   Thu Oct 16 21:48:21 2014 +0200

    serial: of: add a PORT_RT2880 definition
    
    The Ralink RT2880 SoC and its successors have an internal 8250 core. This core
    needs the same quirks applied as the AMD AU1xxx uart. In addition to these
    quirks, the ports memory region is only 0x100 unlike the AU1xxx which has a
    size of 0x1000.
    
    Signed-off-by: John Crispin <blogic@openwrt.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 16ad8521af6a..c17218094f18 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -54,7 +54,8 @@
 #define PORT_ALTR_16550_F32 26	/* Altera 16550 UART with 32 FIFOs */
 #define PORT_ALTR_16550_F64 27	/* Altera 16550 UART with 64 FIFOs */
 #define PORT_ALTR_16550_F128 28 /* Altera 16550 UART with 128 FIFOs */
-#define PORT_MAX_8250	28	/* max port ID */
+#define PORT_RT2880	29	/* Ralink RT2880 internal UART */
+#define PORT_MAX_8250	29	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit ff7693d079e58fb62d735b7b8085b53fcfb74528
Author: Carlo Caione <carlo@caione.org>
Date:   Sun Aug 17 12:49:49 2014 +0200

    ARM: meson: serial: add MesonX SoC on-chip uart driver
    
    The SoC has four fully functional UARTs which use the same programming
    model. They are named UART_A, UART_B, UART_C and UART_AO (Always-On)
    which cannot be powered off.
    
    Signed-off-by: Carlo Caione <carlo@caione.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 5820269aa132..16ad8521af6a 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -244,4 +244,7 @@
 /* SC16IS74xx */
 #define PORT_SC16IS7XX   108
 
+/* MESON */
+#define PORT_MESON	109
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit dfeae619d781dee61666d5551b93ba3be755a86b
Author: Jon Ringle <jringle@gridpoint.com>
Date:   Thu Apr 24 20:56:06 2014 -0400

    serial: sc16is7xx
    
    The SC16IS7xx is a slave I2C-bus/SPI interface to a single-channel
    high performance UART. The SC16IS7xx's internal register set is
    backward-compatible with the widely used and widely popular 16C450.
    
    The SC16IS7xx also provides additional advanced features such as
    auto hardware and software flow control, automatic RS-485 support, and
    software reset.
    
    Signed-off-by: Jon Ringle <jringle@gridpoint.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 6e293622851a..5820269aa132 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -241,4 +241,7 @@
 /* MEN 16z135 UART */
 #define PORT_MEN_Z135	107
 
+/* SC16IS74xx */
+#define PORT_SC16IS7XX   108
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit e264ebf4c81ac733642ed03ee3f0e26914ed3714
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Thu Apr 17 15:47:58 2014 +0200

    tty: serial: Add driver for MEN's 16z135 High Speed UART.
    
    Add driver for MEN's 16z135 High Speed UART.
    
    The 16z135 is a memory mapped UART Core on an MCB FPGA and has 1024 byte
    deep FIFO buffers for the RX and TX path. It also has configurable FIFO
    fill level IRQs and data copied to and from the hardware has to be
    acknowledged.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>
    Reviewed-by: Alan Cox <gnomes@lxorguk.ukuu.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 22aaf8ed7735..6e293622851a 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -238,4 +238,7 @@
 /* Tilera TILE-Gx UART */
 #define PORT_TILEGX	106
 
+/* MEN 16z135 UART */
+#define PORT_MEN_Z135	107
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit d9bb3fb12685209765fd838bec69d701d7b479e5
Author: Soren Brinkmann <soren.brinkmann@xilinx.com>
Date:   Fri Apr 4 17:23:43 2014 -0700

    tty: xuartps: Rebrand driver as Cadence UART
    
    Zynq's UART is Cadence IP. Make this visible in the prompt in kconfig
    and additional comments in the driver.
    This also renames functions and symbols, as far as possible without
    breaking user space API, to reflect the Cadence origin. This is achieved
    through simple search and replace:
     - s/XUARTPS/CDNS_UART/g
     - s/xuartps/cdns_uart/g
    The only exceptions are PORT_XUARTPS and the driver name, which stay as is,
    due to their exposure to user space. As well as the - no legacy -
    compatibility string 'xlnx,xuartps'
    
    Signed-off-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
    Tested-by: Michal Simek <michal.simek@xilinx.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index b47dba2c1e6f..22aaf8ed7735 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -211,7 +211,7 @@
 /* VIA VT8500 SoC */
 #define PORT_VT8500	97
 
-/* Xilinx PSS UART */
+/* Cadence (Xilinx Zynq) UART */
 #define PORT_XUARTPS	98
 
 /* Atheros AR933X SoC */

commit 4de9ad9bc08b4953fc03336ad38908496e2f8826
Merge: 576c25eb5954 06da6629e68d
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Sep 6 11:14:33 2013 -0700

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/cmetcalf/linux-tile
    
    Pull Tile arch updates from Chris Metcalf:
     "These changes bring in a bunch of new functionality that has been
      maintained internally at Tilera over the last year, plus other stray
      bits of work that I've taken into the tile tree from other folks.
    
      The changes include some PCI root complex work, interrupt-driven
      console support, support for performing fast-path unaligned data
      fixups by kernel-based JIT code generation, CONFIG_PREEMPT support,
      vDSO support for gettimeofday(), a serial driver for the tilegx
      on-chip UART, KGDB support, more optimized string routines, support
      for ftrace and kprobes, improved ASLR, and many bug fixes.
    
      We also remove support for the old TILE64 chip, which is no longer
      buildable"
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/cmetcalf/linux-tile: (85 commits)
      tile: refresh tile defconfig files
      tile: rework <asm/cmpxchg.h>
      tile PCI RC: make default consistent DMA mask 32-bit
      tile: add null check for kzalloc in tile/kernel/setup.c
      tile: make __write_once a synonym for __read_mostly
      tile: remove support for TILE64
      tile: use asm-generic/bitops/builtin-*.h
      tile: eliminate no-op "noatomichash" boot argument
      tile: use standard tile_bundle_bits type in traps.c
      tile: simplify code referencing hypervisor API addresses
      tile: change <asm/system.h> to <asm/switch_to.h> in comments
      tile: mark pcibios_init() as __init
      tile: check for correct compiler earlier in asm-offsets.c
      tile: use standard 'generic-y' model for <asm/hw_irq.h>
      tile: use asm-generic version of <asm/local64.h>
      tile PCI RC: add comment about "PCI hole" problem
      tile: remove DEBUG_EXTRA_FLAGS kernel config option
      tile: add virt_to_kpte() API and clean up and document behavior
      tile: support FRAME_POINTER
      tile: support reporting Tilera hypervisor statistics
      ...

commit b5c6c1a72afcc416c11ad932589054dcd3125782
Author: Chris Metcalf <cmetcalf@tilera.com>
Date:   Mon Aug 12 14:11:44 2013 -0400

    tilegx: Add tty serial support for TILE-Gx on-chip UART
    
    Signed-off-by: Chris Metcalf <cmetcalf@tilera.com>
    Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 9119cc0977bf..b466487bb5da 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -232,4 +232,7 @@
 /* SH-SCI */
 #define PORT_HSCIF	104
 
+/* Tilera TILE-Gx UART */
+#define PORT_TILEGX	105
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit c4b058560762ec7ffe159b668fc47a8b7e271949
Author: Srinivas Kandagatla <srinivas.kandagatla@st.com>
Date:   Mon Jul 15 12:39:23 2013 +0100

    serial:st-asc: Add ST ASC driver.
    
    This patch adds support to ASC (asynchronous serial controller)
    driver, which is basically a standard serial driver. This IP is common
    across all the ST parts for settop box platforms.
    
    ASC is embedded in ST COMMS IP block. It supports Rx & Tx functionality.
    It support all industry standard baud rates.
    
    Signed-off-by: Srinivas Kandagatla <srinivas.kandagatla@st.com>
    CC: Stephen Gallimore <stephen.gallimore@st.com>
    CC: Stuart Menefy <stuart.menefy@st.com>
    CC: Arnd Bergmann <arnd@arndb.de>
    CC: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 9119cc0977bf..e40ebe124ced 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -232,4 +232,7 @@
 /* SH-SCI */
 #define PORT_HSCIF	104
 
+/* ST ASC type numbers */
+#define PORT_ASC       105
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 42daabf62bfa3c00974b43f030dadcf704c0db59
Merge: 0bf6a210a43f 8c3d913888cf
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Jul 2 14:42:51 2013 -0700

    Merge tag 'late-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull ARM SoC late changes from Arnd Bergmann:
     "These are changes that arrived a little late before the merge window
      or that have multiple dependencies on previous branches so they did
      not fit into one of the earlier ones.  There are 10 branches merged
      here, a total of 39 non-merge commits.  Contents are a mixed bag for
      the above reasons:
    
       * Two new SoC platforms: ST microelectronics stixxxx and the TI
         'Nspire' graphing calculator.  These should have been in the 'soc'
         branch but were a little late
       * Support for the Exynos 5420 variant in mach-exynos, which is based
         on the other exynos branches to avoid conflicts.
       * Various small changes for sh-mobile, ux500 and davinci
       * Common clk support for MSM"
    
    * tag 'late-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc: (39 commits)
      ARM: ux500: bail out on alien cpus
      ARM: davinci: da850: adopt to pinctrl-single change for configuring multiple pins
      serial: sh-sci: Initialise variables before access in sci_set_termios()
      ARM: stih41x: Add B2020 board support
      ARM: stih41x: Add B2000 board support
      ARM: sti: Add DEBUG_LL console support
      ARM: sti: Add STiH416 SOC support
      ARM: sti: Add STiH415 SOC support
      ARM: msm: Migrate to common clock framework
      ARM: msm: Make proc_comm clock control into a platform driver
      ARM: msm: Prepare clk_get() users in mach-msm for clock-pcom driver
      ARM: msm: Remove clock-7x30.h include file
      ARM: msm: Remove custom clk_set_{max,min}_rate() API
      ARM: msm: Remove custom clk_set_flags() API
      msm: iommu: Use clk_set_rate() instead of clk_set_min_rate()
      msm: iommu: Convert to clk_prepare/unprepare
      msm_sdcc: Convert to clk_prepare/unprepare
      usb: otg: msm: Convert to clk_prepare/unprepare
      msm_serial: Use devm_clk_get() and properly return errors
      msm_serial: Convert to clk_prepare/unprepare
      ...

commit f303b364b41d3fc5bf879799128958400b7859aa
Author: Ulrich Hecht <ulrich.hecht@gmail.com>
Date:   Fri May 31 17:57:01 2013 +0200

    serial: sh-sci: HSCIF support
    
    Adds support for "High Speed Serial Communications Interface with FIFO",
    essentially a SCIF with 128-byte FIFOs and more accurate baud rate
    generator.
    
    Signed-off-by: Ulrich Hecht <ulrich.hecht@gmail.com>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Signed-off-by: Simon Horman <horms+renesas@verge.net.au>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 74c2bf7211f8..26eee07eeb24 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -226,4 +226,7 @@
 /* Rocketport EXPRESS/INFINITY */
 #define PORT_RP2	102
 
+/* SH-SCI */
+#define PORT_HSCIF	103
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit c9e2e946fb0ba5d2398feb89558f98c5c28e23e3
Author: Jingchang Lu <b35083@freescale.com>
Date:   Fri Jun 7 09:20:40 2013 +0800

    tty: serial: add Freescale lpuart driver support
    
    Add Freescale lpuart driver support. The lpuart device
    can be found on Vybrid VF610 and Layerscape LS-1 SoCs.
    
    Signed-off-by: Jingchang Lu <b35083@freescale.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 74c2bf7211f8..c8eaeb5465ef 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -226,4 +226,7 @@
 /* Rocketport EXPRESS/INFINITY */
 #define PORT_RP2	102
 
+/* Freescale lpuart */
+#define PORT_LPUART	103
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit e06c93cacb82dd147266fd1bdb2d0a0bd45ff2c1
Author: Ley Foon Tan <lftan@altera.com>
Date:   Thu Mar 7 10:28:37 2013 +0800

    tty/serial: Add support for Altera serial port
    
    Add support for Altera 8250/16550 compatible serial port.
    
    Signed-off-by: Ley Foon Tan <lftan@altera.com>
    Cc: stable <stable@vger.kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index b6a23a483d74..74c2bf7211f8 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -51,7 +51,10 @@
 #define PORT_8250_CIR	23	/* CIR infrared port, has its own driver */
 #define PORT_XR17V35X	24	/* Exar XR17V35x UARTs */
 #define PORT_BRCM_TRUMANAGE	25
-#define PORT_MAX_8250	25	/* max port ID */
+#define PORT_ALTR_16550_F32 26	/* Altera 16550 UART with 32 FIFOs */
+#define PORT_ALTR_16550_F64 27	/* Altera 16550 UART with 64 FIFOs */
+#define PORT_ALTR_16550_F128 28 /* Altera 16550 UART with 128 FIFOs */
+#define PORT_MAX_8250	28	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit 85f024401bf80746ae08b7fd5809a9b16accf0b1
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Jan 29 17:54:44 2013 -0800

    serial_core: Fix type definition for PORT_BRCM_TRUMANAGE.
    
    It was mistakenly defined to be 24 instead of the next higher number 25.
    
    Reported-by: Alexander Shishkin <alexander.shishkin@linux.intel.com>
    Cc: Stephen Hurd <shurd@broadcom.com>
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Cc: stable <stable@vger.kernel.org>  # 3.8
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 08464ef2c72c..b6a23a483d74 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -50,7 +50,7 @@
 #define PORT_LPC3220	22	/* NXP LPC32xx SoC "Standard" UART */
 #define PORT_8250_CIR	23	/* CIR infrared port, has its own driver */
 #define PORT_XR17V35X	24	/* Exar XR17V35x UARTs */
-#define PORT_BRCM_TRUMANAGE	24
+#define PORT_BRCM_TRUMANAGE	25
 #define PORT_MAX_8250	25	/* max port ID */
 
 /*

commit 9f9cba810f36d16f4e64477e879a69f6c47b389d
Merge: dbf5bef8da16 949db153b646
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Fri Jan 25 13:27:36 2013 -0800

    Merge 3.8-rc5 into tty-next
    
    This resolves a number of tty driver merge issues found in linux-next
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 7d9f49afa451d8565d00a5cea39acf9bb26feb50
Author: Kevin Cernekee <cernekee@gmail.com>
Date:   Wed Jan 16 20:28:40 2013 -0800

    serial: rp2: New driver for Comtrol RocketPort 2 cards
    
    This driver supports the RocketPort EXPRESS and RocketPort INFINITY
    families of PCI/PCIe multiport serial adapters.  These adapters use a
    "RocketPort 2" ASIC that is not compatible with the original RocketPort
    driver (CONFIG_ROCKETPORT).
    
    Tested with the RocketPort EXPRESS Octa DB9 and Quad DB9.  Also added an
    old RocketPort 8J PCI card to the same system to verify that rocket.c and
    rp2.c coexist peacefully.
    
    Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 78f99d97475b..9dd47a569726 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -219,4 +219,7 @@
 /* ARC (Synopsys) on-chip UART */
 #define PORT_ARC       101
 
+/* Rocketport EXPRESS/INFINITY */
+#define PORT_RP2	102
+
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit ebebd49a8eab5e9aa1b1f8f1614ccc3c2120f886
Author: Stephen Hurd <shurd@broadcom.com>
Date:   Thu Jan 17 14:14:53 2013 -0800

    8250/16?50: Add support for Broadcom TruManage redirected serial port
    
    Add support for the UART device present in Broadcom TruManage capable
    NetXtreme chips (ie: 5761m 5762, and 5725).
    
    This implementation has a hidden transmit FIFO, so running in single-byte
    interrupt mode results in too many interrupts.  The UART_CAP_HFIFO
    capability was added to track this.  It continues to reload the THR as long
    as the THRE and TSRE bits are set in the LSR up to a specified limit (1024
    is used here).
    
    Signed-off-by: Stephen Hurd <shurd@broadcom.com>
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Cc: stable <stable@vger.kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 78f99d97475b..2c6c85f18ea0 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -50,7 +50,8 @@
 #define PORT_LPC3220	22	/* NXP LPC32xx SoC "Standard" UART */
 #define PORT_8250_CIR	23	/* CIR infrared port, has its own driver */
 #define PORT_XR17V35X	24	/* Exar XR17V35x UARTs */
-#define PORT_MAX_8250	24	/* max port ID */
+#define PORT_BRCM_TRUMANAGE	24
+#define PORT_MAX_8250	25	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit dc96efb72054985c0912f831da009a2da4e9f6dd
Author: Matt Schulte <matts@commtech-fastcom.com>
Date:   Mon Nov 19 09:12:04 2012 -0600

    Serial: Add support for new devices: Exar's XR17V35x family of multi-port PCIe UARTs
    
    Add support for new devices: Exar's XR17V35x family of multi-port PCIe UARTs.
    
    Signed-off-by: Matt Schulte <matts@commtech-fastcom.com>
    Acked-by: Alan Cox <alan@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index ebcc73f0418a..78f99d97475b 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -49,7 +49,8 @@
 #define PORT_XR17D15X	21	/* Exar XR17D15x UART */
 #define PORT_LPC3220	22	/* NXP LPC32xx SoC "Standard" UART */
 #define PORT_8250_CIR	23	/* CIR infrared port, has its own driver */
-#define PORT_MAX_8250	23	/* max port ID */
+#define PORT_XR17V35X	24	/* Exar XR17V35x UARTs */
+#define PORT_MAX_8250	24	/* max port ID */
 
 /*
  * ARM specific type numbers.  These are not currently guaranteed

commit 2ac4ad2a1468123f6bb439a547880a9c0d302e0a
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Sat Oct 27 12:47:12 2012 +0530

    serial/arc-uart: Add new driver
    
    Driver for non-standard on-chip UART, instantiated in the ARC (Synopsys)
    FPGA Boards such as ARCAngel4/ML50x
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>
    Reviewed-by: Felipe Balbi <balbi@ti.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
index 7e1ab20adc03..ebcc73f0418a 100644
--- a/include/uapi/linux/serial_core.h
+++ b/include/uapi/linux/serial_core.h
@@ -215,5 +215,7 @@
 /* Energy Micro efm32 SoC */
 #define PORT_EFMUART   100
 
+/* ARC (Synopsys) on-chip UART */
+#define PORT_ARC       101
 
 #endif /* _UAPILINUX_SERIAL_CORE_H */

commit 607ca46e97a1b6594b29647d98a32d545c24bdff
Author: David Howells <dhowells@redhat.com>
Date:   Sat Oct 13 10:46:48 2012 +0100

    UAPI: (Scripted) Disintegrate include/linux
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Acked-by: Arnd Bergmann <arnd@arndb.de>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Acked-by: Michael Kerrisk <mtk.manpages@gmail.com>
    Acked-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
    Acked-by: Dave Jones <davej@redhat.com>

diff --git a/include/uapi/linux/serial_core.h b/include/uapi/linux/serial_core.h
new file mode 100644
index 000000000000..7e1ab20adc03
--- /dev/null
+++ b/include/uapi/linux/serial_core.h
@@ -0,0 +1,219 @@
+/*
+ *  linux/drivers/char/serial_core.h
+ *
+ *  Copyright (C) 2000 Deep Blue Solutions Ltd.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ */
+#ifndef _UAPILINUX_SERIAL_CORE_H
+#define _UAPILINUX_SERIAL_CORE_H
+
+#include <linux/serial.h>
+
+/*
+ * The type definitions.  These are from Ted Ts'o's serial.h
+ */
+#define PORT_UNKNOWN	0
+#define PORT_8250	1
+#define PORT_16450	2
+#define PORT_16550	3
+#define PORT_16550A	4
+#define PORT_CIRRUS	5
+#define PORT_16650	6
+#define PORT_16650V2	7
+#define PORT_16750	8
+#define PORT_STARTECH	9
+#define PORT_16C950	10
+#define PORT_16654	11
+#define PORT_16850	12
+#define PORT_RSA	13
+#define PORT_NS16550A	14
+#define PORT_XSCALE	15
+#define PORT_RM9000	16	/* PMC-Sierra RM9xxx internal UART */
+#define PORT_OCTEON	17	/* Cavium OCTEON internal UART */
+#define PORT_AR7	18	/* Texas Instruments AR7 internal UART */
+#define PORT_U6_16550A	19	/* ST-Ericsson U6xxx internal UART */
+#define PORT_TEGRA	20	/* NVIDIA Tegra internal UART */
+#define PORT_XR17D15X	21	/* Exar XR17D15x UART */
+#define PORT_LPC3220	22	/* NXP LPC32xx SoC "Standard" UART */
+#define PORT_8250_CIR	23	/* CIR infrared port, has its own driver */
+#define PORT_MAX_8250	23	/* max port ID */
+
+/*
+ * ARM specific type numbers.  These are not currently guaranteed
+ * to be implemented, and will change in the future.  These are
+ * separate so any additions to the old serial.c that occur before
+ * we are merged can be easily merged here.
+ */
+#define PORT_PXA	31
+#define PORT_AMBA	32
+#define PORT_CLPS711X	33
+#define PORT_SA1100	34
+#define PORT_UART00	35
+#define PORT_21285	37
+
+/* Sparc type numbers.  */
+#define PORT_SUNZILOG	38
+#define PORT_SUNSAB	39
+
+/* DEC */
+#define PORT_DZ		46
+#define PORT_ZS		47
+
+/* Parisc type numbers. */
+#define PORT_MUX	48
+
+/* Atmel AT91 / AT32 SoC */
+#define PORT_ATMEL	49
+
+/* Macintosh Zilog type numbers */
+#define PORT_MAC_ZILOG	50	/* m68k : not yet implemented */
+#define PORT_PMAC_ZILOG	51
+
+/* SH-SCI */
+#define PORT_SCI	52
+#define PORT_SCIF	53
+#define PORT_IRDA	54
+
+/* Samsung S3C2410 SoC and derivatives thereof */
+#define PORT_S3C2410    55
+
+/* SGI IP22 aka Indy / Challenge S / Indigo 2 */
+#define PORT_IP22ZILOG	56
+
+/* Sharp LH7a40x -- an ARM9 SoC series */
+#define PORT_LH7A40X	57
+
+/* PPC CPM type number */
+#define PORT_CPM        58
+
+/* MPC52xx (and MPC512x) type numbers */
+#define PORT_MPC52xx	59
+
+/* IBM icom */
+#define PORT_ICOM	60
+
+/* Samsung S3C2440 SoC */
+#define PORT_S3C2440	61
+
+/* Motorola i.MX SoC */
+#define PORT_IMX	62
+
+/* Marvell MPSC */
+#define PORT_MPSC	63
+
+/* TXX9 type number */
+#define PORT_TXX9	64
+
+/* NEC VR4100 series SIU/DSIU */
+#define PORT_VR41XX_SIU		65
+#define PORT_VR41XX_DSIU	66
+
+/* Samsung S3C2400 SoC */
+#define PORT_S3C2400	67
+
+/* M32R SIO */
+#define PORT_M32R_SIO	68
+
+/*Digi jsm */
+#define PORT_JSM        69
+
+#define PORT_PNX8XXX	70
+
+/* Hilscher netx */
+#define PORT_NETX	71
+
+/* SUN4V Hypervisor Console */
+#define PORT_SUNHV	72
+
+#define PORT_S3C2412	73
+
+/* Xilinx uartlite */
+#define PORT_UARTLITE	74
+
+/* Blackfin bf5xx */
+#define PORT_BFIN	75
+
+/* Micrel KS8695 */
+#define PORT_KS8695	76
+
+/* Broadcom SB1250, etc. SOC */
+#define PORT_SB1250_DUART	77
+
+/* Freescale ColdFire */
+#define PORT_MCF	78
+
+/* Blackfin SPORT */
+#define PORT_BFIN_SPORT		79
+
+/* MN10300 on-chip UART numbers */
+#define PORT_MN10300		80
+#define PORT_MN10300_CTS	81
+
+#define PORT_SC26XX	82
+
+/* SH-SCI */
+#define PORT_SCIFA	83
+
+#define PORT_S3C6400	84
+
+/* NWPSERIAL */
+#define PORT_NWPSERIAL	85
+
+/* MAX3100 */
+#define PORT_MAX3100    86
+
+/* Timberdale UART */
+#define PORT_TIMBUART	87
+
+/* Qualcomm MSM SoCs */
+#define PORT_MSM	88
+
+/* BCM63xx family SoCs */
+#define PORT_BCM63XX	89
+
+/* Aeroflex Gaisler GRLIB APBUART */
+#define PORT_APBUART    90
+
+/* Altera UARTs */
+#define PORT_ALTERA_JTAGUART	91
+#define PORT_ALTERA_UART	92
+
+/* SH-SCI */
+#define PORT_SCIFB	93
+
+/* MAX310X */
+#define PORT_MAX310X	94
+
+/* High Speed UART for Medfield */
+#define PORT_MFD	95
+
+/* TI OMAP-UART */
+#define PORT_OMAP	96
+
+/* VIA VT8500 SoC */
+#define PORT_VT8500	97
+
+/* Xilinx PSS UART */
+#define PORT_XUARTPS	98
+
+/* Atheros AR933X SoC */
+#define PORT_AR933X	99
+
+/* Energy Micro efm32 SoC */
+#define PORT_EFMUART   100
+
+
+#endif /* _UAPILINUX_SERIAL_CORE_H */
