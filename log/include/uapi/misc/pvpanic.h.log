commit 191941692a3d1b6a9614502b279be062926b70f5
Author: zhenwei pi <pizhenwei@bytedance.com>
Date:   Thu Jan 2 10:35:13 2020 +0800

    misc: pvpanic: add crash loaded event
    
    Some users prefer kdump tools to generate guest kernel dumpfile,
    at the same time, need a out-of-band kernel panic event.
    
    Currently if booting guest kernel with 'crash_kexec_post_notifiers',
    QEMU will receive PVPANIC_PANICKED event and stop VM. If booting
    guest kernel without 'crash_kexec_post_notifiers', guest will not
    call notifier chain.
    
    Add PVPANIC_CRASH_LOADED bit for pvpanic event, it means that guest
    kernel actually hit a kernel panic, but the guest kernel wants to
    handle by itself.
    
    Signed-off-by: zhenwei pi <pizhenwei@bytedance.com>
    Link: https://lore.kernel.org/r/20200102023513.318836-3-pizhenwei@bytedance.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/misc/pvpanic.h b/include/uapi/misc/pvpanic.h
index cae69a822b25..54b7485390d3 100644
--- a/include/uapi/misc/pvpanic.h
+++ b/include/uapi/misc/pvpanic.h
@@ -4,5 +4,6 @@
 #define __PVPANIC_H__
 
 #define PVPANIC_PANICKED	(1 << 0)
+#define PVPANIC_CRASH_LOADED	(1 << 1)
 
 #endif /* __PVPANIC_H__ */

commit e0b9a42735f2672ca2764cfbea6e55a81098d5ba
Author: zhenwei pi <pizhenwei@bytedance.com>
Date:   Thu Jan 2 10:35:12 2020 +0800

    misc: pvpanic: move bit definition to uapi header file
    
    Some processes outside of the kernel(Ex, QEMU) should know what the
    value really is for, so move the bit definition to a uapi file.
    
    Suggested-by: Greg KH <gregkh@linuxfoundation.org>
    Signed-off-by: zhenwei pi <pizhenwei@bytedance.com>
    Link: https://lore.kernel.org/r/20200102023513.318836-2-pizhenwei@bytedance.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/include/uapi/misc/pvpanic.h b/include/uapi/misc/pvpanic.h
new file mode 100644
index 000000000000..cae69a822b25
--- /dev/null
+++ b/include/uapi/misc/pvpanic.h
@@ -0,0 +1,8 @@
+/* SPDX-License-Identifier: GPL-2.0 WITH Linux-syscall-note */
+
+#ifndef __PVPANIC_H__
+#define __PVPANIC_H__
+
+#define PVPANIC_PANICKED	(1 << 0)
+
+#endif /* __PVPANIC_H__ */
