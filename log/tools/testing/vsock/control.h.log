commit 5a2b2425634dd8d340d3889f2317a752a1a87618
Author: Stefano Garzarella <sgarzare@redhat.com>
Date:   Wed Dec 18 19:07:06 2019 +0100

    testing/vsock: add parameters to list and skip tests
    
    Some tests can fail with transports that have a slightly
    different behavior, so let's add the possibility to specify
    which tests to skip.
    
    Signed-off-by: Stefano Garzarella <sgarzare@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/tools/testing/vsock/control.h b/tools/testing/vsock/control.h
index dac3964a891d..51814b4f9ac1 100644
--- a/tools/testing/vsock/control.h
+++ b/tools/testing/vsock/control.h
@@ -10,5 +10,6 @@ void control_cleanup(void);
 void control_writeln(const char *str);
 char *control_readln(void);
 void control_expectln(const char *str);
+bool control_cmpln(char *line, const char *str, bool fail);
 
 #endif /* CONTROL_H */

commit ce1c7f84e276e8610ffa582517202ff76374cbc7
Author: Stefan Hajnoczi <stefanha@redhat.com>
Date:   Wed Dec 18 19:06:59 2019 +0100

    VSOCK: add SPDX identifiers to vsock tests
    
    Signed-off-by: Stefan Hajnoczi <stefanha@redhat.com>
    Signed-off-by: Stefano Garzarella <sgarzare@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/tools/testing/vsock/control.h b/tools/testing/vsock/control.h
index 54a07efd267c..dac3964a891d 100644
--- a/tools/testing/vsock/control.h
+++ b/tools/testing/vsock/control.h
@@ -1,3 +1,4 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 #ifndef CONTROL_H
 #define CONTROL_H
 

commit 0b02503384301e4c2db13f1045a1ddbaca2ba0ce
Author: Stefan Hajnoczi <stefanha@redhat.com>
Date:   Thu Oct 5 16:46:54 2017 -0400

    VSOCK: add tools/testing/vsock/vsock_diag_test
    
    This patch adds tests for the vsock_diag.ko module.
    
    These tests are not self-tests because they require manual set up of a
    KVM or VMware guest.  Please see tools/testing/vsock/README for
    instructions.
    
    The control.h and timeout.h infrastructure can be used for additional
    AF_VSOCK tests in the future.
    
    Signed-off-by: Stefan Hajnoczi <stefanha@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/tools/testing/vsock/control.h b/tools/testing/vsock/control.h
new file mode 100644
index 000000000000..54a07efd267c
--- /dev/null
+++ b/tools/testing/vsock/control.h
@@ -0,0 +1,13 @@
+#ifndef CONTROL_H
+#define CONTROL_H
+
+#include <stdbool.h>
+
+void control_init(const char *control_host, const char *control_port,
+		  bool server);
+void control_cleanup(void);
+void control_writeln(const char *str);
+char *control_readln(void);
+void control_expectln(const char *str);
+
+#endif /* CONTROL_H */
