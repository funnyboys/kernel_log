commit 0dd3a6945f5dd4864db809ff015a493d80c65898
Author: Florian Weimer <fweimer@redhat.com>
Date:   Wed May 2 14:10:32 2018 +0200

    selftests/x86: Detect -no-pie availability
    
    Some toolchains need -no-pie to build all tests, others do not support
    the -no-pie flag at all.  Therefore, add another test for the
    availability of the flag.
    
    This amends commit 3346a6a4e5ba8c040360f753b26938cec31a4bdc
    ("selftests: x86: sysret_ss_attrs doesn't build on a PIE build").
    
    Signed-off-by: Florian Weimer <fweimer@redhat.com>
    Acked-by: Randy Dunlap <rdunlap@infradead.org>
    Tested-by: Randy Dunlap <rdunlap@infradead.org>
    Signed-off-by: Shuah Khan (Samsung OSG) <shuah@kernel.org>

diff --git a/tools/testing/selftests/x86/trivial_program.c b/tools/testing/selftests/x86/trivial_program.c
new file mode 100644
index 000000000000..46a447163b93
--- /dev/null
+++ b/tools/testing/selftests/x86/trivial_program.c
@@ -0,0 +1,10 @@
+/* Trivial program to check that compilation with certain flags is working. */
+
+#include <stdio.h>
+
+int
+main(void)
+{
+	puts("");
+	return 0;
+}
