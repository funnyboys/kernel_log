commit c906d2c74e0bb9059fbf43e21f8a962986eb21e2
Author: Nicholas Piggin <npiggin@gmail.com>
Date:   Sat May 12 13:35:24 2018 +1000

    selftests/powerpc: fix exec benchmark
    
    The exec_target binary could segfault calling _exit(2) because r13
    is not set up properly (and libc looks at that when performing a
    syscall). Call SYS_exit using syscall(2) which doesn't seem to
    have this problem.
    
    Signed-off-by: Nicholas Piggin <npiggin@gmail.com>
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>

diff --git a/tools/testing/selftests/powerpc/benchmarks/exec_target.c b/tools/testing/selftests/powerpc/benchmarks/exec_target.c
index 3c9c144192be..c14b0fc1edde 100644
--- a/tools/testing/selftests/powerpc/benchmarks/exec_target.c
+++ b/tools/testing/selftests/powerpc/benchmarks/exec_target.c
@@ -6,8 +6,11 @@
  * Copyright 2018, Anton Blanchard, IBM Corp.
  */
 
-void _exit(int);
+#define _GNU_SOURCE
+#include <unistd.h>
+#include <sys/syscall.h>
+
 void _start(void)
 {
-	_exit(0);
+	syscall(SYS_exit, 0);
 }

commit dd40c5b4c90d84d30cdb452c2d193d6fb42247df
Author: Nicholas Piggin <npiggin@gmail.com>
Date:   Tue Mar 6 23:24:58 2018 +1000

    selftests/powerpc: Add process creation benchmark
    
    Signed-off-by: Nicholas Piggin <npiggin@gmail.com>
    [mpe: Add SPDX, and fixup formatting]
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>

diff --git a/tools/testing/selftests/powerpc/benchmarks/exec_target.c b/tools/testing/selftests/powerpc/benchmarks/exec_target.c
new file mode 100644
index 000000000000..3c9c144192be
--- /dev/null
+++ b/tools/testing/selftests/powerpc/benchmarks/exec_target.c
@@ -0,0 +1,13 @@
+// SPDX-License-Identifier: GPL-2.0+
+
+/*
+ * Part of fork context switch microbenchmark.
+ *
+ * Copyright 2018, Anton Blanchard, IBM Corp.
+ */
+
+void _exit(int);
+void _start(void)
+{
+	_exit(0);
+}
