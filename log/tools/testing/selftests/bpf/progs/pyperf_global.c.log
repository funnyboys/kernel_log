commit 6db2d81a46f99edb5690cf0b03bbe3b7f29dfd7b
Author: Alexei Starovoitov <ast@kernel.org>
Date:   Thu Jan 9 22:41:22 2020 -0800

    selftests/bpf: Add a test for a large global function
    
    test results:
    pyperf50 with always_inlined the same function five times: processed 46378 insns
    pyperf50 with global function: processed 6102 insns
    
    Signed-off-by: Alexei Starovoitov <ast@kernel.org>
    Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
    Acked-by: Song Liu <songliubraving@fb.com>
    Link: https://lore.kernel.org/bpf/20200110064124.1760511-5-ast@kernel.org

diff --git a/tools/testing/selftests/bpf/progs/pyperf_global.c b/tools/testing/selftests/bpf/progs/pyperf_global.c
new file mode 100644
index 000000000000..079e78a7562b
--- /dev/null
+++ b/tools/testing/selftests/bpf/progs/pyperf_global.c
@@ -0,0 +1,5 @@
+// SPDX-License-Identifier: GPL-2.0
+/* Copyright (c) 2020 Facebook */
+#define STACK_MAX_LEN 50
+#define GLOBAL_FUNC
+#include "pyperf.h"
