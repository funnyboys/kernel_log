commit c23587c92f6e3260fe3b82bb75b38aa2553b9468
Author: Christian Borntraeger <borntraeger@de.ibm.com>
Date:   Wed Dec 18 09:34:57 2019 +0100

    s390/purgatory: do not build purgatory with kcov, kasan and friends
    
    the purgatory must not rely on functions from the "old" kernel,
    so we must disable kasan and friends. We also need to have a
    separate copy of string.c as the default does not build memcmp
    with KASAN.
    
    Reported-by: kbuild test robot <lkp@intel.com>
    Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>
    Reviewed-by: Vasily Gorbik <gor@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

diff --git a/arch/s390/purgatory/string.c b/arch/s390/purgatory/string.c
new file mode 100644
index 000000000000..c98c22a72db7
--- /dev/null
+++ b/arch/s390/purgatory/string.c
@@ -0,0 +1,3 @@
+// SPDX-License-Identifier: GPL-2.0
+#define __HAVE_ARCH_MEMCMP	/* arch function */
+#include "../lib/string.c"
