commit 1681baa713aa138d3f0f77f05c3de1cd6416c7d6
Author: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
Date:   Wed Oct 23 15:44:15 2019 +0300

    ARC: merge HAPS-HS with nSIM-HS configs
    
    Starting from nSIM 2019.06 is possible to use DW UART
    instead of ARC UART. That allows us to merge
    "nsim_hs" with "haps_hs" and "nsim_hs_smp" with "haps_hs_smp"
    with minor changes which were done in previous commits.
    
    We eliminate nsim_hs_defconfig and nsim_hs_smp_defconfig
    and leave haps_hs_defconfig and haps_hs_smp_defconfig
    which can be used on HAPS / nSIM / ZEBU / QEMU platforms
    without additional changes in Linux kernel.
    
    For nSIM we should now use UART property values
    "-prop=nsim_mem-dev=uart0,kind=dwuart,base=0xf0000000"
    instead of previously used
    "-prop=nsim_mem-dev=uart0,base=0xc0fc1000"
    "use_connect" and "irq" values of UART property remains untouched.
    
    Signed-off-by: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index 3765dedcd319..2bde2a6e336a 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -21,7 +21,6 @@ static const char *simulation_compat[] __initconst = {
 	"snps,nsim",
 	"snps,nsimosci",
 #else
-	"snps,nsim_hs",
 	"snps,nsimosci_hs",
 	"snps,zebu_hs",
 #endif

commit d2912cb15bdda8ba4a5dd73396ad62641af2f520
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Tue Jun 4 10:11:33 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 500
    
    Based on 2 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license version 2 as
      published by the free software foundation #
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 4122 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Enrico Weigelt <info@metux.net>
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190604081206.933168790@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index 5cda56b1a2ea..3765dedcd319 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -1,11 +1,8 @@
+// SPDX-License-Identifier: GPL-2.0-only
 /*
  * ARC simulation Platform support code
  *
  * Copyright (C) 2012 Synopsys, Inc. (www.synopsys.com)
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
  */
 
 #include <linux/init.h>

commit 33460f86ad2c982f3172a10b17948ccaf923f07f
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Fri Jul 28 16:53:50 2017 +0530

    ARC: [plat-sim] Include this platform unconditionally
    
    Essentially remove CONFIG_ARC_PLAT_SIM
    
    There is no need for any platform specific code, just the board DTS
    match strings which we can include unconditionally
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index aea87389e44b..5cda56b1a2ea 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -20,11 +20,14 @@
  */
 
 static const char *simulation_compat[] __initconst = {
+#ifdef CONFIG_ISA_ARCOMPACT
 	"snps,nsim",
-	"snps,nsim_hs",
 	"snps,nsimosci",
+#else
+	"snps,nsim_hs",
 	"snps,nsimosci_hs",
 	"snps,zebu_hs",
+#endif
 	NULL,
 };
 

commit 9efac6798b20ae6b63ce244b569755f3b60d80aa
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Mon May 11 18:46:22 2015 +0530

    ARCv2: Add support for ZeBu Emulation platform for HS cores
    
    The cool thing is that same kernel image can run on
     - nsim OSCI simulation platform
     - SDPlite FPGA setups
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index e4fe51456808..aea87389e44b 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -24,6 +24,7 @@ static const char *simulation_compat[] __initconst = {
 	"snps,nsim_hs",
 	"snps,nsimosci",
 	"snps,nsimosci_hs",
+	"snps,zebu_hs",
 	NULL,
 };
 

commit 76a8c40c65a2fc9e526fcba97c0cd1a6ecbd3438
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Sat Oct 31 00:47:39 2015 +0530

    ARC: remove extraneous header include
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index dde692812bc1..e4fe51456808 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -10,7 +10,6 @@
 
 #include <linux/init.h>
 #include <asm/mach_desc.h>
-#include <asm/mcip.h>
 
 /*----------------------- Machine Descriptions ------------------------------
  *

commit aa0efcde45a36d1ea2bc5bde4d47f36ec17502de
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Mon Oct 12 15:15:48 2015 +0530

    ARCv2: smp: [plat-*]: No need to explicitly call mcip_init_smp()
    
    MCIP now registers it's own per cpu setup routine (for IPI IRQ request)
    using smp_ops.init_irq_cpu().
    
    So no need for platforms to do that. This now completely decouples
    platforms from MCIP.
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index e4128cca1b52..dde692812bc1 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -30,7 +30,4 @@ static const char *simulation_compat[] __initconst = {
 
 MACHINE_START(SIMULATION, "simulation")
 	.dt_compat	= simulation_compat,
-#ifdef CONFIG_ARC_MCIP
-	.init_smp	= mcip_init_smp,
-#endif
 MACHINE_END

commit 26b8f996239884451aeb1213747e3ca808c26024
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Mon Oct 12 16:38:07 2015 +0530

    ARCv2: smp: [plat-*]: No need to explicitly call mcip_init_early_smp()
    
    MCIP now registers it's own probe callback with smp_ops.init_early_smp()
    which is called by ARC common code, so no need for platforms to do that.
    
    This decouples the platforms and MCIP and helps confine MCIP details
    to it's own file.
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index d9e35b4a2f08..e4128cca1b52 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -31,7 +31,6 @@ static const char *simulation_compat[] __initconst = {
 MACHINE_START(SIMULATION, "simulation")
 	.dt_compat	= simulation_compat,
 #ifdef CONFIG_ARC_MCIP
-	.init_early	= mcip_init_early_smp,
 	.init_smp	= mcip_init_smp,
 #endif
 MACHINE_END

commit a12ebe16a5cea66c17a621ece3a557b8afda2361
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Mon Mar 9 14:30:19 2015 +0530

    ARCv2: [nsim*hs*] Support simulation platforms for HS38x cores
    
    Cc: Grant Likely <grant.likely@linaro.org>
    Cc: Rob Herring <robh+dt@kernel.org>
    Cc: devicetree@vger.kernel.org
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index 8795ae2ef48a..d9e35b4a2f08 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -22,7 +22,9 @@
 
 static const char *simulation_compat[] __initconst = {
 	"snps,nsim",
+	"snps,nsim_hs",
 	"snps,nsimosci",
+	"snps,nsimosci_hs",
 	NULL,
 };
 

commit 82fea5a1bbbe8c3b56d5f3efbf8880c7b25b1758
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Wed Sep 10 19:05:38 2014 +0530

    ARCv2: SMP: Support ARConnect (MCIP) for Inter-Core-Interrupts et al
    
    Cc: Jason Cooper <jason@lakedaemon.net>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
index 114fdc30941c..8795ae2ef48a 100644
--- a/arch/arc/plat-sim/platform.c
+++ b/arch/arc/plat-sim/platform.c
@@ -10,6 +10,7 @@
 
 #include <linux/init.h>
 #include <asm/mach_desc.h>
+#include <asm/mcip.h>
 
 /*----------------------- Machine Descriptions ------------------------------
  *
@@ -27,4 +28,8 @@ static const char *simulation_compat[] __initconst = {
 
 MACHINE_START(SIMULATION, "simulation")
 	.dt_compat	= simulation_compat,
+#ifdef CONFIG_ARC_MCIP
+	.init_early	= mcip_init_early_smp,
+	.init_smp	= mcip_init_smp,
+#endif
 MACHINE_END

commit fd1557923b2e45a7ff4664bd88311d8239d69ca9
Author: Vineet Gupta <vgupta@synopsys.com>
Date:   Fri Feb 20 19:12:18 2015 +0530

    ARC: [plat_arcfpga]->[plat_sim]
    
    * Remove remanants of legacy ARC FPGA platforms (AA4, ML509...)
    * Only nsim simulation platform is left, rename platform accordingly
    * AA4 DT stuff is compatible with nsim for ARC700 so rename it too
    
    Signed-off-by: Vineet Gupta <vgupta@synopsys.com>

diff --git a/arch/arc/plat-sim/platform.c b/arch/arc/plat-sim/platform.c
new file mode 100644
index 000000000000..114fdc30941c
--- /dev/null
+++ b/arch/arc/plat-sim/platform.c
@@ -0,0 +1,30 @@
+/*
+ * ARC simulation Platform support code
+ *
+ * Copyright (C) 2012 Synopsys, Inc. (www.synopsys.com)
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include <linux/init.h>
+#include <asm/mach_desc.h>
+
+/*----------------------- Machine Descriptions ------------------------------
+ *
+ * Machine description is simply a set of platform/board specific callbacks
+ * This is not directly related to DeviceTree based dynamic device creation,
+ * however as part of early device tree scan, we also select the right
+ * callback set, by matching the DT compatible name.
+ */
+
+static const char *simulation_compat[] __initconst = {
+	"snps,nsim",
+	"snps,nsimosci",
+	NULL,
+};
+
+MACHINE_START(SIMULATION, "simulation")
+	.dt_compat	= simulation_compat,
+MACHINE_END
