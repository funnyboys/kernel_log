commit a636cd6c422865a74ff305039ff0f85adbe3a7bf
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Sun May 19 15:51:34 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 4
    
    Based on 1 normalized pattern(s):
    
      licensed under gplv2 or later
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-or-later
    
    has been chosen to replace the boilerplate/reference in 118 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Jilayne Lovejoy <opensource@jilayne.com>
    Reviewed-by: Steve Winslow <swinslow@gmail.com>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Reviewed-by: Kate Stewart <kstewart@linuxfoundation.org>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190519154040.961286471@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/arch/arm/mach-at91/samv7.c b/arch/arm/mach-at91/samv7.c
index 11386f190c83..28f998f0fba5 100644
--- a/arch/arm/mach-at91/samv7.c
+++ b/arch/arm/mach-at91/samv7.c
@@ -1,10 +1,9 @@
+// SPDX-License-Identifier: GPL-2.0-or-later
 /*
  *  Setup code for SAMv7x
  *
  *  Copyright (C) 2013 Atmel,
  *                2016 Andras Szemzo <szemzo.andras@gmail.com>
- *
- * Licensed under GPLv2 or later.
  */
 #include <linux/of.h>
 #include <linux/of_platform.h>

commit be36e000bc2d28512721c6e09c3df920b1bfad5e
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Jun 9 12:18:02 2017 +0200

    ARM: at91: fix at91_suspend_entering_slow_clock link error
    
    When CONFIG_ARCH_AT91 is enabled, but none of the specific SoC support
    is in use, some at91 specific drivers fail to link:
    
    drivers/tty/serial/atmel_serial.o: In function `atmel_serial_suspend':
    atmel_serial.c:(.text.atmel_serial_suspend+0x1e): undefined reference to `at91_suspend_entering_slow_clock'
    drivers/usb/host/ohci-at91.o: In function `ohci_hcd_at91_drv_suspend':
    ohci-at91.c:(.text.ohci_hcd_at91_drv_suspend+0x12): undefined reference to `at91_suspend_entering_slow_clock'
    drivers/usb/gadget/udc/at91_udc.o: In function `at91udc_suspend':
    at91_udc.c:(.text.at91udc_suspend+0x26): undefined reference to `at91_suspend_entering_slow_clock'
    
    This changes the at91_suspend_entering_slow_clock hack once more, adding
    an alternative inline implementation that is used exactly in those cases
    that don't provide the normal implementation.
    
    Fixes: c1892c2379d2 ("ARM: at91: handle CONFIG_PM for armv7m configurations")
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>

diff --git a/arch/arm/mach-at91/samv7.c b/arch/arm/mach-at91/samv7.c
index 910f0c68db62..11386f190c83 100644
--- a/arch/arm/mach-at91/samv7.c
+++ b/arch/arm/mach-at91/samv7.c
@@ -15,15 +15,6 @@
 #include <asm/system_misc.h>
 #include "generic.h"
 
-#ifdef CONFIG_PM
-/* This function has to be defined for various drivers that are using it */
-int at91_suspend_entering_slow_clock(void)
-{
-	return 0;
-}
-EXPORT_SYMBOL(at91_suspend_entering_slow_clock);
-#endif
-
 static const char *const samv7_dt_board_compat[] __initconst = {
 	"atmel,samv7",
 	NULL

commit b2f06274337074a64ad42550f336b9f279eb835a
Author: Alexandre Belloni <alexandre.belloni@free-electrons.com>
Date:   Wed May 31 03:06:22 2017 +0200

    ARM: at91: handle CONFIG_PM for armv7m configurations
    
    There is currently no PM support for samx7 but the symbol can still be
    selected. This avoids compilation issues.
    
    Acked-by: Nicolas Ferre <nicolas.ferre@microchip.com>
    Signed-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>

diff --git a/arch/arm/mach-at91/samv7.c b/arch/arm/mach-at91/samv7.c
index 11386f190c83..910f0c68db62 100644
--- a/arch/arm/mach-at91/samv7.c
+++ b/arch/arm/mach-at91/samv7.c
@@ -15,6 +15,15 @@
 #include <asm/system_misc.h>
 #include "generic.h"
 
+#ifdef CONFIG_PM
+/* This function has to be defined for various drivers that are using it */
+int at91_suspend_entering_slow_clock(void)
+{
+	return 0;
+}
+EXPORT_SYMBOL(at91_suspend_entering_slow_clock);
+#endif
+
 static const char *const samv7_dt_board_compat[] __initconst = {
 	"atmel,samv7",
 	NULL

commit 2d4c44e979eaa846dfa63717c4f4818e11161c66
Author: Szemző András <sza@esh.hu>
Date:   Wed May 31 03:06:21 2017 +0200

    ARM: at91: Add armv7m support
    
    Add Atmel SAME70/SAMS70/SAMV71 SoC support.
    
    Signed-off-by: Szemző András <sza@esh.hu>
    Acked-by: Nicolas Ferre <nicolas.ferre@microchip.com>
    Signed-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>

diff --git a/arch/arm/mach-at91/samv7.c b/arch/arm/mach-at91/samv7.c
new file mode 100644
index 000000000000..11386f190c83
--- /dev/null
+++ b/arch/arm/mach-at91/samv7.c
@@ -0,0 +1,25 @@
+/*
+ *  Setup code for SAMv7x
+ *
+ *  Copyright (C) 2013 Atmel,
+ *                2016 Andras Szemzo <szemzo.andras@gmail.com>
+ *
+ * Licensed under GPLv2 or later.
+ */
+#include <linux/of.h>
+#include <linux/of_platform.h>
+#include <linux/of_address.h>
+#include <linux/slab.h>
+#include <asm/mach/arch.h>
+#include <asm/mach/map.h>
+#include <asm/system_misc.h>
+#include "generic.h"
+
+static const char *const samv7_dt_board_compat[] __initconst = {
+	"atmel,samv7",
+	NULL
+};
+
+DT_MACHINE_START(samv7_dt, "Atmel SAMV7")
+	.dt_compat	= samv7_dt_board_compat,
+MACHINE_END
