commit 59034b9d6af8ccc1de0a265ca90b3aa967bae19f
Author: H. Nikolaus Schaller <hns@goldelico.com>
Date:   Sun Dec 15 08:49:02 2019 +0100

    ARM: bcm: Add missing sentinel to bcm2711_compat[]
    
    commit 781fa0a95424 ("ARM: bcm: Add support for BCM2711 SoC")
    
    breaks boot of many other platforms (e.g. OMAP or i.MX6) if
    CONFIG_ARCH_BCM2835 is enabled in addition to some multiplatform
    config (e.g. omap2plus_defconfig). The symptom is that the OMAP
    based board does not show any activity beyond "Starting Kernel ..."
    even with earlycon.
    
    Reverting the mentioned commit makes it work again.
    
    The real fix is to add the missing NULL sentinel to the
    bcm2711_compat[] variable-length array.
    
    Fixes: 781fa0a95424 ("ARM: bcm: Add support for BCM2711 SoC")
    Acked-by: Stefan Wahren <wahrenst@gmx.net>
    Signed-off-by: H. Nikolaus Schaller <hns@goldelico.com>
    Signed-off-by: Florian Fainelli <f.fainelli@gmail.com>

diff --git a/arch/arm/mach-bcm/bcm2711.c b/arch/arm/mach-bcm/bcm2711.c
index dbe296798647..fa0300d8c79d 100644
--- a/arch/arm/mach-bcm/bcm2711.c
+++ b/arch/arm/mach-bcm/bcm2711.c
@@ -13,6 +13,7 @@ static const char * const bcm2711_compat[] = {
 #ifdef CONFIG_ARCH_MULTI_V7
 	"brcm,bcm2711",
 #endif
+	NULL
 };
 
 DT_MACHINE_START(BCM2711, "BCM2711")

commit 781fa0a954240c8487683ddf837fb2c4ede8e7ca
Author: Stefan Wahren <wahrenst@gmx.net>
Date:   Mon Sep 30 20:29:12 2019 +0200

    ARM: bcm: Add support for BCM2711 SoC
    
    Add the BCM2711 to ARCH_BCM2835, but use new machine board code
    because of the differences.
    
    Signed-off-by: Stefan Wahren <wahrenst@gmx.net>
    Reviewed-by: Eric Anholt <eric@anholt.net>
    Acked-by: Florian Fanelli <f.fainelli@gmail.com>

diff --git a/arch/arm/mach-bcm/bcm2711.c b/arch/arm/mach-bcm/bcm2711.c
new file mode 100644
index 000000000000..dbe296798647
--- /dev/null
+++ b/arch/arm/mach-bcm/bcm2711.c
@@ -0,0 +1,24 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2019 Stefan Wahren
+ */
+
+#include <linux/of_address.h>
+
+#include <asm/mach/arch.h>
+
+#include "platsmp.h"
+
+static const char * const bcm2711_compat[] = {
+#ifdef CONFIG_ARCH_MULTI_V7
+	"brcm,bcm2711",
+#endif
+};
+
+DT_MACHINE_START(BCM2711, "BCM2711")
+#ifdef CONFIG_ZONE_DMA
+	.dma_zone_size	= SZ_1G,
+#endif
+	.dt_compat = bcm2711_compat,
+	.smp = smp_ops(bcm2836_smp_ops),
+MACHINE_END
