commit 087958a17658dcd92cdc9292e6ce4319a25198fb
Author: Yash Shah <yash.shah@sifive.com>
Date:   Thu Feb 20 10:45:18 2020 +0530

    riscv: cacheinfo: Implement cache_get_priv_group with a generic ops structure
    
    Implement cache_get_priv_group() that will make use of a generic ops
    structure to return a private attribute group for custom cache info.
    
    Using riscv_set_cacheinfo_ops() users can hook their own custom function
    to return the private attribute group for cacheinfo. In future we can
    add more ops to this generic ops structure for SOC specific cacheinfo.
    
    Signed-off-by: Yash Shah <yash.shah@sifive.com>
    Reviewed-by: Anup Patel <anup@brainfault.org>
    Signed-off-by: Palmer Dabbelt <palmerdabbelt@google.com>

diff --git a/arch/riscv/include/asm/cacheinfo.h b/arch/riscv/include/asm/cacheinfo.h
new file mode 100644
index 000000000000..5d9662e9aba8
--- /dev/null
+++ b/arch/riscv/include/asm/cacheinfo.h
@@ -0,0 +1,15 @@
+/* SPDX-License-Identifier: GPL-2.0 */
+
+#ifndef _ASM_RISCV_CACHEINFO_H
+#define _ASM_RISCV_CACHEINFO_H
+
+#include <linux/cacheinfo.h>
+
+struct riscv_cacheinfo_ops {
+	const struct attribute_group * (*get_priv_group)(struct cacheinfo
+							*this_leaf);
+};
+
+void riscv_set_cacheinfo_ops(struct riscv_cacheinfo_ops *ops);
+
+#endif /* _ASM_RISCV_CACHEINFO_H */
