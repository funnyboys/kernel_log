commit dc2f7e67a28a5cbe4ea905dafaa6903df670014a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 9 12:01:01 2020 +0100

    dma-buf: Exercise dma-fence-chain under selftests
    
    A few very simple testcases to exercise the dma-fence-chain API.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Reviewed-by: Venkata Sandeep Dhanalakota <venkata.s.dhanalakota@intel.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/20200409110101.18400-3-chris@chris-wilson.co.uk

diff --git a/drivers/dma-buf/selftests.h b/drivers/dma-buf/selftests.h
index 5320386f02e5..55918ef9adab 100644
--- a/drivers/dma-buf/selftests.h
+++ b/drivers/dma-buf/selftests.h
@@ -11,3 +11,4 @@
  */
 selftest(sanitycheck, __sanitycheck__) /* keep first (igt selfcheck) */
 selftest(dma_fence, dma_fence)
+selftest(dma_fence_chain, dma_fence_chain)

commit 2989f6451084aed3f8cc9992477f7a9bf57a3716
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 10:59:27 2019 +0100

    dma-buf: Add selftests for dma-fence
    
    Exercise the dma-fence API exported to drivers.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Cc: Daniel Vetter <daniel.vetter@ffwll.ch>
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Link: https://patchwork.freedesktop.org/patch/msgid/20190819095928.32091-2-chris@chris-wilson.co.uk

diff --git a/drivers/dma-buf/selftests.h b/drivers/dma-buf/selftests.h
index 44b44390d23a..5320386f02e5 100644
--- a/drivers/dma-buf/selftests.h
+++ b/drivers/dma-buf/selftests.h
@@ -10,3 +10,4 @@
  * Tests are executed in order by igt/dmabuf_selftest
  */
 selftest(sanitycheck, __sanitycheck__) /* keep first (igt selfcheck) */
+selftest(dma_fence, dma_fence)

commit 9536b64ac0d6e3151963a11441dde7ade045fb29
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 10:59:26 2019 +0100

    dma-buf: Introduce selftesting framework
    
    In light of recent review slip ups, the absence of a suite of tests for
    dma-buf became apparent. Given the current plethora of testing
    frameworks, opt for one already in use by Intel's CI and so allow easy
    hook up into igt.
    
    We introduce a new module that when loaded will execute the list of
    selftests and their subtest. The names of the selftests are put into the
    modinfo as parameters so that igt can identify each, and run them
    independently, principally for ease of error reporting.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Cc: Daniel Vetter <daniel.vetter@ffwll.ch>
    Cc: Tomi Sarvela <tomi.p.sarvela@intel.com>
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Link: https://patchwork.freedesktop.org/patch/msgid/20190819095928.32091-1-chris@chris-wilson.co.uk

diff --git a/drivers/dma-buf/selftests.h b/drivers/dma-buf/selftests.h
new file mode 100644
index 000000000000..44b44390d23a
--- /dev/null
+++ b/drivers/dma-buf/selftests.h
@@ -0,0 +1,12 @@
+/* SPDX-License-Identifier: MIT */
+/* List each unit test as selftest(name, function)
+ *
+ * The name is used as both an enum and expanded as subtest__name to create
+ * a module parameter. It must be unique and legal for a C identifier.
+ *
+ * The function should be of type int function(void). It may be conditionally
+ * compiled using #if IS_ENABLED(DRM_I915_SELFTEST).
+ *
+ * Tests are executed in order by igt/dmabuf_selftest
+ */
+selftest(sanitycheck, __sanitycheck__) /* keep first (igt selfcheck) */
