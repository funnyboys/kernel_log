commit 18056f34c3b755f027a0923b0bb9d50a2e339caa
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Tue Apr 2 12:31:58 2019 +0200

    staging: rtl8192e: add proper SPDX identifiers on files that did not have them.
    
    There were a few files for the rtl8192e driver that did not have SPDX
    identifiers on them, so fix that up.  At the same time, remove the "free
    form" text that specified the license of the file, as that is impossible
    for any tool to properly parse.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 576241233a35..5073f9f40fdc 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -1,17 +1,9 @@
-/******************************************************************************
+/* SPDX-License-Identifier: GPL-2.0 */
+/*
  * Copyright(c) 2008 - 2010 Realtek Corporation. All rights reserved.
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
- * more details.
- *
- * The full GNU General Public License is included in this distribution in the
- * file called LICENSE.
- *
- * Contact Information:
- * wlanfae <wlanfae@realtek.com>
- *****************************************************************************/
+ * Contact Information: wlanfae <wlanfae@realtek.com>
+ */
 #ifndef __INC_QOS_TYPE_H
 #define __INC_QOS_TYPE_H
 

commit a959dec1155714260ff347020421ee6fce0d0f61
Author: Derek Robson <robsonde@gmail.com>
Date:   Sun Mar 19 14:16:02 2017 +1300

    Staging: rtl8192e - fixed style of block comments
    
    Fixed style of block comment across whole driver
    Found using checkpatch
    
    Signed-off-by: Derek Robson <robsonde@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 61da8f7475bb..576241233a35 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -11,7 +11,7 @@
  *
  * Contact Information:
  * wlanfae <wlanfae@realtek.com>
-******************************************************************************/
+ *****************************************************************************/
 #ifndef __INC_QOS_TYPE_H
 #define __INC_QOS_TYPE_H
 

commit fd181f7d5a53eb73ba7276d95ecdaff9605d63c2
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jul 20 17:26:06 2016 +0200

    staging/rtl8192e: avoid comparing unsigned type >= 0
    
    There is one remaining warning about a type limit check in rtl8192e:
    
    staging/rtl8192e/rtl819x_TSProc.c:326:14: error: comparison is always true due to limited range of data type [-Werror=type-limits]
    
    This changes a macro into a local function to clarify the types and simplify
    the check while removing the warning.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Acked-by: Jes Sorensen <Jes.Sorensen@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 463122db6d29..61da8f7475bb 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -169,9 +169,6 @@ union qos_tclas {
 	} TYPE2_8021Q;
 };
 
-#define IsACValid(ac)		((ac >= 0 && ac <= 7) ? true : false)
-
-
 union aci_aifsn {
 	u8	charData;
 

commit ae6d07a5d11a6ee2153521077c4760e22bef886f
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Sun Sep 20 21:04:28 2015 +0200

    staging: rtl8192e: Fix FSF_MAILING_ADDRESS warnings
    
    Remove FSF address from licenses at the beginning of files.
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index fcc8fabbebb7..463122db6d29 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -6,10 +6,6 @@
  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
  * more details.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA
- *
  * The full GNU General Public License is included in this distribution in the
  * file called LICENSE.
  *

commit adc7623c86064d1578b406f9625ac25088ce05c1
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Tue Jul 14 22:04:07 2015 +0200

    staging: rtl8192e: Remove unused enums
    
    Remove ack_policy enum and some unused RTL_DEBUG enums.
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 3aa35ced2b8b..fcc8fabbebb7 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -96,11 +96,6 @@ struct octet_string {
 	u16 Length;
 };
 
-enum ack_policy {
-	eAckPlc0_ACK		= 0x00,
-	eAckPlc1_NoACK		= 0x01,
-};
-
 #define AC0_BE	0
 #define AC1_BK	1
 #define AC2_VI	2

commit 669adbe6c9cb5414412fc2d0a6a4e3d844fa071f
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Tue Jun 2 22:48:05 2015 +0200

    staging: rtl8192e: Remove dead code
    
    Delete unused code. Removed some macros, enums, unions and several
    structures (tx_fwinfo, wmm_tspec, qos_tstream, sta_qos, bss_qos).
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index b3e7dae982a7..3aa35ced2b8b 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -91,122 +91,22 @@ union tspec_body {
 	} f;
 };
 
-struct wmm_tspec {
-	u8		ID;
-	u8		Length;
-	u8		OUI[3];
-	u8		OUI_Type;
-	u8		OUI_SubType;
-	u8		Version;
-	union tspec_body Body;
-};
-
 struct octet_string {
 	u8 *Octet;
 	u16 Length;
 };
 
-#define	MAX_WMMELE_LENGTH	64
-
-#define QOS_MODE u32
-
-#define QOS_DISABLE		0
-#define QOS_WMM		1
-#define QOS_WMMSA		2
-#define QOS_EDCA		4
-#define QOS_HCCA		8
-#define QOS_WMM_UAPSD		16
-
-#define WMM_PARAM_ELE_BODY_LEN	18
-
-#define MAX_STA_TS_COUNT			16
-#define MAX_AP_TS_COUNT			32
-#define QOS_TSTREAM_KEY_SIZE		13
-
-#define WMM_ACTION_CATEGORY_CODE	17
-#define WMM_PARAM_ELE_BODY_LEN	18
-
-#define MAX_TSPEC_TSID				15
-#define SESSION_REJECT_TSID			0xfe
-#define DEFAULT_TSID					0xff
-
-#define ADDTS_TIME_SLOT				100
-
-#define ACM_TIMEOUT				1000
-#define SESSION_REJECT_TIMEOUT		60000
-
 enum ack_policy {
 	eAckPlc0_ACK		= 0x00,
 	eAckPlc1_NoACK		= 0x01,
 };
 
-
-#define SET_WMM_QOS_INFO_FIELD(_pStart, _val)	\
-	WriteEF1Byte(_pStart, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 0, 4)
-#define SET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 0, 4, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 7, 1)
-#define SET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 7, 1, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 0, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 0, 1, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 1, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 1, 1, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 2, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 2, 1, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 3, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 3, 1, _val)
-
-#define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart) \
-	LE_BITS_TO_1BYTE(_pStart, 5, 2)
-#define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val) \
-	SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
-
-enum qos_ie_source {
-	QOSIE_SRC_ADDTSREQ,
-	QOSIE_SRC_ADDTSRSP,
-	QOSIE_SRC_REASOCREQ,
-	QOSIE_SRC_REASOCRSP,
-	QOSIE_SRC_DELTS,
-};
-
-
-#define AC_CODING u32
-
 #define AC0_BE	0
 #define AC1_BK	1
 #define AC2_VI	2
 #define AC3_VO	3
 #define AC_MAX	4
 
-
-#define AC_PARAM_SIZE	4
-
-#define WMM_PARAM_ELEMENT_SIZE	(8+(4*AC_PARAM_SIZE))
-
-enum qos_ele_subtype {
-	QOSELE_TYPE_INFO		= 0x00,
-	QOSELE_TYPE_PARAM	= 0x01,
-};
-
-
 enum direction_value {
 	DIR_UP			= 0,
 	DIR_DOWN		= 1,
@@ -227,22 +127,6 @@ struct acm {
 	u8		HwAcmCtl;
 };
 
-
-
-#define AC_UAPSD	u8
-
-#define	GET_VO_UAPSD(_apsd) ((_apsd) & BIT0)
-#define	SET_VO_UAPSD(_apsd) ((_apsd) |= BIT0)
-
-#define	GET_VI_UAPSD(_apsd) ((_apsd) & BIT1)
-#define	SET_VI_UAPSD(_apsd) ((_apsd) |= BIT1)
-
-#define	GET_BK_UAPSD(_apsd) ((_apsd) & BIT2)
-#define	SET_BK_UAPSD(_apsd) ((_apsd) |= BIT2)
-
-#define	GET_BE_UAPSD(_apsd) ((_apsd) & BIT3)
-#define	SET_BE_UAPSD(_apsd) ((_apsd) |= BIT3)
-
 union qos_tclas {
 
 	struct _TYPE_GENERAL {
@@ -294,65 +178,6 @@ union qos_tclas {
 	} TYPE2_8021Q;
 };
 
-struct qos_tstream {
-
-	bool			bUsed;
-	u16			MsduLifetime;
-	bool			bEstablishing;
-	u8			TimeSlotCount;
-	u8			DialogToken;
-	struct wmm_tspec TSpec;
-	struct wmm_tspec OutStandingTSpec;
-	u8			NominalPhyRate;
-};
-
-struct sta_qos {
-	u8 WMMIEBuf[MAX_WMMELE_LENGTH];
-	u8 *WMMIE;
-
-	QOS_MODE QosCapability;
-	QOS_MODE CurrentQosMode;
-
-	AC_UAPSD b4ac_Uapsd;
-	AC_UAPSD Curr4acUapsd;
-	u8 bInServicePeriod;
-	u8 MaxSPLength;
-	int NumBcnBeforeTrigger;
-
-	u8 *pWMMInfoEle;
-	u8 WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
-
-	struct acm acm[4];
-	enum acm_method AcmMethod;
-
-	struct qos_tstream StaTsArray[MAX_STA_TS_COUNT];
-	u8				DialogToken;
-	struct wmm_tspec TSpec;
-
-	u8				QBssWirelessMode;
-
-	bool				bNoAck;
-
-	bool				bEnableRxImmBA;
-
-};
-
-#define QBSS_LOAD_SIZE				5
-
-struct bss_qos {
-	QOS_MODE bdQoSMode;
-	u8 bdWMMIEBuf[MAX_WMMELE_LENGTH];
-	struct octet_string bdWMMIE;
-
-	enum qos_ele_subtype EleSubType;
-
-	u8 *pWMMInfoEle;
-	u8 *pWMMParamEle;
-
-	u8 QBssLoad[QBSS_LOAD_SIZE];
-	bool bQBssLoadValid;
-};
-
 #define IsACValid(ac)		((ac >= 0 && ac <= 7) ? true : false)
 
 
@@ -367,23 +192,4 @@ union aci_aifsn {
 	} f;
 };
 
-union ecw {
-	u8	charData;
-	struct {
-		u8	ECWmin:4;
-		u8	ECWmax:4;
-	} f;
-};
-
-union ac_param {
-	u32	longData;
-	u8	charData[4];
-
-	struct {
-		union aci_aifsn AciAifsn;
-		union ecw Ecw;
-		u16		TXOPLimit;
-	} f;
-};
-
 #endif

commit 06c111072892d3f5fed9d73d1becb59d3f33410b
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Sun May 31 20:19:21 2015 +0200

    staging: rtl8192e: Make ethernet addresses properly aligned
    
    Reorder ethernet addresses allocated on stack or in non-packed
    structures to keep them aligned(2).
    Use ETH_ALEN as array length in places where it was hardcoded to 6.
    
    Alignment verified using pahole where possible and target-tested
    with BUG_ON() trap in ether_addr_copy.
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 55ef7ec33f65..b3e7dae982a7 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -255,8 +255,8 @@ union qos_tclas {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
-		u8		SrcAddr[6];
-		u8		DstAddr[6];
+		u8		SrcAddr[ETH_ALEN];
+		u8		DstAddr[ETH_ALEN];
 		u16		Type;
 	} TYPE0_ETH;
 

commit 7e4eb9fdf2a1188cd4fce1945a5ba8c65fe91498
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Tue Mar 17 00:00:55 2015 +0100

    staging: rtl8192e: remove unused macros
    
    Several (unused) macros were removed from driver.
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 74f414129c55..55ef7ec33f65 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -338,18 +338,6 @@ struct sta_qos {
 };
 
 #define QBSS_LOAD_SIZE				5
-#define GET_QBSS_LOAD_STA_COUNT(__pStart)	\
-		ReadEF2Byte(__pStart)
-#define SET_QBSS_LOAD_STA_COUNT(__pStart, __Value)	\
-		WriteEF2Byte(__pStart, __Value)
-#define GET_QBSS_LOAD_CHNL_UTILIZATION(__pStart)	\
-		ReadEF1Byte((u8 *)(__pStart) + 2)
-#define SET_QBSS_LOAD_CHNL_UTILIZATION(__pStart, __Value)	\
-		WriteEF1Byte((u8 *)(__pStart) + 2, __Value)
-#define GET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart)	\
-		ReadEF2Byte((u8 *)(__pStart) + 3)
-#define SET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart, __Value) \
-		WriteEF2Byte((u8 *)(__pStart) + 3, __Value)
 
 struct bss_qos {
 	QOS_MODE bdQoSMode;
@@ -365,10 +353,6 @@ struct bss_qos {
 	bool bQBssLoadValid;
 };
 
-#define sQoSCtlLng	2
-#define QOS_CTRL_LEN(_QosMode)	((_QosMode > QOS_DISABLE) ? sQoSCtlLng : 0)
-
-
 #define IsACValid(ac)		((ac >= 0 && ac <= 7) ? true : false)
 
 

commit 7b979cda818948e4994fd2ab4081c129cc6194a5
Author: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
Date:   Tue Mar 17 00:00:53 2015 +0100

    staging: rtl8192e: remove rtllib_endianfree.h
    
    rtllib_endianfree.h was not used (only included)
    
    Signed-off-by: Mateusz Kulikowski <mateusz.kulikowski@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 973342b8a06d..74f414129c55 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -19,8 +19,6 @@
 #ifndef __INC_QOS_TYPE_H
 #define __INC_QOS_TYPE_H
 
-#include "rtllib_endianfree.h"
-
 #define BIT0		    0x00000001
 #define BIT1		    0x00000002
 #define BIT2		    0x00000004

commit a1ca601aa2593011987e5b1dc795e7c5c9e07761
Author: Andreas Frembs <andreas.frembs@studium.uni-erlangen.de>
Date:   Fri Dec 20 11:29:09 2013 +0100

    rtl8192e: Removing unused defines in rtl819x_Qos.h
    
    In rtl819x_Qos.h there were several macros defined but never used.
    So we removed this macros.
    
    Signed-off-by: Andreas Frembs <andreas.frembs@studium.uni-erlangen.de>
    Signed-off-by: Matthias Schoepe <matthias.schoepe@studium.uni-erlangen.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 5ecd556f0797..973342b8a06d 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -201,43 +201,6 @@ enum qos_ie_source {
 
 #define AC_PARAM_SIZE	4
 
-#define GET_WMM_AC_PARAM_AIFSN(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 0, 4))
-#define SET_WMM_AC_PARAM_AIFSN(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 0, 4, _val)
-
-#define GET_WMM_AC_PARAM_ACM(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 4, 1))
-#define SET_WMM_AC_PARAM_ACM(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 4, 1, _val)
-
-#define GET_WMM_AC_PARAM_ACI(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 5, 2))
-#define SET_WMM_AC_PARAM_ACI(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 5, 2, _val)
-
-#define GET_WMM_AC_PARAM_ACI_AIFSN(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 0, 8))
-#define SET_WMM_AC_PARAM_ACI_AIFSN(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 0, 8, _val)
-
-#define GET_WMM_AC_PARAM_ECWMIN(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 8, 4))
-#define SET_WMM_AC_PARAM_ECWMIN(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 8, 4, _val)
-
-#define GET_WMM_AC_PARAM_ECWMAX(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 12, 4))
-#define SET_WMM_AC_PARAM_ECWMAX(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 12, 4, _val)
-
-#define GET_WMM_AC_PARAM_TXOP_LIMIT(_pStart) \
-	((u8)LE_BITS_TO_4BYTE(_pStart, 16, 16))
-#define SET_WMM_AC_PARAM_TXOP_LIMIT(_pStart, _val) \
-	SET_BITS_TO_LE_4BYTE(_pStart, 16, 16, _val)
-
-
-
 #define WMM_PARAM_ELEMENT_SIZE	(8+(4*AC_PARAM_SIZE))
 
 enum qos_ele_subtype {

commit f88ec6cbc1db3fbe5890250a37f5065506b5989c
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Thu Aug 25 11:48:18 2011 -0500

    staging: rtl8192e: Cleanup checkpatch -f warnings and errors - Part VI
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 0d2f8bff4748..5ecd556f0797 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -21,38 +21,38 @@
 
 #include "rtllib_endianfree.h"
 
-#define BIT0                    0x00000001
-#define BIT1                    0x00000002
-#define BIT2                    0x00000004
-#define BIT3                    0x00000008
-#define BIT4                    0x00000010
-#define BIT5                    0x00000020
-#define BIT6                    0x00000040
-#define BIT7                    0x00000080
-#define BIT8                    0x00000100
-#define BIT9                    0x00000200
-#define BIT10                   0x00000400
-#define BIT11                   0x00000800
-#define BIT12                   0x00001000
-#define BIT13                   0x00002000
-#define BIT14                   0x00004000
-#define BIT15                   0x00008000
-#define BIT16                   0x00010000
-#define BIT17                   0x00020000
-#define BIT18                   0x00040000
-#define BIT19                   0x00080000
-#define BIT20                   0x00100000
-#define BIT21                   0x00200000
-#define BIT22                   0x00400000
-#define BIT23                   0x00800000
-#define BIT24                   0x01000000
-#define BIT25                   0x02000000
-#define BIT26                   0x04000000
-#define BIT27                   0x08000000
-#define BIT28                   0x10000000
-#define BIT29                   0x20000000
-#define BIT30                   0x40000000
-#define BIT31                   0x80000000
+#define BIT0		    0x00000001
+#define BIT1		    0x00000002
+#define BIT2		    0x00000004
+#define BIT3		    0x00000008
+#define BIT4		    0x00000010
+#define BIT5		    0x00000020
+#define BIT6		    0x00000040
+#define BIT7		    0x00000080
+#define BIT8		    0x00000100
+#define BIT9		    0x00000200
+#define BIT10		   0x00000400
+#define BIT11		   0x00000800
+#define BIT12		   0x00001000
+#define BIT13		   0x00002000
+#define BIT14		   0x00004000
+#define BIT15		   0x00008000
+#define BIT16		   0x00010000
+#define BIT17		   0x00020000
+#define BIT18		   0x00040000
+#define BIT19		   0x00080000
+#define BIT20		   0x00100000
+#define BIT21		   0x00200000
+#define BIT22		   0x00400000
+#define BIT23		   0x00800000
+#define BIT24		   0x01000000
+#define BIT25		   0x02000000
+#define BIT26		   0x04000000
+#define BIT27		   0x08000000
+#define BIT28		   0x10000000
+#define BIT29		   0x20000000
+#define BIT30		   0x40000000
+#define BIT31		   0x80000000
 
 union qos_tsinfo {
 	u8		charData[3];
@@ -67,14 +67,13 @@ union qos_tsinfo {
 		u8		ucTSInfoAckPolicy:2;
 		u8		ucSchedule:1;
 		u8		ucReserved:7;
-	}field;
+	} field;
 };
 
 union tspec_body {
 	u8		charData[55];
 
-	struct
-	{
+	struct {
 		union qos_tsinfo TSInfo;
 		u16	NominalMSDUsize;
 		u16	MaxMSDUsize;
@@ -105,9 +104,10 @@ struct wmm_tspec {
 };
 
 struct octet_string {
-        u8		*Octet;
-        u16             Length;
+	u8 *Octet;
+	u16 Length;
 };
+
 #define	MAX_WMMELE_LENGTH	64
 
 #define QOS_MODE u32
@@ -143,28 +143,43 @@ enum ack_policy {
 };
 
 
-#define SET_WMM_QOS_INFO_FIELD(_pStart, _val)						WriteEF1Byte(_pStart, _val)
+#define SET_WMM_QOS_INFO_FIELD(_pStart, _val)	\
+	WriteEF1Byte(_pStart, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart)		LE_BITS_TO_1BYTE(_pStart, 0, 4)
-#define SET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart, _val)	SET_BITS_TO_LE_1BYTE(_pStart, 0, 4, _val)
+#define GET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 0, 4)
+#define SET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 0, 4, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart)					LE_BITS_TO_1BYTE(_pStart, 7, 1)
-#define SET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart, _val)				SET_BITS_TO_LE_1BYTE(_pStart, 7, 1, _val)
+#define GET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 7, 1)
+#define SET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 7, 1, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 0, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 0, 1, _val)
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 0, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 0, 1, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 1, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 1, 1, _val)
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 1, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 1, 1, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 2, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 2, 1, _val)
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 2, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 2, 1, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 3, 1)
-#define SET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 3, 1, _val)
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 3, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 3, 1, _val)
 
-#define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart)			LE_BITS_TO_1BYTE(_pStart, 5, 2)
-#define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
+#define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart) \
+	LE_BITS_TO_1BYTE(_pStart, 5, 2)
+#define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val) \
+	SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
 
 enum qos_ie_source {
 	QOSIE_SRC_ADDTSREQ,
@@ -186,26 +201,40 @@ enum qos_ie_source {
 
 #define AC_PARAM_SIZE	4
 
-#define GET_WMM_AC_PARAM_AIFSN(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 0, 4) )
-#define SET_WMM_AC_PARAM_AIFSN(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 0, 4, _val)
+#define GET_WMM_AC_PARAM_AIFSN(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 0, 4))
+#define SET_WMM_AC_PARAM_AIFSN(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 0, 4, _val)
 
-#define GET_WMM_AC_PARAM_ACM(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 4, 1) )
-#define SET_WMM_AC_PARAM_ACM(_pStart, _val)			SET_BITS_TO_LE_4BYTE(_pStart, 4, 1, _val)
+#define GET_WMM_AC_PARAM_ACM(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 4, 1))
+#define SET_WMM_AC_PARAM_ACM(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 4, 1, _val)
 
-#define GET_WMM_AC_PARAM_ACI(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 5, 2) )
-#define SET_WMM_AC_PARAM_ACI(_pStart, _val)			SET_BITS_TO_LE_4BYTE(_pStart, 5, 2, _val)
+#define GET_WMM_AC_PARAM_ACI(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 5, 2))
+#define SET_WMM_AC_PARAM_ACI(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 5, 2, _val)
 
-#define GET_WMM_AC_PARAM_ACI_AIFSN(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 0, 8) )
-#define SET_WMM_AC_PARAM_ACI_AIFSN(_pStart, _val)	SET_BITS_TO_LE_4BYTE(_pStart, 0, 8, _val)
+#define GET_WMM_AC_PARAM_ACI_AIFSN(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 0, 8))
+#define SET_WMM_AC_PARAM_ACI_AIFSN(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 0, 8, _val)
 
-#define GET_WMM_AC_PARAM_ECWMIN(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 8, 4) )
-#define SET_WMM_AC_PARAM_ECWMIN(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 8, 4, _val)
+#define GET_WMM_AC_PARAM_ECWMIN(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 8, 4))
+#define SET_WMM_AC_PARAM_ECWMIN(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 8, 4, _val)
 
-#define GET_WMM_AC_PARAM_ECWMAX(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 12, 4) )
-#define SET_WMM_AC_PARAM_ECWMAX(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 12, 4, _val)
+#define GET_WMM_AC_PARAM_ECWMAX(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 12, 4))
+#define SET_WMM_AC_PARAM_ECWMAX(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 12, 4, _val)
 
-#define GET_WMM_AC_PARAM_TXOP_LIMIT(_pStart)		( (u8)LE_BITS_TO_4BYTE(_pStart, 16, 16) )
-#define SET_WMM_AC_PARAM_TXOP_LIMIT(_pStart, _val)	SET_BITS_TO_LE_4BYTE(_pStart, 16, 16, _val)
+#define GET_WMM_AC_PARAM_TXOP_LIMIT(_pStart) \
+	((u8)LE_BITS_TO_4BYTE(_pStart, 16, 16))
+#define SET_WMM_AC_PARAM_TXOP_LIMIT(_pStart, _val) \
+	SET_BITS_TO_LE_4BYTE(_pStart, 16, 16, _val)
 
 
 
@@ -255,13 +284,13 @@ struct acm {
 
 union qos_tclas {
 
-	struct _TYPE_GENERAL{
+	struct _TYPE_GENERAL {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
 	} TYPE_GENERAL;
 
-	struct _TYPE0_ETH{
+	struct _TYPE0_ETH {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
@@ -270,7 +299,7 @@ union qos_tclas {
 		u16		Type;
 	} TYPE0_ETH;
 
-	struct _TYPE1_IPV4{
+	struct _TYPE1_IPV4 {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
@@ -284,7 +313,7 @@ union qos_tclas {
 		u8		Reserved;
 	} TYPE1_IPV4;
 
-	struct _TYPE1_IPV6{
+	struct _TYPE1_IPV6 {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
@@ -296,7 +325,7 @@ union qos_tclas {
 		u8		FlowLabel[3];
 	} TYPE1_IPV6;
 
-	struct _TYPE2_8021Q{
+	struct _TYPE2_8021Q {
 		u8		Priority;
 		u8		ClassifierType;
 		u8		Mask;
@@ -317,20 +346,20 @@ struct qos_tstream {
 };
 
 struct sta_qos {
-	u8				WMMIEBuf[MAX_WMMELE_LENGTH];
-	u8*				WMMIE;
+	u8 WMMIEBuf[MAX_WMMELE_LENGTH];
+	u8 *WMMIE;
 
-	QOS_MODE		QosCapability;
-	QOS_MODE		CurrentQosMode;
+	QOS_MODE QosCapability;
+	QOS_MODE CurrentQosMode;
 
-	AC_UAPSD		b4ac_Uapsd;
-	AC_UAPSD		Curr4acUapsd;
-	u8				bInServicePeriod;
-	u8				MaxSPLength;
-	int				NumBcnBeforeTrigger;
+	AC_UAPSD b4ac_Uapsd;
+	AC_UAPSD Curr4acUapsd;
+	u8 bInServicePeriod;
+	u8 MaxSPLength;
+	int NumBcnBeforeTrigger;
 
-	u8 *				pWMMInfoEle;
-	u8				WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
+	u8 *pWMMInfoEle;
+	u8 WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
 
 	struct acm acm[4];
 	enum acm_method AcmMethod;
@@ -347,67 +376,69 @@ struct sta_qos {
 
 };
 
-#define QBSS_LOAD_SIZE 5
-#define GET_QBSS_LOAD_STA_COUNT(__pStart)					ReadEF2Byte(__pStart)
-#define SET_QBSS_LOAD_STA_COUNT(__pStart, __Value)			WriteEF2Byte(__pStart, __Value)
-#define GET_QBSS_LOAD_CHNL_UTILIZATION(__pStart)			ReadEF1Byte((u8*)(__pStart) + 2)
-#define SET_QBSS_LOAD_CHNL_UTILIZATION(__pStart, __Value)		WriteEF1Byte((u8*)(__pStart) + 2, __Value)
-#define GET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart)			ReadEF2Byte((u8*)(__pStart) + 3)
-#define SET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart, __Value)	WriteEF2Byte((u8*)(__pStart) + 3, __Value)
+#define QBSS_LOAD_SIZE				5
+#define GET_QBSS_LOAD_STA_COUNT(__pStart)	\
+		ReadEF2Byte(__pStart)
+#define SET_QBSS_LOAD_STA_COUNT(__pStart, __Value)	\
+		WriteEF2Byte(__pStart, __Value)
+#define GET_QBSS_LOAD_CHNL_UTILIZATION(__pStart)	\
+		ReadEF1Byte((u8 *)(__pStart) + 2)
+#define SET_QBSS_LOAD_CHNL_UTILIZATION(__pStart, __Value)	\
+		WriteEF1Byte((u8 *)(__pStart) + 2, __Value)
+#define GET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart)	\
+		ReadEF2Byte((u8 *)(__pStart) + 3)
+#define SET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart, __Value) \
+		WriteEF2Byte((u8 *)(__pStart) + 3, __Value)
 
 struct bss_qos {
-
-	QOS_MODE			bdQoSMode;
-	u8					bdWMMIEBuf[MAX_WMMELE_LENGTH];
+	QOS_MODE bdQoSMode;
+	u8 bdWMMIEBuf[MAX_WMMELE_LENGTH];
 	struct octet_string bdWMMIE;
 
 	enum qos_ele_subtype EleSubType;
 
-	u8*					pWMMInfoEle;
-	u8*					pWMMParamEle;
+	u8 *pWMMInfoEle;
+	u8 *pWMMParamEle;
 
-	u8					QBssLoad[QBSS_LOAD_SIZE];
-	bool					bQBssLoadValid;
+	u8 QBssLoad[QBSS_LOAD_SIZE];
+	bool bQBssLoadValid;
 };
 
 #define sQoSCtlLng	2
-#define QOS_CTRL_LEN(_QosMode)		( (_QosMode > QOS_DISABLE)? sQoSCtlLng : 0 )
+#define QOS_CTRL_LEN(_QosMode)	((_QosMode > QOS_DISABLE) ? sQoSCtlLng : 0)
 
 
-#define IsACValid(ac)		( ( ac>=0 && ac<=7 )? true : false )
+#define IsACValid(ac)		((ac >= 0 && ac <= 7) ? true : false)
 
 
 union aci_aifsn {
 	u8	charData;
 
-	struct
-	{
+	struct {
 		u8	AIFSN:4;
 		u8	acm:1;
 		u8	ACI:2;
 		u8	Reserved:1;
-	}f;
+	} f;
 };
 
 union ecw {
 	u8	charData;
-	struct
-	{
+	struct {
 		u8	ECWmin:4;
 		u8	ECWmax:4;
-	}f;
+	} f;
 };
 
 union ac_param {
 	u32	longData;
 	u8	charData[4];
 
-	struct
-	{
+	struct {
 		union aci_aifsn AciAifsn;
 		union ecw Ecw;
 		u16		TXOPLimit;
-	}f;
+	} f;
 };
 
 #endif

commit 9de9f962c71ad2c512c40e30b84aca5392a89630
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 21:17:25 2011 -0500

    staging: rtl8192e: Convert typedefs that can be replaced with #define
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 59ab0b87227f..0d2f8bff4748 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -110,7 +110,8 @@ struct octet_string {
 };
 #define	MAX_WMMELE_LENGTH	64
 
-typedef u32 QOS_MODE, *PQOS_MODE;
+#define QOS_MODE u32
+
 #define QOS_DISABLE		0
 #define QOS_WMM		1
 #define QOS_WMMSA		2
@@ -174,7 +175,8 @@ enum qos_ie_source {
 };
 
 
-typedef u32 AC_CODING;
+#define AC_CODING u32
+
 #define AC0_BE	0
 #define AC1_BK	1
 #define AC2_VI	2
@@ -237,7 +239,7 @@ struct acm {
 
 
 
-typedef	u8		AC_UAPSD, *PAC_UAPSD;
+#define AC_UAPSD	u8
 
 #define	GET_VO_UAPSD(_apsd) ((_apsd) & BIT0)
 #define	SET_VO_UAPSD(_apsd) ((_apsd) |= BIT0)

commit 379a20fb29f9328d132cc1839192153149858940
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 19:30:04 2011 -0500

    staging: rtl8192e: Convert typedef ACM_METHOD to enum acm_method
    
    Remove typedef from enum.
    Rename enum.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 19f10e8cdaef..59ab0b87227f 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -222,11 +222,11 @@ enum direction_value {
 	DIR_BI_DIR		= 3,
 };
 
-typedef	enum _ACM_METHOD{
+enum acm_method {
 	eAcmWay0_SwAndHw		= 0,
 	eAcmWay1_HW			= 1,
 	eAcmWay2_SW			= 2,
-} ACM_METHOD,*PACM_METHOD;
+};
 
 
 struct acm {
@@ -331,7 +331,7 @@ struct sta_qos {
 	u8				WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
 
 	struct acm acm[4];
-	ACM_METHOD		AcmMethod;
+	enum acm_method AcmMethod;
 
 	struct qos_tstream StaTsArray[MAX_STA_TS_COUNT];
 	u8				DialogToken;

commit f12dfcb016044ec1c08bb8186255bfb58bbd84f4
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 19:28:39 2011 -0500

    staging: rtl8192e: Convert typedef DIRECTION_VALUE to enum direction_value
    
    Remove typedef from enum.
    Rename enum.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index b4290c41c6e8..19f10e8cdaef 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -215,12 +215,12 @@ enum qos_ele_subtype {
 };
 
 
-typedef	enum _DIRECTION_VALUE{
+enum direction_value {
 	DIR_UP			= 0,
 	DIR_DOWN		= 1,
 	DIR_DIRECT		= 2,
 	DIR_BI_DIR		= 3,
-} DIRECTION_VALUE,*PDIRECTION_VALUE;
+};
 
 typedef	enum _ACM_METHOD{
 	eAcmWay0_SwAndHw		= 0,

commit f58a1cd97e727317ff316f7783592019606b4bc7
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 19:27:05 2011 -0500

    staging: rtl8192e: Convert typedef QOS_ELE_SUBTYPE to enum qos_ele_subtype
    
    Remove typedef from enum.
    Rename enum.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 547baeab30e1..b4290c41c6e8 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -165,13 +165,13 @@ enum ack_policy {
 #define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart)			LE_BITS_TO_1BYTE(_pStart, 5, 2)
 #define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
 
-typedef enum _QOSIE_SOURCE{
+enum qos_ie_source {
 	QOSIE_SRC_ADDTSREQ,
 	QOSIE_SRC_ADDTSRSP,
 	QOSIE_SRC_REASOCREQ,
 	QOSIE_SRC_REASOCRSP,
 	QOSIE_SRC_DELTS,
-} QOSIE_SOURCE;
+};
 
 
 typedef u32 AC_CODING;
@@ -209,10 +209,10 @@ typedef u32 AC_CODING;
 
 #define WMM_PARAM_ELEMENT_SIZE	(8+(4*AC_PARAM_SIZE))
 
-typedef	enum _QOS_ELE_SUBTYPE{
+enum qos_ele_subtype {
 	QOSELE_TYPE_INFO		= 0x00,
 	QOSELE_TYPE_PARAM	= 0x01,
-} QOS_ELE_SUBTYPE,*PQOS_ELE_SUBTYPE;
+};
 
 
 typedef	enum _DIRECTION_VALUE{
@@ -359,7 +359,7 @@ struct bss_qos {
 	u8					bdWMMIEBuf[MAX_WMMELE_LENGTH];
 	struct octet_string bdWMMIE;
 
-	QOS_ELE_SUBTYPE		EleSubType;
+	enum qos_ele_subtype EleSubType;
 
 	u8*					pWMMInfoEle;
 	u8*					pWMMParamEle;

commit 4164e4de6c90e06dafe07d6390b591d886a0c080
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 19:24:06 2011 -0500

    staging: rtl8192e: Convert typedef ACK_POLICY to enum ack_policy
    
    Remove typedef from enum.
    Rename enum.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 1a8267d708dd..547baeab30e1 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -136,10 +136,10 @@ typedef u32 QOS_MODE, *PQOS_MODE;
 #define ACM_TIMEOUT				1000
 #define SESSION_REJECT_TIMEOUT		60000
 
-typedef	enum _ACK_POLICY{
+enum ack_policy {
 	eAckPlc0_ACK		= 0x00,
 	eAckPlc1_NoACK		= 0x01,
-} ACK_POLICY,*PACK_POLICY;
+};
 
 
 #define SET_WMM_QOS_INFO_FIELD(_pStart, _val)						WriteEF1Byte(_pStart, _val)

commit d3b2c172518dceed0d1d68f5b90dde5a2f6a438d
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 12:50:41 2011 -0500

    staging: rtl8192e: Prepare header files to ease use of typedef enum conversion
    
    The tool that I am using fails for certain conditions. This patch makes trivial
    changes to the source to allow the tool to work for all cases.
    
    I also remove some artifacts left from the typedef struct conversion.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index d4902d81d57e..1a8267d708dd 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -107,7 +107,7 @@ struct wmm_tspec {
 struct octet_string {
         u8		*Octet;
         u16             Length;
-};//, *struct octet_string *;
+};
 #define	MAX_WMMELE_LENGTH	64
 
 typedef u32 QOS_MODE, *PQOS_MODE;
@@ -139,7 +139,7 @@ typedef u32 QOS_MODE, *PQOS_MODE;
 typedef	enum _ACK_POLICY{
 	eAckPlc0_ACK		= 0x00,
 	eAckPlc1_NoACK		= 0x01,
-}ACK_POLICY,*PACK_POLICY;
+} ACK_POLICY,*PACK_POLICY;
 
 
 #define SET_WMM_QOS_INFO_FIELD(_pStart, _val)						WriteEF1Byte(_pStart, _val)
@@ -165,7 +165,7 @@ typedef	enum _ACK_POLICY{
 #define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart)			LE_BITS_TO_1BYTE(_pStart, 5, 2)
 #define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
 
-typedef enum {
+typedef enum _QOSIE_SOURCE{
 	QOSIE_SRC_ADDTSREQ,
 	QOSIE_SRC_ADDTSRSP,
 	QOSIE_SRC_REASOCREQ,
@@ -212,7 +212,7 @@ typedef u32 AC_CODING;
 typedef	enum _QOS_ELE_SUBTYPE{
 	QOSELE_TYPE_INFO		= 0x00,
 	QOSELE_TYPE_PARAM	= 0x01,
-}QOS_ELE_SUBTYPE,*PQOS_ELE_SUBTYPE;
+} QOS_ELE_SUBTYPE,*PQOS_ELE_SUBTYPE;
 
 
 typedef	enum _DIRECTION_VALUE{
@@ -220,20 +220,20 @@ typedef	enum _DIRECTION_VALUE{
 	DIR_DOWN		= 1,
 	DIR_DIRECT		= 2,
 	DIR_BI_DIR		= 3,
-}DIRECTION_VALUE,*PDIRECTION_VALUE;
+} DIRECTION_VALUE,*PDIRECTION_VALUE;
 
 typedef	enum _ACM_METHOD{
 	eAcmWay0_SwAndHw		= 0,
 	eAcmWay1_HW			= 1,
 	eAcmWay2_SW			= 2,
-}ACM_METHOD,*PACM_METHOD;
+} ACM_METHOD,*PACM_METHOD;
 
 
 struct acm {
 	u64		UsedTime;
 	u64		MediumTime;
 	u8		HwAcmCtl;
-};//, *struct acm *;
+};
 
 
 
@@ -343,7 +343,7 @@ struct sta_qos {
 
 	bool				bEnableRxImmBA;
 
-};//, *struct sta_qos *;
+};
 
 #define QBSS_LOAD_SIZE 5
 #define GET_QBSS_LOAD_STA_COUNT(__pStart)					ReadEF2Byte(__pStart)
@@ -366,7 +366,7 @@ struct bss_qos {
 
 	u8					QBssLoad[QBSS_LOAD_SIZE];
 	bool					bQBssLoadValid;
-};//, *struct bss_qos *;
+};
 
 #define sQoSCtlLng	2
 #define QOS_CTRL_LEN(_QosMode)		( (_QosMode > QOS_DISABLE)? sQoSCtlLng : 0 )

commit eb85e4689631ce116b74a87ce8929d07ba9b7601
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:35:19 2011 -0500

    staging: rtl8192e: Convert typedef AC_PARAM to union ac_param
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 1bf1016f77b6..d4902d81d57e 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -396,7 +396,7 @@ union ecw {
 	}f;
 };
 
-typedef	union _AC_PARAM{
+union ac_param {
 	u32	longData;
 	u8	charData[4];
 
@@ -406,10 +406,6 @@ typedef	union _AC_PARAM{
 		union ecw Ecw;
 		u16		TXOPLimit;
 	}f;
-}AC_PARAM, *PAC_PARAM;
-
-
-
-
+};
 
 #endif

commit a33be1e842d6fef31cc5e88bc92541552a448286
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:31:43 2011 -0500

    staging: rtl8192e: Convert typedef ECW to union ecw
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index af5c627941a3..1bf1016f77b6 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -387,14 +387,14 @@ union aci_aifsn {
 	}f;
 };
 
-typedef	union _ECW{
+union ecw {
 	u8	charData;
 	struct
 	{
 		u8	ECWmin:4;
 		u8	ECWmax:4;
 	}f;
-}ECW, *PECW;
+};
 
 typedef	union _AC_PARAM{
 	u32	longData;
@@ -403,7 +403,7 @@ typedef	union _AC_PARAM{
 	struct
 	{
 		union aci_aifsn AciAifsn;
-		ECW		Ecw;
+		union ecw Ecw;
 		u16		TXOPLimit;
 	}f;
 }AC_PARAM, *PAC_PARAM;

commit 44a4004670a47135fa4dcc0473d3d28c8fb3e922
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:29:41 2011 -0500

    staging: rtl8192e: Convert typedef ACI_AIFSN to union aci_aifsn
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index e063ed812c9f..af5c627941a3 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -375,7 +375,7 @@ struct bss_qos {
 #define IsACValid(ac)		( ( ac>=0 && ac<=7 )? true : false )
 
 
-typedef	union _ACI_AIFSN{
+union aci_aifsn {
 	u8	charData;
 
 	struct
@@ -385,7 +385,7 @@ typedef	union _ACI_AIFSN{
 		u8	ACI:2;
 		u8	Reserved:1;
 	}f;
-}ACI_AIFSN, *PACI_AIFSN;
+};
 
 typedef	union _ECW{
 	u8	charData;
@@ -402,7 +402,7 @@ typedef	union _AC_PARAM{
 
 	struct
 	{
-		ACI_AIFSN	AciAifsn;
+		union aci_aifsn AciAifsn;
 		ECW		Ecw;
 		u16		TXOPLimit;
 	}f;

commit 626f951d76279823711fd0f9b876fafee39c3dec
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:27:46 2011 -0500

    staging: rtl8192e: Convert typedef QOS_TCLAS to union qos_tclas
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index be5400c99d75..e063ed812c9f 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -251,7 +251,7 @@ typedef	u8		AC_UAPSD, *PAC_UAPSD;
 #define	GET_BE_UAPSD(_apsd) ((_apsd) & BIT3)
 #define	SET_BE_UAPSD(_apsd) ((_apsd) |= BIT3)
 
-typedef union _QOS_TCLAS{
+union qos_tclas {
 
 	struct _TYPE_GENERAL{
 		u8		Priority;
@@ -300,7 +300,7 @@ typedef union _QOS_TCLAS{
 		u8		Mask;
 		u16		TagType;
 	} TYPE2_8021Q;
-} QOS_TCLAS, *PQOS_TCLAS;
+};
 
 struct qos_tstream {
 

commit ed306e486d673a3ba4f9b0f2ab15afab0a6ba171
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:25:55 2011 -0500

    staging: rtl8192e: Convert typedef TSPEC_BODY to union tspec_body
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 31f4d69ca211..be5400c99d75 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -70,7 +70,7 @@ union qos_tsinfo {
 	}field;
 };
 
-typedef union _TSPEC_BODY{
+union tspec_body {
 	u8		charData[55];
 
 	struct
@@ -92,7 +92,7 @@ typedef union _TSPEC_BODY{
 		u16	SurplusBandwidthAllowance;
 		u16	MediumTime;
 	} f;
-}TSPEC_BODY, *PTSPEC_BODY;
+};
 
 struct wmm_tspec {
 	u8		ID;
@@ -101,7 +101,7 @@ struct wmm_tspec {
 	u8		OUI_Type;
 	u8		OUI_SubType;
 	u8		Version;
-	TSPEC_BODY	Body;
+	union tspec_body Body;
 };
 
 struct octet_string {

commit 42c53e7aaec108cf12431d6aca9ddac90b39d573
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Jul 19 10:24:09 2011 -0500

    staging: rtl8192e: Convert typedef QOS_TSINFO to union qos_tsinfo
    
    Remove typedef from union.
    Rename union.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 1a85a9cb4030..31f4d69ca211 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -54,7 +54,7 @@
 #define BIT30                   0x40000000
 #define BIT31                   0x80000000
 
-typedef union _QOS_TSINFO{
+union qos_tsinfo {
 	u8		charData[3];
 	struct {
 		u8		ucTrafficType:1;
@@ -68,13 +68,14 @@ typedef union _QOS_TSINFO{
 		u8		ucSchedule:1;
 		u8		ucReserved:7;
 	}field;
-}QOS_TSINFO, *PQOS_TSINFO;
+};
+
 typedef union _TSPEC_BODY{
 	u8		charData[55];
 
 	struct
 	{
-		QOS_TSINFO	TSInfo;
+		union qos_tsinfo TSInfo;
 		u16	NominalMSDUsize;
 		u16	MaxMSDUsize;
 		u32	MinServiceItv;

commit b0d7de7314d359ec52d8ba3660e1d5c729e44161
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 22:21:17 2011 -0500

    staging: rtl8192e: Convert typedef ACM to struct acm
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 93a9c13f4e3b..1a85a9cb4030 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -228,11 +228,11 @@ typedef	enum _ACM_METHOD{
 }ACM_METHOD,*PACM_METHOD;
 
 
-typedef struct _ACM{
+struct acm {
 	u64		UsedTime;
 	u64		MediumTime;
 	u8		HwAcmCtl;
-}ACM, *PACM;
+};//, *struct acm *;
 
 
 
@@ -329,7 +329,7 @@ struct sta_qos {
 	u8 *				pWMMInfoEle;
 	u8				WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
 
-	ACM				acm[4];
+	struct acm acm[4];
 	ACM_METHOD		AcmMethod;
 
 	struct qos_tstream StaTsArray[MAX_STA_TS_COUNT];
@@ -380,7 +380,7 @@ typedef	union _ACI_AIFSN{
 	struct
 	{
 		u8	AIFSN:4;
-		u8	ACM:1;
+		u8	acm:1;
 		u8	ACI:2;
 		u8	Reserved:1;
 	}f;

commit 0db427997a1dd486a4b93700398fe7076eb201e7
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 22:01:50 2011 -0500

    staging: rtl8192e: Convert typedef STA_QOS to struct sta_qos
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 7f55454a46f2..93a9c13f4e3b 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -313,7 +313,7 @@ struct qos_tstream {
 	u8			NominalPhyRate;
 };
 
-typedef struct _STA_QOS{
+struct sta_qos {
 	u8				WMMIEBuf[MAX_WMMELE_LENGTH];
 	u8*				WMMIE;
 
@@ -342,7 +342,7 @@ typedef struct _STA_QOS{
 
 	bool				bEnableRxImmBA;
 
-}STA_QOS, *PSTA_QOS;
+};//, *struct sta_qos *;
 
 #define QBSS_LOAD_SIZE 5
 #define GET_QBSS_LOAD_STA_COUNT(__pStart)					ReadEF2Byte(__pStart)

commit 1d2a55fb6fd806b67cbec191b1a2b5b32c7764a0
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 21:58:49 2011 -0500

    staging: rtl8192e: Convert typedef QOS_TSTREAM to struct qos_tstream
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 1b889f226b1b..7f55454a46f2 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -301,7 +301,7 @@ typedef union _QOS_TCLAS{
 	} TYPE2_8021Q;
 } QOS_TCLAS, *PQOS_TCLAS;
 
-typedef struct _QOS_TSTREAM{
+struct qos_tstream {
 
 	bool			bUsed;
 	u16			MsduLifetime;
@@ -311,7 +311,7 @@ typedef struct _QOS_TSTREAM{
 	struct wmm_tspec TSpec;
 	struct wmm_tspec OutStandingTSpec;
 	u8			NominalPhyRate;
-} QOS_TSTREAM, *PQOS_TSTREAM;
+};
 
 typedef struct _STA_QOS{
 	u8				WMMIEBuf[MAX_WMMELE_LENGTH];
@@ -332,7 +332,7 @@ typedef struct _STA_QOS{
 	ACM				acm[4];
 	ACM_METHOD		AcmMethod;
 
-	QOS_TSTREAM		StaTsArray[MAX_STA_TS_COUNT];
+	struct qos_tstream StaTsArray[MAX_STA_TS_COUNT];
 	u8				DialogToken;
 	struct wmm_tspec TSpec;
 

commit 8310b6c05c65dfe699dd62be5d71c246ddaefd96
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 21:57:13 2011 -0500

    staging: rtl8192e: Convert typedef OCTET_STRING to struct octet_string
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index e9eea5aba986..1b889f226b1b 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -103,10 +103,10 @@ struct wmm_tspec {
 	TSPEC_BODY	Body;
 };
 
-typedef struct _OCTET_STRING{
+struct octet_string {
         u8		*Octet;
         u16             Length;
-}OCTET_STRING, *POCTET_STRING;
+};//, *struct octet_string *;
 #define	MAX_WMMELE_LENGTH	64
 
 typedef u32 QOS_MODE, *PQOS_MODE;
@@ -356,7 +356,7 @@ struct bss_qos {
 
 	QOS_MODE			bdQoSMode;
 	u8					bdWMMIEBuf[MAX_WMMELE_LENGTH];
-	OCTET_STRING			bdWMMIE;
+	struct octet_string bdWMMIE;
 
 	QOS_ELE_SUBTYPE		EleSubType;
 

commit 95ce5fc94759fe4c17c9c3afb1cf897045736fa1
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 21:55:05 2011 -0500

    staging: rtl8192e: Convert typedef WMM_TSPEC to struct wmm_tspec
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 49e49cb9df7c..e9eea5aba986 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -93,7 +93,7 @@ typedef union _TSPEC_BODY{
 	} f;
 }TSPEC_BODY, *PTSPEC_BODY;
 
-typedef struct _WMM_TSPEC{
+struct wmm_tspec {
 	u8		ID;
 	u8		Length;
 	u8		OUI[3];
@@ -101,7 +101,7 @@ typedef struct _WMM_TSPEC{
 	u8		OUI_SubType;
 	u8		Version;
 	TSPEC_BODY	Body;
-} WMM_TSPEC, *PWMM_TSPEC;
+};
 
 typedef struct _OCTET_STRING{
         u8		*Octet;
@@ -308,8 +308,8 @@ typedef struct _QOS_TSTREAM{
 	bool			bEstablishing;
 	u8			TimeSlotCount;
 	u8			DialogToken;
-	WMM_TSPEC	TSpec;
-	WMM_TSPEC	OutStandingTSpec;
+	struct wmm_tspec TSpec;
+	struct wmm_tspec OutStandingTSpec;
 	u8			NominalPhyRate;
 } QOS_TSTREAM, *PQOS_TSTREAM;
 
@@ -334,7 +334,7 @@ typedef struct _STA_QOS{
 
 	QOS_TSTREAM		StaTsArray[MAX_STA_TS_COUNT];
 	u8				DialogToken;
-	WMM_TSPEC		TSpec;
+	struct wmm_tspec TSpec;
 
 	u8				QBssWirelessMode;
 

commit 0157d2e55c04a6fc7b69e4f9f0daed48c3597415
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jul 18 20:04:31 2011 -0500

    staging: rtl8192e: Convert typedef BSS_QOS to struct bss_qos
    
    Remove typedef from struct.
    Rename struct.
    Rename uses.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 8f5e0fdd2f31..49e49cb9df7c 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -352,7 +352,7 @@ typedef struct _STA_QOS{
 #define GET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart)			ReadEF2Byte((u8*)(__pStart) + 3)
 #define SET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart, __Value)	WriteEF2Byte((u8*)(__pStart) + 3, __Value)
 
-typedef struct _BSS_QOS{
+struct bss_qos {
 
 	QOS_MODE			bdQoSMode;
 	u8					bdWMMIEBuf[MAX_WMMELE_LENGTH];
@@ -365,7 +365,7 @@ typedef struct _BSS_QOS{
 
 	u8					QBssLoad[QBSS_LOAD_SIZE];
 	bool					bQBssLoadValid;
-}BSS_QOS, *PBSS_QOS;
+};//, *struct bss_qos *;
 
 #define sQoSCtlLng	2
 #define QOS_CTRL_LEN(_QosMode)		( (_QosMode > QOS_DISABLE)? sQoSCtlLng : 0 )

commit cb76215448947ddcc133c4b1c2ff2d4a77e851e0
Author: Mike McCormack <mikem@ring3k.org>
Date:   Mon Jul 11 08:56:20 2011 +0900

    rtl8192e: Remove extra ifdefs
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Signed-off-by: Mike McCormack <mikem@ring3k.org>

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
index 4c89a769915a..8f5e0fdd2f31 100644
--- a/drivers/staging/rtl8192e/rtl819x_Qos.h
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -54,14 +54,6 @@
 #define BIT30                   0x40000000
 #define BIT31                   0x80000000
 
-#ifndef RTK_DMP_PLATFORM
-#if (LINUX_VERSION_CODE < KERNEL_VERSION(2,6,20))
-#ifndef bool
-typedef enum{false = 0, true} bool;
-#endif
-#endif
-#endif
-
 typedef union _QOS_TSINFO{
 	u8		charData[3];
 	struct {

commit 94a799425eee8225a1e3fbe5f473d2ef04002577
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Tue Aug 23 19:00:42 2011 -0500

    From: wlanfae <wlanfae@realtek.com>
    [PATCH 1/8] rtl8192e: Import new version of driver from realtek
    
    Signed-off-by: wlanfae <wlanfae@realtek.com>
    Signed-off-by: Mike McCormack <mikem@ring3k.org>
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    ---

diff --git a/drivers/staging/rtl8192e/rtl819x_Qos.h b/drivers/staging/rtl8192e/rtl819x_Qos.h
new file mode 100644
index 000000000000..4c89a769915a
--- /dev/null
+++ b/drivers/staging/rtl8192e/rtl819x_Qos.h
@@ -0,0 +1,422 @@
+/******************************************************************************
+ * Copyright(c) 2008 - 2010 Realtek Corporation. All rights reserved.
+ *
+ * This program is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ *
+ * You should have received a copy of the GNU General Public License along with
+ * this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA
+ *
+ * The full GNU General Public License is included in this distribution in the
+ * file called LICENSE.
+ *
+ * Contact Information:
+ * wlanfae <wlanfae@realtek.com>
+******************************************************************************/
+#ifndef __INC_QOS_TYPE_H
+#define __INC_QOS_TYPE_H
+
+#include "rtllib_endianfree.h"
+
+#define BIT0                    0x00000001
+#define BIT1                    0x00000002
+#define BIT2                    0x00000004
+#define BIT3                    0x00000008
+#define BIT4                    0x00000010
+#define BIT5                    0x00000020
+#define BIT6                    0x00000040
+#define BIT7                    0x00000080
+#define BIT8                    0x00000100
+#define BIT9                    0x00000200
+#define BIT10                   0x00000400
+#define BIT11                   0x00000800
+#define BIT12                   0x00001000
+#define BIT13                   0x00002000
+#define BIT14                   0x00004000
+#define BIT15                   0x00008000
+#define BIT16                   0x00010000
+#define BIT17                   0x00020000
+#define BIT18                   0x00040000
+#define BIT19                   0x00080000
+#define BIT20                   0x00100000
+#define BIT21                   0x00200000
+#define BIT22                   0x00400000
+#define BIT23                   0x00800000
+#define BIT24                   0x01000000
+#define BIT25                   0x02000000
+#define BIT26                   0x04000000
+#define BIT27                   0x08000000
+#define BIT28                   0x10000000
+#define BIT29                   0x20000000
+#define BIT30                   0x40000000
+#define BIT31                   0x80000000
+
+#ifndef RTK_DMP_PLATFORM
+#if (LINUX_VERSION_CODE < KERNEL_VERSION(2,6,20))
+#ifndef bool
+typedef enum{false = 0, true} bool;
+#endif
+#endif
+#endif
+
+typedef union _QOS_TSINFO{
+	u8		charData[3];
+	struct {
+		u8		ucTrafficType:1;
+		u8		ucTSID:4;
+		u8		ucDirection:2;
+		u8		ucAccessPolicy:2;
+		u8		ucAggregation:1;
+		u8		ucPSB:1;
+		u8		ucUP:3;
+		u8		ucTSInfoAckPolicy:2;
+		u8		ucSchedule:1;
+		u8		ucReserved:7;
+	}field;
+}QOS_TSINFO, *PQOS_TSINFO;
+typedef union _TSPEC_BODY{
+	u8		charData[55];
+
+	struct
+	{
+		QOS_TSINFO	TSInfo;
+		u16	NominalMSDUsize;
+		u16	MaxMSDUsize;
+		u32	MinServiceItv;
+		u32	MaxServiceItv;
+		u32	InactivityItv;
+		u32	SuspenItv;
+		u32	ServiceStartTime;
+		u32	MinDataRate;
+		u32	MeanDataRate;
+		u32	PeakDataRate;
+		u32	MaxBurstSize;
+		u32	DelayBound;
+		u32	MinPhyRate;
+		u16	SurplusBandwidthAllowance;
+		u16	MediumTime;
+	} f;
+}TSPEC_BODY, *PTSPEC_BODY;
+
+typedef struct _WMM_TSPEC{
+	u8		ID;
+	u8		Length;
+	u8		OUI[3];
+	u8		OUI_Type;
+	u8		OUI_SubType;
+	u8		Version;
+	TSPEC_BODY	Body;
+} WMM_TSPEC, *PWMM_TSPEC;
+
+typedef struct _OCTET_STRING{
+        u8		*Octet;
+        u16             Length;
+}OCTET_STRING, *POCTET_STRING;
+#define	MAX_WMMELE_LENGTH	64
+
+typedef u32 QOS_MODE, *PQOS_MODE;
+#define QOS_DISABLE		0
+#define QOS_WMM		1
+#define QOS_WMMSA		2
+#define QOS_EDCA		4
+#define QOS_HCCA		8
+#define QOS_WMM_UAPSD		16
+
+#define WMM_PARAM_ELE_BODY_LEN	18
+
+#define MAX_STA_TS_COUNT			16
+#define MAX_AP_TS_COUNT			32
+#define QOS_TSTREAM_KEY_SIZE		13
+
+#define WMM_ACTION_CATEGORY_CODE	17
+#define WMM_PARAM_ELE_BODY_LEN	18
+
+#define MAX_TSPEC_TSID				15
+#define SESSION_REJECT_TSID			0xfe
+#define DEFAULT_TSID					0xff
+
+#define ADDTS_TIME_SLOT				100
+
+#define ACM_TIMEOUT				1000
+#define SESSION_REJECT_TIMEOUT		60000
+
+typedef	enum _ACK_POLICY{
+	eAckPlc0_ACK		= 0x00,
+	eAckPlc1_NoACK		= 0x01,
+}ACK_POLICY,*PACK_POLICY;
+
+
+#define SET_WMM_QOS_INFO_FIELD(_pStart, _val)						WriteEF1Byte(_pStart, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart)		LE_BITS_TO_1BYTE(_pStart, 0, 4)
+#define SET_WMM_QOS_INFO_FIELD_PARAMETERSET_COUNT(_pStart, _val)	SET_BITS_TO_LE_1BYTE(_pStart, 0, 4, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart)					LE_BITS_TO_1BYTE(_pStart, 7, 1)
+#define SET_WMM_QOS_INFO_FIELD_AP_UAPSD(_pStart, _val)				SET_BITS_TO_LE_1BYTE(_pStart, 7, 1, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 0, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_VO_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 0, 1, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 1, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_VI_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 1, 1, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 2, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_BE_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 2, 1, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart)			LE_BITS_TO_1BYTE(_pStart, 3, 1)
+#define SET_WMM_QOS_INFO_FIELD_STA_AC_BK_UAPSD(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 3, 1, _val)
+
+#define GET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart)			LE_BITS_TO_1BYTE(_pStart, 5, 2)
+#define SET_WMM_QOS_INFO_FIELD_STA_MAX_SP_LEN(_pStart, _val)		SET_BITS_TO_LE_1BYTE(_pStart, 5, 2, _val)
+
+typedef enum {
+	QOSIE_SRC_ADDTSREQ,
+	QOSIE_SRC_ADDTSRSP,
+	QOSIE_SRC_REASOCREQ,
+	QOSIE_SRC_REASOCRSP,
+	QOSIE_SRC_DELTS,
+} QOSIE_SOURCE;
+
+
+typedef u32 AC_CODING;
+#define AC0_BE	0
+#define AC1_BK	1
+#define AC2_VI	2
+#define AC3_VO	3
+#define AC_MAX	4
+
+
+#define AC_PARAM_SIZE	4
+
+#define GET_WMM_AC_PARAM_AIFSN(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 0, 4) )
+#define SET_WMM_AC_PARAM_AIFSN(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 0, 4, _val)
+
+#define GET_WMM_AC_PARAM_ACM(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 4, 1) )
+#define SET_WMM_AC_PARAM_ACM(_pStart, _val)			SET_BITS_TO_LE_4BYTE(_pStart, 4, 1, _val)
+
+#define GET_WMM_AC_PARAM_ACI(_pStart)				( (u8)LE_BITS_TO_4BYTE(_pStart, 5, 2) )
+#define SET_WMM_AC_PARAM_ACI(_pStart, _val)			SET_BITS_TO_LE_4BYTE(_pStart, 5, 2, _val)
+
+#define GET_WMM_AC_PARAM_ACI_AIFSN(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 0, 8) )
+#define SET_WMM_AC_PARAM_ACI_AIFSN(_pStart, _val)	SET_BITS_TO_LE_4BYTE(_pStart, 0, 8, _val)
+
+#define GET_WMM_AC_PARAM_ECWMIN(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 8, 4) )
+#define SET_WMM_AC_PARAM_ECWMIN(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 8, 4, _val)
+
+#define GET_WMM_AC_PARAM_ECWMAX(_pStart)			( (u8)LE_BITS_TO_4BYTE(_pStart, 12, 4) )
+#define SET_WMM_AC_PARAM_ECWMAX(_pStart, _val)		SET_BITS_TO_LE_4BYTE(_pStart, 12, 4, _val)
+
+#define GET_WMM_AC_PARAM_TXOP_LIMIT(_pStart)		( (u8)LE_BITS_TO_4BYTE(_pStart, 16, 16) )
+#define SET_WMM_AC_PARAM_TXOP_LIMIT(_pStart, _val)	SET_BITS_TO_LE_4BYTE(_pStart, 16, 16, _val)
+
+
+
+#define WMM_PARAM_ELEMENT_SIZE	(8+(4*AC_PARAM_SIZE))
+
+typedef	enum _QOS_ELE_SUBTYPE{
+	QOSELE_TYPE_INFO		= 0x00,
+	QOSELE_TYPE_PARAM	= 0x01,
+}QOS_ELE_SUBTYPE,*PQOS_ELE_SUBTYPE;
+
+
+typedef	enum _DIRECTION_VALUE{
+	DIR_UP			= 0,
+	DIR_DOWN		= 1,
+	DIR_DIRECT		= 2,
+	DIR_BI_DIR		= 3,
+}DIRECTION_VALUE,*PDIRECTION_VALUE;
+
+typedef	enum _ACM_METHOD{
+	eAcmWay0_SwAndHw		= 0,
+	eAcmWay1_HW			= 1,
+	eAcmWay2_SW			= 2,
+}ACM_METHOD,*PACM_METHOD;
+
+
+typedef struct _ACM{
+	u64		UsedTime;
+	u64		MediumTime;
+	u8		HwAcmCtl;
+}ACM, *PACM;
+
+
+
+typedef	u8		AC_UAPSD, *PAC_UAPSD;
+
+#define	GET_VO_UAPSD(_apsd) ((_apsd) & BIT0)
+#define	SET_VO_UAPSD(_apsd) ((_apsd) |= BIT0)
+
+#define	GET_VI_UAPSD(_apsd) ((_apsd) & BIT1)
+#define	SET_VI_UAPSD(_apsd) ((_apsd) |= BIT1)
+
+#define	GET_BK_UAPSD(_apsd) ((_apsd) & BIT2)
+#define	SET_BK_UAPSD(_apsd) ((_apsd) |= BIT2)
+
+#define	GET_BE_UAPSD(_apsd) ((_apsd) & BIT3)
+#define	SET_BE_UAPSD(_apsd) ((_apsd) |= BIT3)
+
+typedef union _QOS_TCLAS{
+
+	struct _TYPE_GENERAL{
+		u8		Priority;
+		u8		ClassifierType;
+		u8		Mask;
+	} TYPE_GENERAL;
+
+	struct _TYPE0_ETH{
+		u8		Priority;
+		u8		ClassifierType;
+		u8		Mask;
+		u8		SrcAddr[6];
+		u8		DstAddr[6];
+		u16		Type;
+	} TYPE0_ETH;
+
+	struct _TYPE1_IPV4{
+		u8		Priority;
+		u8		ClassifierType;
+		u8		Mask;
+		u8		Version;
+		u8		SrcIP[4];
+		u8		DstIP[4];
+		u16		SrcPort;
+		u16		DstPort;
+		u8		DSCP;
+		u8		Protocol;
+		u8		Reserved;
+	} TYPE1_IPV4;
+
+	struct _TYPE1_IPV6{
+		u8		Priority;
+		u8		ClassifierType;
+		u8		Mask;
+		u8		Version;
+		u8		SrcIP[16];
+		u8		DstIP[16];
+		u16		SrcPort;
+		u16		DstPort;
+		u8		FlowLabel[3];
+	} TYPE1_IPV6;
+
+	struct _TYPE2_8021Q{
+		u8		Priority;
+		u8		ClassifierType;
+		u8		Mask;
+		u16		TagType;
+	} TYPE2_8021Q;
+} QOS_TCLAS, *PQOS_TCLAS;
+
+typedef struct _QOS_TSTREAM{
+
+	bool			bUsed;
+	u16			MsduLifetime;
+	bool			bEstablishing;
+	u8			TimeSlotCount;
+	u8			DialogToken;
+	WMM_TSPEC	TSpec;
+	WMM_TSPEC	OutStandingTSpec;
+	u8			NominalPhyRate;
+} QOS_TSTREAM, *PQOS_TSTREAM;
+
+typedef struct _STA_QOS{
+	u8				WMMIEBuf[MAX_WMMELE_LENGTH];
+	u8*				WMMIE;
+
+	QOS_MODE		QosCapability;
+	QOS_MODE		CurrentQosMode;
+
+	AC_UAPSD		b4ac_Uapsd;
+	AC_UAPSD		Curr4acUapsd;
+	u8				bInServicePeriod;
+	u8				MaxSPLength;
+	int				NumBcnBeforeTrigger;
+
+	u8 *				pWMMInfoEle;
+	u8				WMMParamEle[WMM_PARAM_ELEMENT_SIZE];
+
+	ACM				acm[4];
+	ACM_METHOD		AcmMethod;
+
+	QOS_TSTREAM		StaTsArray[MAX_STA_TS_COUNT];
+	u8				DialogToken;
+	WMM_TSPEC		TSpec;
+
+	u8				QBssWirelessMode;
+
+	bool				bNoAck;
+
+	bool				bEnableRxImmBA;
+
+}STA_QOS, *PSTA_QOS;
+
+#define QBSS_LOAD_SIZE 5
+#define GET_QBSS_LOAD_STA_COUNT(__pStart)					ReadEF2Byte(__pStart)
+#define SET_QBSS_LOAD_STA_COUNT(__pStart, __Value)			WriteEF2Byte(__pStart, __Value)
+#define GET_QBSS_LOAD_CHNL_UTILIZATION(__pStart)			ReadEF1Byte((u8*)(__pStart) + 2)
+#define SET_QBSS_LOAD_CHNL_UTILIZATION(__pStart, __Value)		WriteEF1Byte((u8*)(__pStart) + 2, __Value)
+#define GET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart)			ReadEF2Byte((u8*)(__pStart) + 3)
+#define SET_QBSS_LOAD_AVAILABLE_CAPACITY(__pStart, __Value)	WriteEF2Byte((u8*)(__pStart) + 3, __Value)
+
+typedef struct _BSS_QOS{
+
+	QOS_MODE			bdQoSMode;
+	u8					bdWMMIEBuf[MAX_WMMELE_LENGTH];
+	OCTET_STRING			bdWMMIE;
+
+	QOS_ELE_SUBTYPE		EleSubType;
+
+	u8*					pWMMInfoEle;
+	u8*					pWMMParamEle;
+
+	u8					QBssLoad[QBSS_LOAD_SIZE];
+	bool					bQBssLoadValid;
+}BSS_QOS, *PBSS_QOS;
+
+#define sQoSCtlLng	2
+#define QOS_CTRL_LEN(_QosMode)		( (_QosMode > QOS_DISABLE)? sQoSCtlLng : 0 )
+
+
+#define IsACValid(ac)		( ( ac>=0 && ac<=7 )? true : false )
+
+
+typedef	union _ACI_AIFSN{
+	u8	charData;
+
+	struct
+	{
+		u8	AIFSN:4;
+		u8	ACM:1;
+		u8	ACI:2;
+		u8	Reserved:1;
+	}f;
+}ACI_AIFSN, *PACI_AIFSN;
+
+typedef	union _ECW{
+	u8	charData;
+	struct
+	{
+		u8	ECWmin:4;
+		u8	ECWmax:4;
+	}f;
+}ECW, *PECW;
+
+typedef	union _AC_PARAM{
+	u32	longData;
+	u8	charData[4];
+
+	struct
+	{
+		ACI_AIFSN	AciAifsn;
+		ECW		Ecw;
+		u16		TXOPLimit;
+	}f;
+}AC_PARAM, *PAC_PARAM;
+
+
+
+
+
+#endif
