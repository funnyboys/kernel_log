commit 5f46e3cde5a42502595effbc7ba7d4e902bff2f0
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Wed May 27 09:54:44 2020 +0100

    staging: vt6656: Move vnt_tx_usb_header to vnt_tx_context
    
    Move the USB element out of vnt_tx_packet and vnt_beacon_xmit to
    vnt_tx_context with sk_buff passed in parameters with the data now
    between skb->data and skb->len.
    
    The vnt_tx_usb header is moved from vnt_tx_buffer to usbpipe.h with the
    size added to extra_tx_headroom the largest possible size.
    
    The CONTEXT enums types are aligned with usb ones and CONTEXT_MGMT_PACKET
    is removed and is never be used.
    
    The skb_push in vnt_tx_packet is now only ever used with
    vnt_get_hdr_size with variables tx_bytes and tx_header_size removed.
    
    buf_len in vnt_usb_send_context is no longer used and replaced with
    urb->actual_length in vnt_tx_context_complete.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Link: https://lore.kernel.org/r/aa6257eb-1758-4e75-ab39-2a15ff6ffa7c@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index f3c7b99cda73..6ca2ca32d036 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -159,14 +159,7 @@ struct vnt_tx_fifo_head {
 	__le16 current_rate;
 } __packed;
 
-struct vnt_tx_usb_header {
-	u8 type;
-	u8 pkt_no;
-	__le16 tx_byte_count;
-} __packed;
-
 struct vnt_tx_buffer {
-	struct vnt_tx_usb_header usb;
 	struct vnt_tx_fifo_head fifo_head;
 	union vnt_tx_head tx_head;
 } __packed;

commit a069cd178f63374327ded3cb1a279a317fe65496
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun May 24 00:12:41 2020 +0100

    staging: vt6656: Fix vnt_tx_usb_header static checker warning
    
    drivers/staging/vt6656/rxtx.c:729 vnt_beacon_xmit()
    warn: struct type mismatch 'vnt_beacon_buffer vs vnt_tx_usb_header'
    
    Since the only part of vnt_beacon_buffer is used remove and
    replace it with vnt_tx_usb_header.
    
    Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Reviewed-by: Dan Carpenter <dan.carpenter@oracle.com>
    Link: https://lore.kernel.org/r/9818e564-81f6-a683-caa0-69423fded401@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index fd64d0838e34..f3c7b99cda73 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -179,11 +179,6 @@ struct vnt_tx_short_buf_head {
 	__le16 time_stamp_off;
 } __packed;
 
-struct vnt_beacon_buffer {
-	struct vnt_tx_usb_header usb;
-	struct vnt_tx_short_buf_head short_head;
-} __packed;
-
 int vnt_tx_packet(struct vnt_private *priv, struct sk_buff *skb);
 int vnt_beacon_make(struct vnt_private *priv, struct ieee80211_vif *vif);
 int vnt_beacon_enable(struct vnt_private *priv, struct ieee80211_vif *vif,

commit 9deca1e3e2b682a2b1e40f8970f36e1703e27bfc
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat May 16 11:39:34 2020 +0100

    staging: vt6656: vnt_beacon_xmit use extra_tx_headroom.
    
    Create room for vnt_tx_short_buf_head in sk_buff and vnt_tx_usb_header.
    
    The struct ieee80211_mgmt is not longer in the header and is at
    the initial skb->data point.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Link: https://lore.kernel.org/r/5f00d319-9242-65b2-d100-dcfe9b0e32be@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 819b45394673..fd64d0838e34 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -180,11 +180,8 @@ struct vnt_tx_short_buf_head {
 } __packed;
 
 struct vnt_beacon_buffer {
-	u8 type;
-	u8 pkt_no;
-	__le16 tx_byte_count;
+	struct vnt_tx_usb_header usb;
 	struct vnt_tx_short_buf_head short_head;
-	struct ieee80211_mgmt mgmt_hdr;
 } __packed;
 
 int vnt_tx_packet(struct vnt_private *priv, struct sk_buff *skb);

commit abfd23743d479137ad9912597ca13383f73f01f8
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat May 16 11:35:22 2020 +0100

    staging: vt6656: Use sk_buff buffer for tx header
    
    mac80211 can provide space for the driver to put a tx header on
    the skb buffer instead coping the entire frame on to a local
    buffer with the header.
    
    To use this extra_tx_headroom must be set in mac80211 with the largest
    possible header which is struct vnt_tx_buffer.
    
    The driver has 8 possible combinations of tx header size which
    are found in vnt_get_hdr_size replacing vnt_mac_hdr_pos.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Link: https://lore.kernel.org/r/7b967bfc-1d4b-4b45-efab-d54f16cca226@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3c36a4b893dc..819b45394673 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -77,14 +77,12 @@ struct vnt_tx_datahead_g {
 	__le16 duration_a;
 	__le16 time_stamp_off_b;
 	__le16 time_stamp_off_a;
-	struct ieee80211_hdr hdr;
 } __packed;
 
 struct vnt_tx_datahead_ab {
 	struct vnt_phy_field ab;
 	__le16 duration;
 	__le16 time_stamp_off;
-	struct ieee80211_hdr hdr;
 } __packed;
 
 /* RTS buffer header */
@@ -161,10 +159,14 @@ struct vnt_tx_fifo_head {
 	__le16 current_rate;
 } __packed;
 
-struct vnt_tx_buffer {
+struct vnt_tx_usb_header {
 	u8 type;
 	u8 pkt_no;
 	__le16 tx_byte_count;
+} __packed;
+
+struct vnt_tx_buffer {
+	struct vnt_tx_usb_header usb;
 	struct vnt_tx_fifo_head fifo_head;
 	union vnt_tx_head tx_head;
 } __packed;

commit 3436accadc3f179a108071df552a6b82542523b1
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun Apr 19 14:43:46 2020 +0100

    staging: vt6656: Move vnt_get_frame_time and vnt_get_phy_field to rxtx
    
    These functions are only used by rxtx so move them and their arrays
    used with them abbreviating the function description.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Link: https://lore.kernel.org/r/2a4fd665-2fe1-f1ad-1e9a-1b01f698ea79@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 0e6226af7d41..3c36a4b893dc 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -23,6 +23,13 @@
 #define DEFAULT_MGN_LIFETIME_RES_64us	125  /* 64us */
 #define DEFAULT_MSDU_LIFETIME_RES_64us  8000
 
+/* Length, Service, and Signal fields of Phy for Tx */
+struct vnt_phy_field {
+	u8 signal;
+	u8 service;
+	__le16 len;
+} __packed;
+
 /* MIC HDR data header */
 struct vnt_mic_hdr {
 	u8 id;

commit ad3ee730074d562547031e43c1fb41802ebbe8fb
Author: Payal Kshirsagar <payalskshirsagar1234@gmail.com>
Date:   Mon Mar 9 13:04:24 2020 +0530

    staging: vt6656: remove blank line
    
    To avoid style issues, remove multiple blank lines.
    
    Signed-off-by: Payal Kshirsagar <payalskshirsagar1234@gmail.com>
    Acked-by: Julia Lawall <julia.lawall@inria.fr>
    Link: https://lore.kernel.org/r/20200309073424.4920-1-payalskshirsagar1234@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 10076efa4522..0e6226af7d41 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -100,7 +100,6 @@ struct vnt_rts_ab {
 	struct vnt_tx_datahead_ab data_head;
 } __packed;
 
-
 /* CTS buffer header */
 struct vnt_cts {
 	struct vnt_phy_field b;

commit 8e2e79ff61f15f1af6f08aa754bacaf0d504265c
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun Feb 2 19:48:43 2020 +0000

    staging: vt6656: Remove fall back functions and headers.
    
    Fall back is no longer used in driver so remove all
    functions and headers.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Link: https://lore.kernel.org/r/33732aad-5905-c173-ea81-431265e4f7e7@gmail.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d528607e02bf..10076efa4522 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -73,18 +73,6 @@ struct vnt_tx_datahead_g {
 	struct ieee80211_hdr hdr;
 } __packed;
 
-struct vnt_tx_datahead_g_fb {
-	struct vnt_phy_field b;
-	struct vnt_phy_field a;
-	__le16 duration_b;
-	__le16 duration_a;
-	__le16 duration_a_f0;
-	__le16 duration_a_f1;
-	__le16 time_stamp_off_b;
-	__le16 time_stamp_off_a;
-	struct ieee80211_hdr hdr;
-} __packed;
-
 struct vnt_tx_datahead_ab {
 	struct vnt_phy_field ab;
 	__le16 duration;
@@ -92,15 +80,6 @@ struct vnt_tx_datahead_ab {
 	struct ieee80211_hdr hdr;
 } __packed;
 
-struct vnt_tx_datahead_a_fb {
-	struct vnt_phy_field a;
-	__le16 duration;
-	__le16 time_stamp_off;
-	__le16 duration_f0;
-	__le16 duration_f1;
-	struct ieee80211_hdr hdr;
-} __packed;
-
 /* RTS buffer header */
 struct vnt_rts_g {
 	struct vnt_phy_field b;
@@ -113,21 +92,6 @@ struct vnt_rts_g {
 	struct vnt_tx_datahead_g data_head;
 } __packed;
 
-struct vnt_rts_g_fb {
-	struct vnt_phy_field b;
-	struct vnt_phy_field a;
-	__le16 duration_ba;
-	__le16 duration_aa;
-	__le16 duration_bb;
-	u16 wReserved;
-	__le16 rts_duration_ba_f0;
-	__le16 rts_duration_aa_f0;
-	__le16 rts_duration_ba_f1;
-	__le16 rts_duration_aa_f1;
-	struct ieee80211_rts data;
-	struct vnt_tx_datahead_g_fb data_head;
-} __packed;
-
 struct vnt_rts_ab {
 	struct vnt_phy_field ab;
 	__le16 duration;
@@ -136,15 +100,6 @@ struct vnt_rts_ab {
 	struct vnt_tx_datahead_ab data_head;
 } __packed;
 
-struct vnt_rts_a_fb {
-	struct vnt_phy_field a;
-	__le16 duration;
-	u16 wReserved;
-	__le16 rts_duration_f0;
-	__le16 rts_duration_f1;
-	struct ieee80211_rts data;
-	struct vnt_tx_datahead_a_fb data_head;
-} __packed;
 
 /* CTS buffer header */
 struct vnt_cts {
@@ -156,29 +111,14 @@ struct vnt_cts {
 	struct vnt_tx_datahead_g data_head;
 } __packed;
 
-struct vnt_cts_fb {
-	struct vnt_phy_field b;
-	__le16 duration_ba;
-	u16 wReserved;
-	__le16 cts_duration_ba_f0;
-	__le16 cts_duration_ba_f1;
-	struct ieee80211_cts data;
-	u16 reserved2;
-	struct vnt_tx_datahead_g_fb data_head;
-} __packed;
-
 union vnt_tx_data_head {
 	/* rts g */
 	struct vnt_rts_g rts_g;
-	struct vnt_rts_g_fb rts_g_fb;
 	/* rts a/b */
 	struct vnt_rts_ab rts_ab;
-	struct vnt_rts_a_fb rts_a_fb;
 	/* cts g */
 	struct vnt_cts cts_g;
-	struct vnt_cts_fb cts_g_fb;
 	/* no rts/cts */
-	struct vnt_tx_datahead_a_fb data_head_a_fb;
 	struct vnt_tx_datahead_ab data_head_ab;
 };
 

commit 9df8a97088f26170aa78cbb3acac59f5963bb663
Author: Ojaswin Mujoo <ojaswin25111998@gmail.com>
Date:   Sun Mar 31 14:44:36 2019 +0530

    staging: vt6656: Fix styling of the comment related to SPDX-License-Identifier
    
    Fix checkpatch.pl styling error related to SPDX-License-Identifier
    comment in vt6656/*.h
    
    Signed-off-by: Ojaswin Mujoo <ojaswin25111998@gmail.com>
    Reviewed-by: Mukesh Ojha <mojha@codeaurora.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 44698f41a234..d528607e02bf 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -1,4 +1,4 @@
-// SPDX-License-Identifier: GPL-2.0+
+/* SPDX-License-Identifier: GPL-2.0+ */
 /*
  * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.
  * All rights reserved.

commit dd41dab5d54f4cde127ba47ab6764731428f96ca
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Tue Nov 7 21:07:55 2017 +0100

    staging: vt6656: Remove redundant license text
    
    Now that the SPDX tag is in all vt6656 files, that identifies the
    license in a specific and legally-defined manner.  So the extra GPL text
    wording can be removed as it is no longer needed at all.
    
    This is done on a quest to remove the 700+ different ways that files in
    the kernel describe the GPL license text.  And there's unneeded stuff
    like the address (sometimes incorrect) for the FSF which is never
    needed.
    
    No copyright headers or other non-license-description text was removed.
    
    Cc: Forest Bond <forest@alittletooquiet.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 0cae295ed729..44698f41a234 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -3,17 +3,6 @@
  * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.
  * All rights reserved.
  *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- *
  * File: rxtx.h
  *
  * Purpose:

commit 6b4c6ce892047022fd716e2afa5fb857f1bb0ee7
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Tue Nov 7 21:07:52 2017 +0100

    staging: vt6656: add SPDX identifiers to all vt6656 driver files
    
    It's good to have SPDX identifiers in all files to make it easier to
    audit the kernel tree for correct licenses.
    
    Update the vt6656 driver files with the correct SPDX license identifier
    based on the license text in the file itself.  The SPDX identifier is a
    legally binding shorthand, which can be used instead of the full boiler
    plate text.
    
    This work is based on a script and data from Thomas Gleixner, Philippe
    Ombredanne, and Kate Stewart.
    
    Cc: Forest Bond <forest@alittletooquiet.net>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Kate Stewart <kstewart@linuxfoundation.org>
    Cc: Philippe Ombredanne <pombredanne@nexb.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 1ba8647bea86..0cae295ed729 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -1,3 +1,4 @@
+// SPDX-License-Identifier: GPL-2.0+
 /*
  * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.
  * All rights reserved.

commit 6ddcf34f113a500d75e3e62b63079a924bc0d29c
Author: Simon Sandström <simon@nikanor.nu>
Date:   Sat Feb 4 18:09:39 2017 +0100

    staging: vt6656: Add missing identifier names
    
    Fix all "function definition argument '...' should also have an
    identifier name" warnings in vt6656. Use identifier name from each
    corresponding C file.
    
    Signed-off-by: Simon Sandström <simon@nikanor.nu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 4a79c404275b..1ba8647bea86 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -249,9 +249,9 @@ struct vnt_beacon_buffer {
 	struct ieee80211_mgmt mgmt_hdr;
 } __packed;
 
-int vnt_tx_packet(struct vnt_private *, struct sk_buff *);
-int vnt_beacon_make(struct vnt_private *, struct ieee80211_vif *);
-int vnt_beacon_enable(struct vnt_private *, struct ieee80211_vif *,
-	struct ieee80211_bss_conf *);
+int vnt_tx_packet(struct vnt_private *priv, struct sk_buff *skb);
+int vnt_beacon_make(struct vnt_private *priv, struct ieee80211_vif *vif);
+int vnt_beacon_enable(struct vnt_private *priv, struct ieee80211_vif *vif,
+		      struct ieee80211_bss_conf *conf);
 
 #endif /* __RXTX_H__ */

commit a85994d5467a8fbcecc4ae4a42f9d4c1a0a54886
Author: Othmar Pasteka <pasteka@kabsi.at>
Date:   Mon Nov 16 23:29:44 2015 +0100

    staging: vt6656: remove address from GPL text
    
    Cleanup errors from checkpatch.pl.
    
    Signed-off-by: Othmar Pasteka <pasteka@kabsi.at>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 90b34ab2f6ce..4a79c404275b 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -12,9 +12,6 @@
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  * GNU General Public License for more details.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  *
  * File: rxtx.h
  *

commit 14fb6ce8de3c2d9c393debe86fb69a521de840e4
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:49 2014 +0100

    staging: vt6656: struct vnt_tx_short_buf_head change base type of fifo_ctl to __le16
    
    Base type is always little endian.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3f0ff7abceee..90b34ab2f6ce 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -237,7 +237,7 @@ struct vnt_tx_buffer {
 } __packed;
 
 struct vnt_tx_short_buf_head {
-	u16 fifo_ctl;
+	__le16 fifo_ctl;
 	u16 time_stamp;
 	struct vnt_phy_field ab;
 	__le16 duration;

commit 47e0889452dc5f5fa7bef6cca065d402dc1bf69a
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:48 2014 +0100

    staging: vt6656: struct vnt_tx_fifo_head fifo_ctl change base type to __le16
    
    Endian is always little add correction in vnt_tx_packet.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d5769c18b692..3f0ff7abceee 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -222,7 +222,7 @@ union vnt_tx_head {
 
 struct vnt_tx_fifo_head {
 	u8 tx_key[WLAN_KEY_LEN_CCMP];
-	u16 fifo_ctl;
+	__le16 fifo_ctl;
 	__le16 time_stamp;
 	__le16 frag_ctl;
 	__le16 current_rate;

commit 1e00b449fa522820b4708f45a9027117b47e43b3
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:47 2014 +0100

    staging: vt6656: struct vnt_beacon_buffer replace byType with type
    
    Removing camel case
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 808058f29686..d5769c18b692 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -245,7 +245,7 @@ struct vnt_tx_short_buf_head {
 } __packed;
 
 struct vnt_beacon_buffer {
-	u8 byType;
+	u8 type;
 	u8 pkt_no;
 	__le16 tx_byte_count;
 	struct vnt_tx_short_buf_head short_head;

commit c8a3a4c0a214a586f337b02ee5765f51071a213e
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:46 2014 +0100

    staging: vt6656: vnt_tx_buffer replace byType with type
    
    Removing camel case
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 5439ed096864..808058f29686 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -229,7 +229,7 @@ struct vnt_tx_fifo_head {
 } __packed;
 
 struct vnt_tx_buffer {
-	u8 byType;
+	u8 type;
 	u8 pkt_no;
 	__le16 tx_byte_count;
 	struct vnt_tx_fifo_head fifo_head;

commit af90ab396cc96d850a4cfab4c86363ac7882552b
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:45 2014 +0100

    staging: vt6656: struct vnt_beacon_buffer replace byPKTNO with pkt_no
    
    removing camel case.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index dee2bdf05471..5439ed096864 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -246,7 +246,7 @@ struct vnt_tx_short_buf_head {
 
 struct vnt_beacon_buffer {
 	u8 byType;
-	u8 byPKTNO;
+	u8 pkt_no;
 	__le16 tx_byte_count;
 	struct vnt_tx_short_buf_head short_head;
 	struct ieee80211_mgmt mgmt_hdr;

commit d0335a036365173dae5198c6909caf35e178a9a2
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:44 2014 +0100

    staging: vt6656: struct vnt_tx_buffer replace byPKTNO with pkt_no
    
    Replacing camel case
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 62a9ed38f058..dee2bdf05471 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -230,7 +230,7 @@ struct vnt_tx_fifo_head {
 
 struct vnt_tx_buffer {
 	u8 byType;
-	u8 byPKTNO;
+	u8 pkt_no;
 	__le16 tx_byte_count;
 	struct vnt_tx_fifo_head fifo_head;
 	union vnt_tx_head tx_head;

commit f0ff3fde52bb70c3130c34e530d5462a240ae52c
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Jul 22 22:49:43 2014 +0100

    staging: vt6656: vnt_tx_fifo_head rename wFIFOCtl to fifo_ctl
    
    Removing prefix and camel case.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 1cfa5aeddad4..62a9ed38f058 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -222,7 +222,7 @@ union vnt_tx_head {
 
 struct vnt_tx_fifo_head {
 	u8 tx_key[WLAN_KEY_LEN_CCMP];
-	u16 wFIFOCtl;
+	u16 fifo_ctl;
 	__le16 time_stamp;
 	__le16 frag_ctl;
 	__le16 current_rate;

commit 5deb1cfa88f3f4bf2f8d07eda075d338db3b6115
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Jun 28 23:55:40 2014 +0100

    staging: vt6656: rxtx replace wFragCtl with frag_ctl.
    
    Use base type to __le16 and do endian correction.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 26dc21c51e22..1cfa5aeddad4 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -224,7 +224,7 @@ struct vnt_tx_fifo_head {
 	u8 tx_key[WLAN_KEY_LEN_CCMP];
 	u16 wFIFOCtl;
 	__le16 time_stamp;
-	u16 wFragCtl;
+	__le16 frag_ctl;
 	__le16 current_rate;
 } __packed;
 

commit 79f976dc3170b3c1b8b0b4e5a92151dba1b07427
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Jun 28 23:55:39 2014 +0100

    staging: vt6656: rxtx struct vnt_mic_hdr change tsc_47_16/tsc_15_0
    
    Replace with ccmp_pn with size of IEEE80211_CCMP_PN_LEN(6)
    
    memcpy the struct ieee80211_key_seq -> ccmp.pn onto ccmp_pn
    removing the need for endian conversion.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 847c0556668b..26dc21c51e22 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -41,8 +41,7 @@ struct vnt_mic_hdr {
 	u8 id;
 	u8 tx_priority;
 	u8 mic_addr2[6];
-	__be32 tsc_47_16;
-	__be16 tsc_15_0;
+	u8 ccmp_pn[IEEE80211_CCMP_PN_LEN];
 	__be16 payload_len;
 	__be16 hlen;
 	__le16 frame_control;

commit f9d1968c6b2570012dcf600be03213ab8c35307f
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Wed Jun 25 21:19:44 2014 +0100

    staging: vt6656: rxtx remove dead code
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 00a5c220e652..847c0556668b 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -253,11 +253,6 @@ struct vnt_beacon_buffer {
 	struct ieee80211_mgmt mgmt_hdr;
 } __packed;
 
-void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
-int nsDMA_tx_packet(struct vnt_private *, struct sk_buff *skb);
-CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
-CMD_STATUS csBeacon_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
-
 int vnt_tx_packet(struct vnt_private *, struct sk_buff *);
 int vnt_beacon_make(struct vnt_private *, struct ieee80211_vif *);
 int vnt_beacon_enable(struct vnt_private *, struct ieee80211_vif *,

commit 93a1e1b0791f66e76d2561a184b7f9d6151d56a0
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Wed Jun 25 21:19:39 2014 +0100

    staging: vt6656: move life time macros to rxtx.h
    
    DEFAULT_MGN_LIFETIME_RES_64us
    DEFAULT_MSDU_LIFETIME_RES_64us
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 65f7e260fe4e..00a5c220e652 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -33,6 +33,9 @@
 #include "wcmd.h"
 #include "baseband.h"
 
+#define DEFAULT_MGN_LIFETIME_RES_64us	125  /* 64us */
+#define DEFAULT_MSDU_LIFETIME_RES_64us  8000
+
 /* MIC HDR data header */
 struct vnt_mic_hdr {
 	u8 id;

commit d38b13aa7884021ddb06fb6f248da265b8a6fbee
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Wed Jun 25 21:14:23 2014 +0100

    staging: vt6656: mac80211 conversion: Create tx functions
    
    Create vnt_fill_txkey as mac80211 replacement for s_vFillTxKey.
    
    Create vnt_tx_packet which a merger of s_bPacketToWirelessUsb, nsDMA_tx_packet
    and csMgmt_xmit using mac80211 signalling.
    
    Create vnt_beacon_xmit as mac80211 replacement for csBeacon_xmit. Changing
    header in vnt_beacon_buffer to struct ieee80211_mgmt deleting some of
    old code. vnt_beacon_make is needed to make beacon for vnt_beacon_xmit.
    
    Create vnt_beacon_enable as mac80211 call to enable beacon.
    
    vnt_fill_ieee80211_rts is modified to use struct ieee80211_hdr instead of
    struct ethhdr and access to tx_context.
    
    In s_nsBulkOutIoCompleteWrite modify context handling
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 95a4e2c6aa69..65f7e260fe4e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -247,7 +247,7 @@ struct vnt_beacon_buffer {
 	u8 byPKTNO;
 	__le16 tx_byte_count;
 	struct vnt_tx_short_buf_head short_head;
-	struct ieee80211_hdr hdr;
+	struct ieee80211_mgmt mgmt_hdr;
 } __packed;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
@@ -255,4 +255,9 @@ int nsDMA_tx_packet(struct vnt_private *, struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
 CMD_STATUS csBeacon_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
 
+int vnt_tx_packet(struct vnt_private *, struct sk_buff *);
+int vnt_beacon_make(struct vnt_private *, struct ieee80211_vif *);
+int vnt_beacon_enable(struct vnt_private *, struct ieee80211_vif *,
+	struct ieee80211_bss_conf *);
+
 #endif /* __RXTX_H__ */

commit ab51f51b6e4f307a0f8e1ce67f4fa1b57cb61892
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat May 31 13:35:00 2014 +0100

    staging: vt6656: rxtx replace adwTxKey[4]
    
    Replace with tx_key with size of WLAN_KEY_LEN_CCMP(16)
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 30e14379688d..95a4e2c6aa69 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -219,7 +219,7 @@ union vnt_tx_head {
 };
 
 struct vnt_tx_fifo_head {
-	u32 adwTxKey[4];
+	u8 tx_key[WLAN_KEY_LEN_CCMP];
 	u16 wFIFOCtl;
 	__le16 time_stamp;
 	u16 wFragCtl;

commit 1622c8fc5c88d64599130710537fe20977637962
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat May 31 13:34:58 2014 +0100

    staging: vt6656: rxtx add mac header to vnt_tx_datahead_* structures
    
    Add vnt_mac_hdr_pos to set mac header pointer and the calculate header size.
    
    Pass ieee80211 hdr pointer and tx_hdr_size in vnt_usb_send_context.
    
    Remove old pointer arithmetic and attach pMACHeader to hdr.
    
    cbHeaderLength/cbHeaderSize now uses the value of tx_hdr_size.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 6db3337f1d1d..30e14379688d 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -81,6 +81,7 @@ struct vnt_tx_datahead_g {
 	__le16 duration_a;
 	__le16 time_stamp_off_b;
 	__le16 time_stamp_off_a;
+	struct ieee80211_hdr hdr;
 } __packed;
 
 struct vnt_tx_datahead_g_fb {
@@ -92,12 +93,14 @@ struct vnt_tx_datahead_g_fb {
 	__le16 duration_a_f1;
 	__le16 time_stamp_off_b;
 	__le16 time_stamp_off_a;
+	struct ieee80211_hdr hdr;
 } __packed;
 
 struct vnt_tx_datahead_ab {
 	struct vnt_phy_field ab;
 	__le16 duration;
 	__le16 time_stamp_off;
+	struct ieee80211_hdr hdr;
 } __packed;
 
 struct vnt_tx_datahead_a_fb {
@@ -106,6 +109,7 @@ struct vnt_tx_datahead_a_fb {
 	__le16 time_stamp_off;
 	__le16 duration_f0;
 	__le16 duration_f1;
+	struct ieee80211_hdr hdr;
 } __packed;
 
 /* RTS buffer header */

commit 7a24390d0f122f7c4a83dc2d0ffe85d22544cd3a
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Mon May 19 20:32:56 2014 +0100

    staging: vt6656: dead code bRelayPacketSend
    
    After dead code hostapd remove bRelayPacketSend
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 982f1624efac..6db3337f1d1d 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -250,7 +250,5 @@ void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
 int nsDMA_tx_packet(struct vnt_private *, struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
 CMD_STATUS csBeacon_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
-int bRelayPacketSend(struct vnt_private *, u8 *pbySkbData, u32 uDataLen,
-	u32 uNodeIndex);
 
 #endif /* __RXTX_H__ */

commit 05cc617b5db8a6debac873e4dcfbd6d679406730
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Wed Apr 30 21:31:12 2014 +0100

    staging: vt6656: rxtx: Remove unused uDMAIdx from driver.
    
    Remove from functions and callers.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 4dfb2e0c6ae7..982f1624efac 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -247,7 +247,7 @@ struct vnt_beacon_buffer {
 } __packed;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
-int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);
+int nsDMA_tx_packet(struct vnt_private *, struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
 CMD_STATUS csBeacon_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
 int bRelayPacketSend(struct vnt_private *, u8 *pbySkbData, u32 uDataLen,

commit 03a9cf3418fa95fcba65bcbdfd68dc84f7e916bb
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Mar 22 09:01:30 2014 +0000

    staging: vt6656: rxtx Replace vnt_tx_fifo_head wReserved
    
    At run time wReserved has the value of wCurrentRate.
    
    Replace with current_rate with __le16 base type and endian correct
    wCurrentRate.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 779c6722d1b8..4dfb2e0c6ae7 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -219,7 +219,7 @@ struct vnt_tx_fifo_head {
 	u16 wFIFOCtl;
 	__le16 time_stamp;
 	u16 wFragCtl;
-	u16 wReserved;
+	__le16 current_rate;
 } __packed;
 
 struct vnt_tx_buffer {

commit fad8e4aeac9d085e020241b30bde0197ae821f0a
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Mar 22 09:01:29 2014 +0000

    staging : vt6656: rxtx struct vnt_beacon_buffer Replace wTxByteCount
    
    Replace with tx_byte_count with base type __le16
    
    Provide endian correction in csBeacon_xmit of cbReqCount
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 0233761bdb74..779c6722d1b8 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -241,7 +241,7 @@ struct vnt_tx_short_buf_head {
 struct vnt_beacon_buffer {
 	u8 byType;
 	u8 byPKTNO;
-	u16 wTxByteCount;
+	__le16 tx_byte_count;
 	struct vnt_tx_short_buf_head short_head;
 	struct ieee80211_hdr hdr;
 } __packed;

commit ca3475968a6fc0a648bf642ac7a976be777c4a37
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Mar 22 09:01:28 2014 +0000

    staging: vt6656: rxtx struct vnt_tx_buffer Replace wTxByteCount
    
    Replace with tx_byte_count with base type __le16.
    
    In nsDMA_tx_packet and bRelayPacketSend provide endian correction.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d7e42731df32..0233761bdb74 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -225,7 +225,7 @@ struct vnt_tx_fifo_head {
 struct vnt_tx_buffer {
 	u8 byType;
 	u8 byPKTNO;
-	u16 wTxByteCount;
+	__le16 tx_byte_count;
 	struct vnt_tx_fifo_head fifo_head;
 	union vnt_tx_head tx_head;
 } __packed;

commit 5846251d0e5a2027acc5f09b826ba4008cc282cc
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sat Mar 22 09:01:27 2014 +0000

    staging: vt6656: rxtx Replace struct vnt_tx_fifo_head wTimeStamp
    
    Replace with time_stamp with base type __le16
    
    In s_bPacketToWirelessUsb endian correct DEFAULT_MSDU_LIFETIME_RES_64us
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 6d6539d29d04..d7e42731df32 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -217,7 +217,7 @@ union vnt_tx_head {
 struct vnt_tx_fifo_head {
 	u32 adwTxKey[4];
 	u16 wFIFOCtl;
-	u16 wTimeStamp;
+	__le16 time_stamp;
 	u16 wFragCtl;
 	u16 wReserved;
 } __packed;

commit 533f9d3adc90ea994269e42b1d1aa969a0d94b4f
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:25:02 2014 +0000

    staging: vt6656: struct vnt_tx_short_buf_head correct base types
    
    Both variables duration and time_stamp_off are __le16 types
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 39781742c6d9..6d6539d29d04 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -234,8 +234,8 @@ struct vnt_tx_short_buf_head {
 	u16 fifo_ctl;
 	u16 time_stamp;
 	struct vnt_phy_field ab;
-	u16 duration;
-	u16 time_stamp_off;
+	__le16 duration;
+	__le16 time_stamp_off;
 } __packed;
 
 struct vnt_beacon_buffer {

commit 10bb39a0437f685030c70834c6879f188fff942e
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:25:01 2014 +0000

    staging: vt6656: rxtx Replace wTimeStampOff* variables
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wTimeStampOff* -> time_stamp_off*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index bbb571aa2ba8..39781742c6d9 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -79,8 +79,8 @@ struct vnt_tx_datahead_g {
 	struct vnt_phy_field a;
 	__le16 duration_b;
 	__le16 duration_a;
-	u16 wTimeStampOff_b;
-	u16 wTimeStampOff_a;
+	__le16 time_stamp_off_b;
+	__le16 time_stamp_off_a;
 } __packed;
 
 struct vnt_tx_datahead_g_fb {
@@ -90,20 +90,20 @@ struct vnt_tx_datahead_g_fb {
 	__le16 duration_a;
 	__le16 duration_a_f0;
 	__le16 duration_a_f1;
-	u16 wTimeStampOff_b;
-	u16 wTimeStampOff_a;
+	__le16 time_stamp_off_b;
+	__le16 time_stamp_off_a;
 } __packed;
 
 struct vnt_tx_datahead_ab {
 	struct vnt_phy_field ab;
 	__le16 duration;
-	u16 wTimeStampOff;
+	__le16 time_stamp_off;
 } __packed;
 
 struct vnt_tx_datahead_a_fb {
 	struct vnt_phy_field a;
 	__le16 duration;
-	u16 wTimeStampOff;
+	__le16 time_stamp_off;
 	__le16 duration_f0;
 	__le16 duration_f1;
 } __packed;

commit 372108e7b8b4d0b217c6c97e1920664cde7d83e2
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:25:00 2014 +0000

    staging: vt6656: rxtx Replace wCTSTxRrvTime_ba
    
    Replace with cts_rrv_time_ba with __le16 base.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 2f65a6f57b28..bbb571aa2ba8 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -62,7 +62,7 @@ struct vnt_rrv_time_rts {
 } __packed;
 
 struct vnt_rrv_time_cts {
-	u16 wCTSTxRrvTime_ba;
+	__le16 cts_rrv_time_ba;
 	u16 wReserved;
 	__le16 rrv_time_b;
 	__le16 rrv_time_a;

commit 7fd5747f31275e391a43a5ecb1a5d3a78fb9027e
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:24:59 2014 +0000

    staging: vt6656: rxtx: Replace wCTSDuration*
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wCTSDuration* -> cts_duration*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index f0ab2a3d70c9..2f65a6f57b28 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -167,8 +167,8 @@ struct vnt_cts_fb {
 	struct vnt_phy_field b;
 	__le16 duration_ba;
 	u16 wReserved;
-	u16 wCTSDuration_ba_f0;
-	u16 wCTSDuration_ba_f1;
+	__le16 cts_duration_ba_f0;
+	__le16 cts_duration_ba_f1;
 	struct ieee80211_cts data;
 	u16 reserved2;
 	struct vnt_tx_datahead_g_fb data_head;

commit 5ff627aedbcf0a400ee402ad7b7aa14d1b8ce3d3
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:24:58 2014 +0000

    staging: vt6656: rxtx: Replace wTxRrvTime*
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wTxRrvTime* -> rrv_time*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 1e8f5e2c071f..f0ab2a3d70c9 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -57,20 +57,20 @@ struct vnt_rrv_time_rts {
 	__le16 rts_rrv_time_aa;
 	__le16 rts_rrv_time_bb;
 	u16 wReserved;
-	u16 wTxRrvTime_b;
-	u16 wTxRrvTime_a;
+	__le16 rrv_time_b;
+	__le16 rrv_time_a;
 } __packed;
 
 struct vnt_rrv_time_cts {
 	u16 wCTSTxRrvTime_ba;
 	u16 wReserved;
-	u16 wTxRrvTime_b;
-	u16 wTxRrvTime_a;
+	__le16 rrv_time_b;
+	__le16 rrv_time_a;
 } __packed;
 
 struct vnt_rrv_time_ab {
 	__le16 rts_rrv_time;
-	u16 wTxRrvTime;
+	__le16 rrv_time;
 } __packed;
 
 /* TX data header */

commit 85417bf0d75066441be0c612fc6f3c14668a8735
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:24:57 2014 +0000

    staging: vt6656: rxtx: Replace wRTSTxRrvTime*
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wRTSTxRrvTime* -> rts_rrv_time*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index bb2d0ce4c7bd..1e8f5e2c071f 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -53,9 +53,9 @@ struct vnt_mic_hdr {
 
 /* RsvTime buffer header */
 struct vnt_rrv_time_rts {
-	u16 wRTSTxRrvTime_ba;
-	u16 wRTSTxRrvTime_aa;
-	u16 wRTSTxRrvTime_bb;
+	__le16 rts_rrv_time_ba;
+	__le16 rts_rrv_time_aa;
+	__le16 rts_rrv_time_bb;
 	u16 wReserved;
 	u16 wTxRrvTime_b;
 	u16 wTxRrvTime_a;
@@ -69,7 +69,7 @@ struct vnt_rrv_time_cts {
 } __packed;
 
 struct vnt_rrv_time_ab {
-	u16 wRTSTxRrvTime;
+	__le16 rts_rrv_time;
 	u16 wTxRrvTime;
 } __packed;
 

commit fadc3bdfd91012407026deb07b4f2a3dd0123326
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:24:56 2014 +0000

    staging: vt6656: rxtx: Replace wRTSDuration* variables
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wRTSDuration* -> rts_duration*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d677d0766d8c..bb2d0ce4c7bd 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -127,10 +127,10 @@ struct vnt_rts_g_fb {
 	__le16 duration_aa;
 	__le16 duration_bb;
 	u16 wReserved;
-	u16 wRTSDuration_ba_f0;
-	u16 wRTSDuration_aa_f0;
-	u16 wRTSDuration_ba_f1;
-	u16 wRTSDuration_aa_f1;
+	__le16 rts_duration_ba_f0;
+	__le16 rts_duration_aa_f0;
+	__le16 rts_duration_ba_f1;
+	__le16 rts_duration_aa_f1;
 	struct ieee80211_rts data;
 	struct vnt_tx_datahead_g_fb data_head;
 } __packed;
@@ -147,8 +147,8 @@ struct vnt_rts_a_fb {
 	struct vnt_phy_field a;
 	__le16 duration;
 	u16 wReserved;
-	u16 wRTSDuration_f0;
-	u16 wRTSDuration_f1;
+	__le16 rts_duration_f0;
+	__le16 rts_duration_f1;
 	struct ieee80211_rts data;
 	struct vnt_tx_datahead_a_fb data_head;
 } __packed;

commit 4e01117c2de9a9da4257adb5a22d2f231057eea5
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Mar 18 19:24:55 2014 +0000

    staging: vt6656: rxtx Replace wDuration* variables.
    
    Fix base type to __le16 and remove camel case.
    
    Camel case changes
    wDuration* -> duration*
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index b3ee6d01aa88..d677d0766d8c 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -77,8 +77,8 @@ struct vnt_rrv_time_ab {
 struct vnt_tx_datahead_g {
 	struct vnt_phy_field b;
 	struct vnt_phy_field a;
-	u16 wDuration_b;
-	u16 wDuration_a;
+	__le16 duration_b;
+	__le16 duration_a;
 	u16 wTimeStampOff_b;
 	u16 wTimeStampOff_a;
 } __packed;
@@ -86,35 +86,35 @@ struct vnt_tx_datahead_g {
 struct vnt_tx_datahead_g_fb {
 	struct vnt_phy_field b;
 	struct vnt_phy_field a;
-	u16 wDuration_b;
-	u16 wDuration_a;
-	u16 wDuration_a_f0;
-	u16 wDuration_a_f1;
+	__le16 duration_b;
+	__le16 duration_a;
+	__le16 duration_a_f0;
+	__le16 duration_a_f1;
 	u16 wTimeStampOff_b;
 	u16 wTimeStampOff_a;
 } __packed;
 
 struct vnt_tx_datahead_ab {
 	struct vnt_phy_field ab;
-	u16 wDuration;
+	__le16 duration;
 	u16 wTimeStampOff;
 } __packed;
 
 struct vnt_tx_datahead_a_fb {
 	struct vnt_phy_field a;
-	u16 wDuration;
+	__le16 duration;
 	u16 wTimeStampOff;
-	u16 wDuration_f0;
-	u16 wDuration_f1;
+	__le16 duration_f0;
+	__le16 duration_f1;
 } __packed;
 
 /* RTS buffer header */
 struct vnt_rts_g {
 	struct vnt_phy_field b;
 	struct vnt_phy_field a;
-	u16 wDuration_ba;
-	u16 wDuration_aa;
-	u16 wDuration_bb;
+	__le16 duration_ba;
+	__le16 duration_aa;
+	__le16 duration_bb;
 	u16 wReserved;
 	struct ieee80211_rts data;
 	struct vnt_tx_datahead_g data_head;
@@ -123,9 +123,9 @@ struct vnt_rts_g {
 struct vnt_rts_g_fb {
 	struct vnt_phy_field b;
 	struct vnt_phy_field a;
-	u16 wDuration_ba;
-	u16 wDuration_aa;
-	u16 wDuration_bb;
+	__le16 duration_ba;
+	__le16 duration_aa;
+	__le16 duration_bb;
 	u16 wReserved;
 	u16 wRTSDuration_ba_f0;
 	u16 wRTSDuration_aa_f0;
@@ -137,7 +137,7 @@ struct vnt_rts_g_fb {
 
 struct vnt_rts_ab {
 	struct vnt_phy_field ab;
-	u16 wDuration;
+	__le16 duration;
 	u16 wReserved;
 	struct ieee80211_rts data;
 	struct vnt_tx_datahead_ab data_head;
@@ -145,7 +145,7 @@ struct vnt_rts_ab {
 
 struct vnt_rts_a_fb {
 	struct vnt_phy_field a;
-	u16 wDuration;
+	__le16 duration;
 	u16 wReserved;
 	u16 wRTSDuration_f0;
 	u16 wRTSDuration_f1;
@@ -156,7 +156,7 @@ struct vnt_rts_a_fb {
 /* CTS buffer header */
 struct vnt_cts {
 	struct vnt_phy_field b;
-	u16 wDuration_ba;
+	__le16 duration_ba;
 	u16 wReserved;
 	struct ieee80211_cts data;
 	u16 reserved2;
@@ -165,7 +165,7 @@ struct vnt_cts {
 
 struct vnt_cts_fb {
 	struct vnt_phy_field b;
-	u16 wDuration_ba;
+	__le16 duration_ba;
 	u16 wReserved;
 	u16 wCTSDuration_ba_f0;
 	u16 wCTSDuration_ba_f1;

commit 0b71fe36c5fc6546ee6cd60bce2ba78a94f96353
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun Nov 24 13:27:32 2013 +0000

    staging: vt6656: vnt_beacon_buffer attach mac header.
    
    Attach ieee80211_hdr to vnt_beacon_buffer and remove pointer arithmetic.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index bb21ad6ae226..b3ee6d01aa88 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -243,6 +243,7 @@ struct vnt_beacon_buffer {
 	u8 byPKTNO;
 	u16 wTxByteCount;
 	struct vnt_tx_short_buf_head short_head;
+	struct ieee80211_hdr hdr;
 } __packed;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);

commit c7c57b24a5411c5314686a7916971e57adeded7d
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun Nov 24 13:25:25 2013 +0000

    staging: vt6656: csBeacon_xmit merge structures.
    
    Merge structures typedef struct tagSTxShortBufHead and the members of
    struct vnt_tx_datahead_ab to form single structure vnt_tx_short_buf_head.
    
    Remove the duplicate members in struct vnt_beacon_buffer already in
    typedef struct tagSTxShortBufHead.
    
    This removes the need for any pointer arithmetic.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index eecbe890027e..bb21ad6ae226 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -230,12 +230,19 @@ struct vnt_tx_buffer {
 	union vnt_tx_head tx_head;
 } __packed;
 
+struct vnt_tx_short_buf_head {
+	u16 fifo_ctl;
+	u16 time_stamp;
+	struct vnt_phy_field ab;
+	u16 duration;
+	u16 time_stamp_off;
+} __packed;
+
 struct vnt_beacon_buffer {
 	u8 byType;
 	u8 byPKTNO;
 	u16 wTxByteCount;
-	u16 wFIFOCtl;
-	u16 wTimeStamp;
+	struct vnt_tx_short_buf_head short_head;
 } __packed;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);

commit c12dca094610c5959345b3c1087f767a22965a41
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 16:03:40 2013 +0100

    staging: vt6656: rxtx.c add no rts struct vnt_tx_datahead_ab
    
    Add no rts/cts vnt_tx_datahead_ab to union vnt_tx_data_head.
    
    The need_mic now applies to all modes of packet type PK_TYPE_11B.
    
    and return vnt_rxtx_datahead_ab in s_vGenerateTxParameter
    
    This removes pvTxDataHd pointer assignment and calls to s_uFillDataHead.
    
    Since pvTxDataHd is now null a small vendor hack to vDMA0_tx_80211/csMgmt_xmit
    to do with Disassociation-packet is also changed correct head position.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d905b972360c..eecbe890027e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -186,6 +186,7 @@ union vnt_tx_data_head {
 	struct vnt_cts_fb cts_g_fb;
 	/* no rts/cts */
 	struct vnt_tx_datahead_a_fb data_head_a_fb;
+	struct vnt_tx_datahead_ab data_head_ab;
 };
 
 struct vnt_tx_mic_hdr {

commit 5634a5ab6a5e530a3481846aae167a6649b3853f
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 16:00:20 2013 +0100

    staging: vt6656: rxtx.c parse out vnt_rxtx_datahead_ab
    
    Parse struct vnt_tx_datahead_ab from s_uFillDataHead and
    move to struct vnt_rts_ab structure returning duration down
    functions.
    
    Both are returned in s_uFillDataHead at this stage as pvTxDataHd
    is only null in s_bPacketToWirelessUsb.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d8f25d19030c..d905b972360c 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -140,6 +140,7 @@ struct vnt_rts_ab {
 	u16 wDuration;
 	u16 wReserved;
 	struct ieee80211_rts data;
+	struct vnt_tx_datahead_ab data_head;
 } __packed;
 
 struct vnt_rts_a_fb {

commit a90186e4580925a1c80ed847ae9f7ceb79a39115
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 15:58:54 2013 +0100

    staging: vt6656: rxtx.c add no rts struct vnt_tx_datahead_a_fb
    
    Add no rts/cts vnt_tx_datahead_a_fb to union vnt_tx_data_head.
    
    The need_mic now applies to all modes of packet type PK_TYPE_11A.
    
    and return vnt_rxtx_datahead_a_fb in s_vGenerateTxParameter
    
    This removes pvTxDataHd pointer assignment.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3fd8507e8b9e..d8f25d19030c 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -183,6 +183,8 @@ union vnt_tx_data_head {
 	/* cts g */
 	struct vnt_cts cts_g;
 	struct vnt_cts_fb cts_g_fb;
+	/* no rts/cts */
+	struct vnt_tx_datahead_a_fb data_head_a_fb;
 };
 
 struct vnt_tx_mic_hdr {

commit bd3f51f1ad7591b32bb126f36846a84cab282455
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 15:56:48 2013 +0100

    staging: vt6656: rxtx.c parse out struct vnt_tx_datahead_a_fb
    
    Parse struct vnt_tx_datahead_a_fb from s_uFillDataHead and
    move to struct vnt_rts_a_fb structure returning duration down
    functions.
    
    This removes pvTxDataHd pointer assignment.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 0a022cf1803e..3fd8507e8b9e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -149,6 +149,7 @@ struct vnt_rts_a_fb {
 	u16 wRTSDuration_f0;
 	u16 wRTSDuration_f1;
 	struct ieee80211_rts data;
+	struct vnt_tx_datahead_a_fb data_head;
 } __packed;
 
 /* CTS buffer header */

commit 5b852f53528f57fdfdd6e26129fb0ad63e696400
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 15:54:56 2013 +0100

    staging: vt6656: rxtx.c Parse struct vnt_tx_datahead_g_fb
    
    Parse struct vnt_tx_datahead_g_fb from s_uFillDataHead and
    move to struct vnt_rts_g_fb/struct vnt_cts_fb structure returning
    duration down functions.
    
    This removes pvTxDataHd pointer assignment.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index ea20e94246c2..0a022cf1803e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -132,6 +132,7 @@ struct vnt_rts_g_fb {
 	u16 wRTSDuration_ba_f1;
 	u16 wRTSDuration_aa_f1;
 	struct ieee80211_rts data;
+	struct vnt_tx_datahead_g_fb data_head;
 } __packed;
 
 struct vnt_rts_ab {
@@ -168,6 +169,7 @@ struct vnt_cts_fb {
 	u16 wCTSDuration_ba_f1;
 	struct ieee80211_cts data;
 	u16 reserved2;
+	struct vnt_tx_datahead_g_fb data_head;
 } __packed;
 
 union vnt_tx_data_head {

commit 78363fd187f4f0cd650bb6ec2dd727bbc57c6394
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Oct 1 15:52:16 2013 +0100

    staging: vt6656: rxtx.c Parse struct vnt_tx_datahead_g
    
    Parse struct vnt_tx_datahead_g from s_uFillDataHead and
    move to struct vnt_rts_g/struct vnt_cts structure.
    
    This removes pvTxDataHd pointer assignment.
    
    The duration_id(uDuration) field is now returned in s_vGenerateTxParameter.
    
    The return of s_uFillDataHead temporary or'ed to retain functionality of
    other functions and is removed at the end of this patch series.
    
    Since pvTxDataHd is now null a small vendor hack to vDMA0_tx_80211/csMgmt_xmit
    to do with Disassociation-packet is also changed correct head position.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index bbda9a3a83c0..ea20e94246c2 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -117,6 +117,7 @@ struct vnt_rts_g {
 	u16 wDuration_bb;
 	u16 wReserved;
 	struct ieee80211_rts data;
+	struct vnt_tx_datahead_g data_head;
 } __packed;
 
 struct vnt_rts_g_fb {
@@ -156,6 +157,7 @@ struct vnt_cts {
 	u16 wReserved;
 	struct ieee80211_cts data;
 	u16 reserved2;
+	struct vnt_tx_datahead_g data_head;
 } __packed;
 
 struct vnt_cts_fb {

commit 56c60e4f1c6bb804cb5745f20405bac38ac471ed
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Sep 26 18:49:44 2013 +0100

    staging: vt6656: rxtx.c create structure to join vnt_tx_data_head with vnt_tx_head.
    
    Create struct vnt_tx_mic_hdr for with union vnt_tx_data_head
    for mic mode.
    
    Create union vnt_tx for mic and non mic mode.
    
    Attach vnt_rrv_time_* to relevant tx_head.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 78b7b749ef96..bbda9a3a83c0 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -180,10 +180,29 @@ union vnt_tx_data_head {
 	struct vnt_cts_fb cts_g_fb;
 };
 
+struct vnt_tx_mic_hdr {
+	struct vnt_mic_hdr hdr;
+	union vnt_tx_data_head head;
+} __packed;
+
+union vnt_tx {
+	struct vnt_tx_mic_hdr mic;
+	union vnt_tx_data_head head;
+};
+
 union vnt_tx_head {
-	struct vnt_rrv_time_rts rts;
-	struct vnt_rrv_time_cts cts;
-	struct vnt_rrv_time_ab ab;
+	struct {
+		struct vnt_rrv_time_rts rts;
+		union vnt_tx tx;
+	} __packed tx_rts;
+	struct {
+		struct vnt_rrv_time_cts cts;
+		union vnt_tx tx;
+	} __packed tx_cts;
+	struct {
+		struct vnt_rrv_time_ab ab;
+		union vnt_tx tx;
+	} __packed tx_ab;
 };
 
 struct vnt_tx_fifo_head {

commit 9e38a5c1051f4b3593dd2aa6fe74a939569a61fd
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Sep 26 18:47:25 2013 +0100

    staging: vt6656: rxtx.c Create union of struct vnt_rrv_time* stuctures
    
    Attach union vnt_tx_head to structure vnt_tx_buffer replacing pointer
    pvRrvTime.
    
    In s_vGenerateTxParameter the relevant struct vnt_rrv_time_*
    structure is attached to the vnt_tx_head.
    
    The NULL check is now pFifoHead.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 137e62d47472..78b7b749ef96 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -180,6 +180,12 @@ union vnt_tx_data_head {
 	struct vnt_cts_fb cts_g_fb;
 };
 
+union vnt_tx_head {
+	struct vnt_rrv_time_rts rts;
+	struct vnt_rrv_time_cts cts;
+	struct vnt_rrv_time_ab ab;
+};
+
 struct vnt_tx_fifo_head {
 	u32 adwTxKey[4];
 	u16 wFIFOCtl;
@@ -193,6 +199,7 @@ struct vnt_tx_buffer {
 	u8 byPKTNO;
 	u16 wTxByteCount;
 	struct vnt_tx_fifo_head fifo_head;
+	union vnt_tx_head tx_head;
 } __packed;
 
 struct vnt_beacon_buffer {

commit d66caada5a69443677841b487125752f9fcea126
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Sep 17 19:54:35 2013 +0100

    staging: vt6656: desc.h remove typedef struct tagSTxBufHead to rxtx.h
    
    In code it is referred to as fifo to renamed to
    typedef struct tagSTxBufHead -> struct vnt_tx_fifo_head
    
    This is only needed by rxtc.c so moved to rxtx.h
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 4bbee1c2fcac..137e62d47472 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -180,10 +180,7 @@ union vnt_tx_data_head {
 	struct vnt_cts_fb cts_g_fb;
 };
 
-struct vnt_tx_buffer {
-	u8 byType;
-	u8 byPKTNO;
-	u16 wTxByteCount;
+struct vnt_tx_fifo_head {
 	u32 adwTxKey[4];
 	u16 wFIFOCtl;
 	u16 wTimeStamp;
@@ -191,6 +188,13 @@ struct vnt_tx_buffer {
 	u16 wReserved;
 } __packed;
 
+struct vnt_tx_buffer {
+	u8 byType;
+	u8 byPKTNO;
+	u16 wTxByteCount;
+	struct vnt_tx_fifo_head fifo_head;
+} __packed;
+
 struct vnt_beacon_buffer {
 	u8 byType;
 	u8 byPKTNO;

commit 13fe62ae6a471e7a9c8c11c72d18e650235909e3
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Mon Aug 26 11:17:52 2013 +0100

    staging: vt6656: rxtx s_vFillRTSHead create union of vnt_rts*/vnt_cts* structures.
    
    Only one of vnt_rts*/vnt_cts* structures are accessed at any one time.
    
    Join these structures in to a single union.
    
    These will eventually form the tail structure of vnt_tx_buffer and
    include structures vnt_tx_datahead*
    
    Structures in s_vFillCTSHead will join in next patch series.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index ad6205255967..4bbee1c2fcac 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -168,6 +168,18 @@ struct vnt_cts_fb {
 	u16 reserved2;
 } __packed;
 
+union vnt_tx_data_head {
+	/* rts g */
+	struct vnt_rts_g rts_g;
+	struct vnt_rts_g_fb rts_g_fb;
+	/* rts a/b */
+	struct vnt_rts_ab rts_ab;
+	struct vnt_rts_a_fb rts_a_fb;
+	/* cts g */
+	struct vnt_cts cts_g;
+	struct vnt_cts_fb cts_g_fb;
+};
+
 struct vnt_tx_buffer {
 	u8 byType;
 	u8 byPKTNO;

commit 5a5d6a80cf8733ccb29d83951f1dd2f0e4a4fe2b
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 23 14:33:55 2013 +0100

    staging: vt6656: desc.h Remove typedef struct tagSMICHDRHead to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSMICHDRHead -> struct vnt_mic_hdr
    
    This is only needed by rxtc.c so moved to rxtx.h
    
    The new structure is the same size as the old but
    contains the members as pointer referenced in
    rxtx.c s_vFillTxKey
    u8 id
            *pMICHDR = 0x59;
    u8 tx_priority;
            *((u8 *)(pMICHDR+1)) = 0; // TxPriority
    u8 mic_addr2[6];
            memcpy(pMICHDR+2, &(pMACHeader->addr2[0]), 6);
    __be32 tsc_47_16;
            pMICHDR+8 = HIBYTE(HIWORD(pTransmitKey->dwTSC47_16));
            pMICHDR+9 = LOBYTE(HIWORD(pTransmitKey->dwTSC47_16));
            pMICHDR+10 = HIBYTE(LOWORD(pTransmitKey->dwTSC47_16));
            pMICHDR+11 = LOBYTE(LOWORD(pTransmitKey->dwTSC47_16));
    __be16 tsc_15_0;
            pMICHDR+12 = HIBYTE(pTransmitKey->wTSC15_0);
            pMICHDR+13 = LOBYTE(pTransmitKey->wTSC15_0);
    __be16 payload_len;
            pMICHDR+14 = HIBYTE(wPayloadLen);
            pMICHDR+15 = LOBYTE(wPayloadLen);
    __be16 hlen;
            pMICHDR+16 = 0; // HLEN[15:8]
            pMICHDR+17 = 28; // HLEN[7:0]
    __le16 frame_control;
            memcpy(pMICHDR+18, (u8 *)&wValue, 2); // MSKFRACTL
    u8 addr1[6];
            memcpy(pMICHDR+20, &(pMACHeader->addr1[0]), 6);
    u8 addr2[6];
            memcpy(pMICHDR+26, &(pMACHeader->addr2[0]), 6);
    u8 addr3[6];
            memcpy(pMICHDR+32, &(pMACHeader->addr3[0]), 6);
    __le16 seq_ctrl;
            memcpy(pMICHDR+38, (u8 *)&wValue, 2); // MSKSEQCTL
    u8 addr4[6];
            memcpy(pMICHDR+40, &(pMACHeader->addr4[0]), 6);
    u16 packing; /* packing to 48 bytes */
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3484f2b16640..ad6205255967 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -33,6 +33,24 @@
 #include "wcmd.h"
 #include "baseband.h"
 
+/* MIC HDR data header */
+struct vnt_mic_hdr {
+	u8 id;
+	u8 tx_priority;
+	u8 mic_addr2[6];
+	__be32 tsc_47_16;
+	__be16 tsc_15_0;
+	__be16 payload_len;
+	__be16 hlen;
+	__le16 frame_control;
+	u8 addr1[6];
+	u8 addr2[6];
+	u8 addr3[6];
+	__le16 seq_ctrl;
+	u8 addr4[6];
+	u16 packing; /* packing to 48 bytes */
+} __packed;
+
 /* RsvTime buffer header */
 struct vnt_rrv_time_rts {
 	u16 wRTSTxRrvTime_ba;

commit aed387c78d4ad3cb7b65670785ab396ce06d0b5d
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Aug 20 22:52:30 2013 +0100

    staging: vt6656: baseband.c BBvCalculateParameter create structure for pwPhyLen, pbyPhySrv and pbyPhySgn
    
    Create single packed structure vnt_phy_field for rxtx.h structures.
    
    In card.c CARDvSetRSPINF a vnt_phy_field replaces abyServ,
    abySignal, awLen variables.
    
    In rxtx.c point BBvCalculateParameter to relevant field.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index b1ef90eac4ea..3484f2b16640 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -31,6 +31,7 @@
 
 #include "device.h"
 #include "wcmd.h"
+#include "baseband.h"
 
 /* RsvTime buffer header */
 struct vnt_rrv_time_rts {
@@ -56,12 +57,8 @@ struct vnt_rrv_time_ab {
 
 /* TX data header */
 struct vnt_tx_datahead_g {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
-	u8 bySignalField_a;
-	u8 byServiceField_a;
-	u16 wTransmitLength_a;
+	struct vnt_phy_field b;
+	struct vnt_phy_field a;
 	u16 wDuration_b;
 	u16 wDuration_a;
 	u16 wTimeStampOff_b;
@@ -69,12 +66,8 @@ struct vnt_tx_datahead_g {
 } __packed;
 
 struct vnt_tx_datahead_g_fb {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
-	u8 bySignalField_a;
-	u8 byServiceField_a;
-	u16 wTransmitLength_a;
+	struct vnt_phy_field b;
+	struct vnt_phy_field a;
 	u16 wDuration_b;
 	u16 wDuration_a;
 	u16 wDuration_a_f0;
@@ -84,17 +77,13 @@ struct vnt_tx_datahead_g_fb {
 } __packed;
 
 struct vnt_tx_datahead_ab {
-	u8 bySignalField;
-	u8 byServiceField;
-	u16 wTransmitLength;
+	struct vnt_phy_field ab;
 	u16 wDuration;
 	u16 wTimeStampOff;
 } __packed;
 
 struct vnt_tx_datahead_a_fb {
-	u8 bySignalField;
-	u8 byServiceField;
-	u16 wTransmitLength;
+	struct vnt_phy_field a;
 	u16 wDuration;
 	u16 wTimeStampOff;
 	u16 wDuration_f0;
@@ -103,12 +92,8 @@ struct vnt_tx_datahead_a_fb {
 
 /* RTS buffer header */
 struct vnt_rts_g {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
-	u8 bySignalField_a;
-	u8 byServiceField_a;
-	u16 wTransmitLength_a;
+	struct vnt_phy_field b;
+	struct vnt_phy_field a;
 	u16 wDuration_ba;
 	u16 wDuration_aa;
 	u16 wDuration_bb;
@@ -117,12 +102,8 @@ struct vnt_rts_g {
 } __packed;
 
 struct vnt_rts_g_fb {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
-	u8 bySignalField_a;
-	u8 byServiceField_a;
-	u16 wTransmitLength_a;
+	struct vnt_phy_field b;
+	struct vnt_phy_field a;
 	u16 wDuration_ba;
 	u16 wDuration_aa;
 	u16 wDuration_bb;
@@ -135,18 +116,14 @@ struct vnt_rts_g_fb {
 } __packed;
 
 struct vnt_rts_ab {
-	u8 bySignalField;
-	u8 byServiceField;
-	u16 wTransmitLength;
+	struct vnt_phy_field ab;
 	u16 wDuration;
 	u16 wReserved;
 	struct ieee80211_rts data;
 } __packed;
 
 struct vnt_rts_a_fb {
-	u8 bySignalField;
-	u8 byServiceField;
-	u16 wTransmitLength;
+	struct vnt_phy_field a;
 	u16 wDuration;
 	u16 wReserved;
 	u16 wRTSDuration_f0;
@@ -156,9 +133,7 @@ struct vnt_rts_a_fb {
 
 /* CTS buffer header */
 struct vnt_cts {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
+	struct vnt_phy_field b;
 	u16 wDuration_ba;
 	u16 wReserved;
 	struct ieee80211_cts data;
@@ -166,9 +141,7 @@ struct vnt_cts {
 } __packed;
 
 struct vnt_cts_fb {
-	u8 bySignalField_b;
-	u8 byServiceField_b;
-	u16 wTransmitLength_b;
+	struct vnt_phy_field b;
 	u16 wDuration_ba;
 	u16 wReserved;
 	u16 wCTSDuration_ba_f0;

commit 1da4ee2050b8751fc55d79cd4ba89a10c2a9e1be
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:51:38 2013 +0100

    staging: vt6656: desc.h remove typedef tagSTxDataHead_a_FB to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSTxDataHead_a_FB -> struct vnt_tx_datahead_a_fb
    
    This is only needed by rxtc.c so moved to rxtx.h visible to
    vnt_rts* structures which it will eventually form part of
    their structure.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d66d71dde437..b1ef90eac4ea 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -91,6 +91,16 @@ struct vnt_tx_datahead_ab {
 	u16 wTimeStampOff;
 } __packed;
 
+struct vnt_tx_datahead_a_fb {
+	u8 bySignalField;
+	u8 byServiceField;
+	u16 wTransmitLength;
+	u16 wDuration;
+	u16 wTimeStampOff;
+	u16 wDuration_f0;
+	u16 wDuration_f1;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 558becf1888eb8945a74af2e2430908ac6373131
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:50:32 2013 +0100

    staging: vt6656: desc.h remove typedef tagSTxDataHead_ab to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSTxDataHead_ab -> struct vnt_tx_datahead_ab
    
    This is only needed by rxtc.c so moved to rxtx.h visible to
    vnt_rts* structures which it will eventually form part of
    their structure.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index ba80271d11b4..d66d71dde437 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -83,6 +83,14 @@ struct vnt_tx_datahead_g_fb {
 	u16 wTimeStampOff_a;
 } __packed;
 
+struct vnt_tx_datahead_ab {
+	u8 bySignalField;
+	u8 byServiceField;
+	u16 wTransmitLength;
+	u16 wDuration;
+	u16 wTimeStampOff;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 7c05c5451dcce15e10447a98403ac7d255451d7c
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:49:15 2013 +0100

    staging: vt6656: desc.h remove typedef tagSTxDataHead_g_FB to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSTxDataHead_g_FB -> struct vnt_tx_datahead_g_fb
    
    This is only needed by rxtc.c so moved to rxtx.h visible to
    vnt_rts*/vnt_cts* structures which it will eventually form part of
    their structure.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3c8262321795..ba80271d11b4 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -68,6 +68,21 @@ struct vnt_tx_datahead_g {
 	u16 wTimeStampOff_a;
 } __packed;
 
+struct vnt_tx_datahead_g_fb {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u8 bySignalField_a;
+	u8 byServiceField_a;
+	u16 wTransmitLength_a;
+	u16 wDuration_b;
+	u16 wDuration_a;
+	u16 wDuration_a_f0;
+	u16 wDuration_a_f1;
+	u16 wTimeStampOff_b;
+	u16 wTimeStampOff_a;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 7e60a3de27db69ba072f9a9809aea21f8ff089eb
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:48:03 2013 +0100

    staging: vt6656: desc.h: remove typedef struct tagSTxDataHead_g to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSTxDataHead_g -> struct vnt_tx_datahead_g
    
    This is only needed by rxtc.c so moved to rxtx.h visible to
    vnt_rts*/vnt_cts* structures which it will eventually form part of
    their structure.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 75737608d170..3c8262321795 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -54,6 +54,20 @@ struct vnt_rrv_time_ab {
 	u16 wTxRrvTime;
 } __packed;
 
+/* TX data header */
+struct vnt_tx_datahead_g {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u8 bySignalField_a;
+	u8 byServiceField_a;
+	u16 wTransmitLength_a;
+	u16 wDuration_b;
+	u16 wDuration_a;
+	u16 wTimeStampOff_b;
+	u16 wTimeStampOff_a;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 976467d3cbcdadca343a0d9e0e2cfeeb16c48d4f
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:44:04 2013 +0100

    staging: vt6656: desc.h remove typedef SRrvTime_ab to new structure.
    
    To new structure.
    typedef struct tagSRrvTime_ab -> struct vnt_rrv_time_ab
    
    This is only needed by rxtc.c so moved to rxtx.h and
    will eventually form part of the structure of
    struct vnt_tx_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 35a6b476b12b..75737608d170 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -49,6 +49,11 @@ struct vnt_rrv_time_cts {
 	u16 wTxRrvTime_a;
 } __packed;
 
+struct vnt_rrv_time_ab {
+	u16 wRTSTxRrvTime;
+	u16 wTxRrvTime;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 4f990057bc8fa4d1a2ba98ec238bb0e709b190f5
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 23:38:57 2013 +0100

    staging: vt6656: desc.h: Move typedef struct tagSRrvTime_gCTS to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSRrvTime_gCTS -> struct vnt_rrv_time_cts
    
    This is only needed by rxtc.c so moved to rxtx.h and
    will eventually form part of the structure of
    struct vnt_tx_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 8afade2d5118..35a6b476b12b 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -42,6 +42,13 @@ struct vnt_rrv_time_rts {
 	u16 wTxRrvTime_a;
 } __packed;
 
+struct vnt_rrv_time_cts {
+	u16 wCTSTxRrvTime_ba;
+	u16 wReserved;
+	u16 wTxRrvTime_b;
+	u16 wTxRrvTime_a;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit 6398a59becb56e44df4f8cd600bb0efed1827e9b
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Fri Aug 16 21:26:55 2013 +0100

    staging: vt6656: desc.h: Move typedef tagSRrvTime_gRTS to new structure in rxtx.h
    
    To new structure.
    typedef struct tagSRrvTime_gRTS -> struct vnt_rrv_time_rts
    
    This is only needed by rxtc.c so moved to rxtx.h and
    will eventually form part of the structure of
    struct vnt_tx_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 8fd5be175e6b..8afade2d5118 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,6 +32,16 @@
 #include "device.h"
 #include "wcmd.h"
 
+/* RsvTime buffer header */
+struct vnt_rrv_time_rts {
+	u16 wRTSTxRrvTime_ba;
+	u16 wRTSTxRrvTime_aa;
+	u16 wRTSTxRrvTime_bb;
+	u16 wReserved;
+	u16 wTxRrvTime_b;
+	u16 wTxRrvTime_a;
+} __packed;
+
 /* RTS buffer header */
 struct vnt_rts_g {
 	u8 bySignalField_b;

commit f0c5ba2815d589854dff557b913a1b61b22bb458
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Aug 15 21:27:22 2013 +0100

    staging: vt6656: desc.h Move typedef struct tagSCTS* to new structures in rxtx.h
    
    The new structures being
    typedef struct tagSCTS -> struct vnt_cts
    typedef struct tagSCTS_FB -> struct vnt_cts_fb
    
    These are only needed by rxtc.c so moved to rxtx.h and
    will eventually form part of the structure of
    struct vnt_tx_buffer.
    
    The linux/ieee80211.h in desc.h is no longer needed.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 8ce5bfcd737a..8fd5be175e6b 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -85,6 +85,29 @@ struct vnt_rts_a_fb {
 	struct ieee80211_rts data;
 } __packed;
 
+/* CTS buffer header */
+struct vnt_cts {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u16 wDuration_ba;
+	u16 wReserved;
+	struct ieee80211_cts data;
+	u16 reserved2;
+} __packed;
+
+struct vnt_cts_fb {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u16 wDuration_ba;
+	u16 wReserved;
+	u16 wCTSDuration_ba_f0;
+	u16 wCTSDuration_ba_f1;
+	struct ieee80211_cts data;
+	u16 reserved2;
+} __packed;
+
 struct vnt_tx_buffer {
 	u8 byType;
 	u8 byPKTNO;

commit c521cb58880c153683c983a51e54517b21d04daf
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Aug 15 21:23:25 2013 +0100

    staging: vt6656: desc.h Remove typedef struct tagSRTS_* to new strutures in rxtx.h
    
    The new structures being
    typedef struct tagSRTS_g -> struct vnt_rts_g
    typedef struct tagSRTS_g_FB -> struct vnt_rts_g_fb
    typedef struct tagSRTS_ab -> struct vnt_rts_ab
    typedef struct tagSRTS_a_FB -> struct vnt_rts_a_fb
    
    These are only needed by rxtc.c so moved to rxtx.h and
    will eventually form part of the structure of
    struct vnt_tx_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3e347a932ede..8ce5bfcd737a 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,6 +32,59 @@
 #include "device.h"
 #include "wcmd.h"
 
+/* RTS buffer header */
+struct vnt_rts_g {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u8 bySignalField_a;
+	u8 byServiceField_a;
+	u16 wTransmitLength_a;
+	u16 wDuration_ba;
+	u16 wDuration_aa;
+	u16 wDuration_bb;
+	u16 wReserved;
+	struct ieee80211_rts data;
+} __packed;
+
+struct vnt_rts_g_fb {
+	u8 bySignalField_b;
+	u8 byServiceField_b;
+	u16 wTransmitLength_b;
+	u8 bySignalField_a;
+	u8 byServiceField_a;
+	u16 wTransmitLength_a;
+	u16 wDuration_ba;
+	u16 wDuration_aa;
+	u16 wDuration_bb;
+	u16 wReserved;
+	u16 wRTSDuration_ba_f0;
+	u16 wRTSDuration_aa_f0;
+	u16 wRTSDuration_ba_f1;
+	u16 wRTSDuration_aa_f1;
+	struct ieee80211_rts data;
+} __packed;
+
+struct vnt_rts_ab {
+	u8 bySignalField;
+	u8 byServiceField;
+	u16 wTransmitLength;
+	u16 wDuration;
+	u16 wReserved;
+	struct ieee80211_rts data;
+} __packed;
+
+struct vnt_rts_a_fb {
+	u8 bySignalField;
+	u8 byServiceField;
+	u16 wTransmitLength;
+	u16 wDuration;
+	u16 wReserved;
+	u16 wRTSDuration_f0;
+	u16 wRTSDuration_f1;
+	struct ieee80211_rts data;
+} __packed;
+
 struct vnt_tx_buffer {
 	u8 byType;
 	u8 byPKTNO;

commit 01f865ba4a1ee95d4828b4f3fa69d68f9ac4b9ba
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Aug 15 19:40:08 2013 +0100

    staging: vt6656: rxtx.h : remove typedef struct tagSBEACON_BUFFER
    
    Replace with struct vnt_beacon_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index bd1f9e2a0487..3e347a932ede 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -43,15 +43,13 @@ struct vnt_tx_buffer {
 	u16 wReserved;
 } __packed;
 
-typedef struct tagSBEACON_BUFFER
-{
-    u8                            byType;
-    u8                            byPKTNO;
-    u16                            wTxByteCount;
-
-    u16                            wFIFOCtl;
-    u16                            wTimeStamp;
-} __packed BEACON_BUFFER, *PBEACON_BUFFER;
+struct vnt_beacon_buffer {
+	u8 byType;
+	u8 byPKTNO;
+	u16 wTxByteCount;
+	u16 wFIFOCtl;
+	u16 wTimeStamp;
+} __packed;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
 int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);

commit f39c0d8e30c74a01b9883044e41fb339b97c006f
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Aug 15 19:34:37 2013 +0100

    staging: vt6656: rxtx.c remove typdef PTX_BUFFER
    
    Rename to vnt_tx_buffer.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 3e2a877a3b03..bd1f9e2a0487 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,18 +32,16 @@
 #include "device.h"
 #include "wcmd.h"
 
-typedef struct tagSTX_BUFFER
-{
-    u8                            byType;
-    u8                            byPKTNO;
-    u16                            wTxByteCount;
-
+struct vnt_tx_buffer {
+	u8 byType;
+	u8 byPKTNO;
+	u16 wTxByteCount;
 	u32 adwTxKey[4];
-    u16                            wFIFOCtl;
-    u16                            wTimeStamp;
-    u16                            wFragCtl;
-    u16                            wReserved;
-} __packed TX_BUFFER, *PTX_BUFFER;
+	u16 wFIFOCtl;
+	u16 wTimeStamp;
+	u16 wFragCtl;
+	u16 wReserved;
+} __packed;
 
 typedef struct tagSBEACON_BUFFER
 {

commit 18ee00a6e10e54e6e5ebddba7913ee5738344297
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Aug 13 19:52:08 2013 +0100

    staging: vt6656: rxtx.h dead code typedef union tagUTX_BUFFER_CONTAINER
    
    This is part of the Remote NDIS message format with patch
    
    vt6656: rxtx.c: s_vGetFreeContext use single tx memset.
    
    there is not need for this structure and its members.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index d854b383d647..3e2a877a3b03 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,568 +32,6 @@
 #include "device.h"
 #include "wcmd.h"
 
-//
-// RTS buffer header
-//
-typedef struct tagSRTSDataF {
-    u16    wFrameControl;
-    u16    wDurationID;
-    u8    abyRA[ETH_ALEN];
-    u8    abyTA[ETH_ALEN];
-} SRTSDataF, *PSRTSDataF;
-
-//
-// CTS buffer header
-//
-typedef struct tagSCTSDataF {
-    u16    wFrameControl;
-    u16    wDurationID;
-    u8    abyRA[ETH_ALEN];
-    u16    wReserved;
-} SCTSDataF, *PSCTSDataF;
-
-//
-// MICHDR data header
-//
-typedef struct tagSMICHDR {
-	u32 adwHDR0[4];
-	u32 adwHDR1[4];
-	u32 adwHDR2[4];
-} SMICHDR, *PSMICHDR;
-
-typedef struct tagSTX_NAF_G_RTS
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ba;
-    u16            wRTSTxRrvTime_aa;
-    u16            wRTSTxRrvTime_bb;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    //RTS
-    u8            byRTSSignalField_b;
-    u8            byRTSServiceField_b;
-    u16            wRTSTransmitLength_b;
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_ba;
-    u16            wRTSDuration_aa;
-    u16            wRTSDuration_bb;
-    u16            wReserved3;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_NAF_G_RTS, *PTX_NAF_G_RTS;
-
-typedef struct tagSTX_NAF_G_RTS_MIC
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ba;
-    u16            wRTSTxRrvTime_aa;
-    u16            wRTSTxRrvTime_bb;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //RTS
-    u8            byRTSSignalField_b;
-    u8            byRTSServiceField_b;
-    u16            wRTSTransmitLength_b;
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_ba;
-    u16            wRTSDuration_aa;
-    u16            wRTSDuration_bb;
-    u16            wReserved3;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_NAF_G_RTS_MIC, *PTX_NAF_G_RTS_MIC;
-
-typedef struct tagSTX_NAF_G_CTS
-{
-    //RsvTime
-    u16            wCTSTxRrvTime_ba;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    //CTS
-    u8            byCTSSignalField_b;
-    u8            byCTSServiceField_b;
-    u16            wCTSTransmitLength_b;
-    u16            wCTSDuration_ba;
-    u16            wReserved3;
-    SCTSDataF       sCTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_NAF_G_CTS, *PTX_NAF_G_CTS;
-
-typedef struct tagSTX_NAF_G_CTS_MIC
-{
-    //RsvTime
-    u16            wCTSTxRrvTime_ba;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //CTS
-    u8            byCTSSignalField_b;
-    u8            byCTSServiceField_b;
-    u16            wCTSTransmitLength_b;
-    u16            wCTSDuration_ba;
-    u16            wReserved3;
-    SCTSDataF       sCTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_NAF_G_CTS_MIC, *PTX_NAF_G_CTS_MIC;
-
-typedef struct tagSTX_NAF_G_BEACON
-{
-    u16            wFIFOCtl;
-    u16            wTimeStamp;
-
-    //CTS
-    u8            byCTSSignalField_b;
-    u8            byCTSServiceField_b;
-    u16            wCTSTransmitLength_b;
-    u16            wCTSDuration_ba;
-    u16            wReserved1;
-    SCTSDataF       sCTS;
-
-    //Data
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_a;
-    u16            wTimeStampOff_a;
-
-} TX_NAF_G_BEACON, *PTX_NAF_G_BEACON;
-
-typedef struct tagSTX_NAF_AB_RTS
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ab;
-    u16            wTxRrvTime_ab;
-
-    //RTS
-    u8            byRTSSignalField_ab;
-    u8            byRTSServiceField_ab;
-    u16            wRTSTransmitLength_ab;
-    u16            wRTSDuration_ab;
-    u16            wReserved2;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_ab;
-    u8            byServiceField_ab;
-    u16            wTransmitLength_ab;
-    u16            wDuration_ab;
-    u16            wTimeStampOff_ab;
-
-} TX_NAF_AB_RTS, *PTX_NAF_AB_RTS;
-
-typedef struct tagSTX_NAF_AB_RTS_MIC
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ab;
-    u16            wTxRrvTime_ab;
-
-    SMICHDR         sMICHDR;
-
-    //RTS
-    u8            byRTSSignalField_ab;
-    u8            byRTSServiceField_ab;
-    u16            wRTSTransmitLength_ab;
-    u16            wRTSDuration_ab;
-    u16            wReserved2;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_ab;
-    u8            byServiceField_ab;
-    u16            wTransmitLength_ab;
-    u16            wDuration_ab;
-    u16            wTimeStampOff_ab;
-
-} TX_NAF_AB_RTS_MIC, *PTX_NAF_AB_RTS_MIC;
-
-typedef struct tagSTX_NAF_AB_CTS
-{
-    //RsvTime
-    u16            wReserved2;
-    u16            wTxRrvTime_ab;
-
-    //Data
-    u8            bySignalField_ab;
-    u8            byServiceField_ab;
-    u16            wTransmitLength_ab;
-    u16            wDuration_ab;
-    u16            wTimeStampOff_ab;
-
-} TX_NAF_AB_CTS, *PTX_NAF_AB_CTS;
-
-typedef struct tagSTX_NAF_AB_CTS_MIC
-{
-    //RsvTime
-    u16            wReserved2;
-    u16            wTxRrvTime_ab;
-
-    SMICHDR         sMICHDR;
-
-    //Data
-    u8            bySignalField_ab;
-    u8            byServiceField_ab;
-    u16            wTransmitLength_ab;
-    u16            wDuration_ab;
-    u16            wTimeStampOff_ab;
-
-} TX_NAF_AB_CTS_MIC, *PTX_NAF_AB_CTS_MIC;
-
-typedef struct tagSTX_NAF_AB_BEACON
-{
-    u16            wFIFOCtl;
-    u16            wTimeStamp;
-
-   //Data
-    u8            bySignalField_ab;
-    u8            byServiceField_ab;
-    u16            wTransmitLength_ab;
-    u16            wDuration_ab;
-    u16            wTimeStampOff_ab;
-
-} TX_NAF_AB_BEACON, *PTX_NAF_AB_BEACON;
-
-typedef struct tagSTX_AF_G_RTS
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ba;
-    u16            wRTSTxRrvTime_aa;
-    u16            wRTSTxRrvTime_bb;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    //RTS
-    u8            byRTSSignalField_b;
-    u8            byRTSServiceField_b;
-    u16            wRTSTransmitLength_b;
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_ba;
-    u16            wRTSDuration_aa;
-    u16            wRTSDuration_bb;
-    u16            wReserved3;
-    u16            wRTSDuration_ba_f0;
-    u16            wRTSDuration_aa_f0;
-    u16            wRTSDuration_ba_f1;
-    u16            wRTSDuration_aa_f1;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_AF_G_RTS, *PTX_AF_G_RTS;
-
-typedef struct tagSTX_AF_G_RTS_MIC
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_ba;
-    u16            wRTSTxRrvTime_aa;
-    u16            wRTSTxRrvTime_bb;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //RTS
-    u8            byRTSSignalField_b;
-    u8            byRTSServiceField_b;
-    u16            wRTSTransmitLength_b;
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_ba;
-    u16            wRTSDuration_aa;
-    u16            wRTSDuration_bb;
-    u16            wReserved3;
-    u16            wRTSDuration_ba_f0;
-    u16            wRTSDuration_aa_f0;
-    u16            wRTSDuration_ba_f1;
-    u16            wRTSDuration_aa_f1;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_AF_G_RTS_MIC, *PTX_AF_G_RTS_MIC;
-
-typedef struct tagSTX_AF_G_CTS
-{
-    //RsvTime
-    u16            wCTSTxRrvTime_ba;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    //CTS
-    u8            byCTSSignalField_b;
-    u8            byCTSServiceField_b;
-    u16            wCTSTransmitLength_b;
-    u16            wCTSDuration_ba;
-    u16            wReserved3;
-    u16            wCTSDuration_ba_f0;
-    u16            wCTSDuration_ba_f1;
-    SCTSDataF       sCTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_AF_G_CTS, *PTX_AF_G_CTS;
-
-typedef struct tagSTX_AF_G_CTS_MIC
-{
-    //RsvTime
-    u16            wCTSTxRrvTime_ba;
-    u16            wReserved2;
-    u16            wTxRrvTime_b;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //CTS
-    u8            byCTSSignalField_b;
-    u8            byCTSServiceField_b;
-    u16            wCTSTransmitLength_b;
-    u16            wCTSDuration_ba;
-    u16            wReserved3;
-    u16            wCTSDuration_ba_f0;
-    u16            wCTSDuration_ba_f1;
-    SCTSDataF       sCTS;
-
-    //Data
-    u8            bySignalField_b;
-    u8            byServiceField_b;
-    u16            wTransmitLength_b;
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_b;
-    u16            wDuration_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-    u16            wTimeStampOff_b;
-    u16            wTimeStampOff_a;
-
-} TX_AF_G_CTS_MIC, *PTX_AF_G_CTS_MIC;
-
-typedef struct tagSTX_AF_A_RTS
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_a;
-    u16            wTxRrvTime_a;
-
-    //RTS
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_a;
-    u16            wReserved2;
-    u16            wRTSDuration_a_f0;
-    u16            wRTSDuration_a_f1;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_a;
-    u16            wTimeStampOff_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-
-} TX_AF_A_RTS, *PTX_AF_A_RTS;
-
-typedef struct tagSTX_AF_A_RTS_MIC
-{
-    //RsvTime
-    u16            wRTSTxRrvTime_a;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //RTS
-    u8            byRTSSignalField_a;
-    u8            byRTSServiceField_a;
-    u16            wRTSTransmitLength_a;
-    u16            wRTSDuration_a;
-    u16            wReserved2;
-    u16            wRTSDuration_a_f0;
-    u16            wRTSDuration_a_f1;
-    SRTSDataF       sRTS;
-
-    //Data
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_a;
-    u16            wTimeStampOff_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-
-} TX_AF_A_RTS_MIC, *PTX_AF_A_RTS_MIC;
-
-typedef struct tagSTX_AF_A_CTS
-{
-    //RsvTime
-    u16            wReserved2;
-    u16            wTxRrvTime_a;
-
-    //Data
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_a;
-    u16            wTimeStampOff_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-
-} TX_AF_A_CTS, *PTX_AF_A_CTS;
-
-typedef struct tagSTX_AF_A_CTS_MIC
-{
-    //RsvTime
-    u16            wReserved2;
-    u16            wTxRrvTime_a;
-
-    SMICHDR         sMICHDR;
-
-    //Data
-    u8            bySignalField_a;
-    u8            byServiceField_a;
-    u16            wTransmitLength_a;
-    u16            wDuration_a;
-    u16            wTimeStampOff_a;
-    u16            wDuration_a_f0;
-    u16            wDuration_a_f1;
-
-} TX_AF_A_CTS_MIC, *PTX_AF_A_CTS_MIC;
-
-//
-// union with all of the TX Buffer Type
-//
-typedef union tagUTX_BUFFER_CONTAINER
-{
-    TX_NAF_G_RTS                    RTS_G;
-    TX_NAF_G_RTS_MIC                RTS_G_MIC;
-    TX_NAF_G_CTS                    CTS_G;
-    TX_NAF_G_CTS_MIC                CTS_G_MIC;
-    //TX_NAF_G_BEACON                 Beacon_G;
-    TX_NAF_AB_RTS                   RTS_AB;
-    TX_NAF_AB_RTS_MIC               RTS_AB_MIC;
-    TX_NAF_AB_CTS                   CTS_AB;
-    TX_NAF_AB_CTS_MIC               CTS_AB_MIC;
-    //TX_NAF_AB_BEACON                Beacon_AB;
-    TX_AF_G_RTS                     RTS_G_AutoFB;
-    TX_AF_G_RTS_MIC                 RTS_G_AutoFB_MIC;
-    TX_AF_G_CTS                     CTS_G_AutoFB;
-    TX_AF_G_CTS_MIC                 CTS_G_AutoFB_MIC;
-    TX_AF_A_RTS                     RTS_A_AutoFB;
-    TX_AF_A_RTS_MIC                 RTS_A_AutoFB_MIC;
-    TX_AF_A_CTS                     CTS_A_AutoFB;
-    TX_AF_A_CTS_MIC                 CTS_A_AutoFB_MIC;
-
-} TX_BUFFER_CONTAINER, *PTX_BUFFER_CONTAINER;
-
-//
-// Remote NDIS message format
-//
 typedef struct tagSTX_BUFFER
 {
     u8                            byType;
@@ -605,15 +43,8 @@ typedef struct tagSTX_BUFFER
     u16                            wTimeStamp;
     u16                            wFragCtl;
     u16                            wReserved;
-
-    // Actual message
-    TX_BUFFER_CONTAINER             BufferHeader;
-
 } __packed TX_BUFFER, *PTX_BUFFER;
 
-//
-// Remote NDIS message format
-//
 typedef struct tagSBEACON_BUFFER
 {
     u8                            byType;
@@ -622,10 +53,6 @@ typedef struct tagSBEACON_BUFFER
 
     u16                            wFIFOCtl;
     u16                            wTimeStamp;
-
-    // Actual message
-    TX_BUFFER_CONTAINER             BufferHeader;
-
 } __packed BEACON_BUFFER, *PBEACON_BUFFER;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);

commit 629a9e65734e7a0d1b7528529ab99f5974f6069d
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Tue Aug 13 19:47:08 2013 +0100

    staging: vt6656: rxtx.h always pack BEACON_BUFFER/TX_BUFFER
    
    All structure members of BEACON_BUFFER/TX_BUFFER should be packed.
    
    Only the first 4 members of these structures are live.
    
    The forth member is referenced at run-time by packed structures.
    typedef struct tagSTxBufHead
    typedef struct tagSTxShortBufHead
    in desc.h
    
    If these structures are not packed the alignment of these members
    will be wrong.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index dd7e85dde1a2..d854b383d647 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -609,7 +609,7 @@ typedef struct tagSTX_BUFFER
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;
 
-} TX_BUFFER, *PTX_BUFFER;
+} __packed TX_BUFFER, *PTX_BUFFER;
 
 //
 // Remote NDIS message format
@@ -626,7 +626,7 @@ typedef struct tagSBEACON_BUFFER
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;
 
-} BEACON_BUFFER, *PBEACON_BUFFER;
+} __packed BEACON_BUFFER, *PBEACON_BUFFER;
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
 int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);

commit 9fbafdd9add10e349deeb1f38290943d5107e276
Author: Andres More <more.andres@gmail.com>
Date:   Tue Mar 26 18:18:30 2013 -0500

    staging: vt6656: remove consecutive newlines
    
    Several sed -i '/^$/{ N /^\n$/ D }' drivers/staging/vt6656/*.[ch]
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index a26031943f46..dd7e85dde1a2 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,8 +32,6 @@
 #include "device.h"
 #include "wcmd.h"
 
-
-
 //
 // RTS buffer header
 //
@@ -63,7 +61,6 @@ typedef struct tagSMICHDR {
 	u32 adwHDR2[4];
 } SMICHDR, *PSMICHDR;
 
-
 typedef struct tagSTX_NAF_G_RTS
 {
     //RsvTime
@@ -170,7 +167,6 @@ typedef struct tagSTX_NAF_G_CTS
 
 } TX_NAF_G_CTS, *PTX_NAF_G_CTS;
 
-
 typedef struct tagSTX_NAF_G_CTS_MIC
 {
     //RsvTime
@@ -179,7 +175,6 @@ typedef struct tagSTX_NAF_G_CTS_MIC
     u16            wTxRrvTime_b;
     u16            wTxRrvTime_a;
 
-
     SMICHDR         sMICHDR;
 
     //CTS
@@ -204,7 +199,6 @@ typedef struct tagSTX_NAF_G_CTS_MIC
 
 } TX_NAF_G_CTS_MIC, *PTX_NAF_G_CTS_MIC;
 
-
 typedef struct tagSTX_NAF_G_BEACON
 {
     u16            wFIFOCtl;
@@ -225,10 +219,8 @@ typedef struct tagSTX_NAF_G_BEACON
     u16            wDuration_a;
     u16            wTimeStampOff_a;
 
-
 } TX_NAF_G_BEACON, *PTX_NAF_G_BEACON;
 
-
 typedef struct tagSTX_NAF_AB_RTS
 {
     //RsvTime
@@ -250,10 +242,8 @@ typedef struct tagSTX_NAF_AB_RTS
     u16            wDuration_ab;
     u16            wTimeStampOff_ab;
 
-
 } TX_NAF_AB_RTS, *PTX_NAF_AB_RTS;
 
-
 typedef struct tagSTX_NAF_AB_RTS_MIC
 {
     //RsvTime
@@ -277,11 +267,8 @@ typedef struct tagSTX_NAF_AB_RTS_MIC
     u16            wDuration_ab;
     u16            wTimeStampOff_ab;
 
-
 } TX_NAF_AB_RTS_MIC, *PTX_NAF_AB_RTS_MIC;
 
-
-
 typedef struct tagSTX_NAF_AB_CTS
 {
     //RsvTime
@@ -314,7 +301,6 @@ typedef struct tagSTX_NAF_AB_CTS_MIC
 
 } TX_NAF_AB_CTS_MIC, *PTX_NAF_AB_CTS_MIC;
 
-
 typedef struct tagSTX_NAF_AB_BEACON
 {
     u16            wFIFOCtl;
@@ -372,7 +358,6 @@ typedef struct tagSTX_AF_G_RTS
 
 } TX_AF_G_RTS, *PTX_AF_G_RTS;
 
-
 typedef struct tagSTX_AF_G_RTS_MIC
 {
     //RsvTime
@@ -418,8 +403,6 @@ typedef struct tagSTX_AF_G_RTS_MIC
 
 } TX_AF_G_RTS_MIC, *PTX_AF_G_RTS_MIC;
 
-
-
 typedef struct tagSTX_AF_G_CTS
 {
     //RsvTime
@@ -454,7 +437,6 @@ typedef struct tagSTX_AF_G_CTS
 
 } TX_AF_G_CTS, *PTX_AF_G_CTS;
 
-
 typedef struct tagSTX_AF_G_CTS_MIC
 {
     //RsvTime
@@ -463,7 +445,6 @@ typedef struct tagSTX_AF_G_CTS_MIC
     u16            wTxRrvTime_b;
     u16            wTxRrvTime_a;
 
-
     SMICHDR         sMICHDR;
 
     //CTS
@@ -492,8 +473,6 @@ typedef struct tagSTX_AF_G_CTS_MIC
 
 } TX_AF_G_CTS_MIC, *PTX_AF_G_CTS_MIC;
 
-
-
 typedef struct tagSTX_AF_A_RTS
 {
     //RsvTime
@@ -521,7 +500,6 @@ typedef struct tagSTX_AF_A_RTS
 
 } TX_AF_A_RTS, *PTX_AF_A_RTS;
 
-
 typedef struct tagSTX_AF_A_RTS_MIC
 {
     //RsvTime
@@ -551,8 +529,6 @@ typedef struct tagSTX_AF_A_RTS_MIC
 
 } TX_AF_A_RTS_MIC, *PTX_AF_A_RTS_MIC;
 
-
-
 typedef struct tagSTX_AF_A_CTS
 {
     //RsvTime
@@ -570,7 +546,6 @@ typedef struct tagSTX_AF_A_CTS
 
 } TX_AF_A_CTS, *PTX_AF_A_CTS;
 
-
 typedef struct tagSTX_AF_A_CTS_MIC
 {
     //RsvTime
@@ -590,7 +565,6 @@ typedef struct tagSTX_AF_A_CTS_MIC
 
 } TX_AF_A_CTS_MIC, *PTX_AF_A_CTS_MIC;
 
-
 //
 // union with all of the TX Buffer Type
 //
@@ -617,7 +591,6 @@ typedef union tagUTX_BUFFER_CONTAINER
 
 } TX_BUFFER_CONTAINER, *PTX_BUFFER_CONTAINER;
 
-
 //
 // Remote NDIS message format
 //
@@ -633,13 +606,11 @@ typedef struct tagSTX_BUFFER
     u16                            wFragCtl;
     u16                            wReserved;
 
-
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;
 
 } TX_BUFFER, *PTX_BUFFER;
 
-
 //
 // Remote NDIS message format
 //
@@ -657,9 +628,6 @@ typedef struct tagSBEACON_BUFFER
 
 } BEACON_BUFFER, *PBEACON_BUFFER;
 
-
-
-
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
 int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);

commit 00d0603cbd9aa1c9a28c9fe973d14f74e83ba646
Author: Andres More <more.andres@gmail.com>
Date:   Mon Mar 18 20:33:51 2013 -0500

    staging: vt6656: remove code placeholders
    
    Removed comments from coding template.
    sed -i '/^\/\*---/d' drivers/staging/vt6656/*.[ch]
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Reviewed-by: Dan Carpenter <dan.carpenter@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index e27640cda90c..a26031943f46 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -32,9 +32,7 @@
 #include "device.h"
 #include "wcmd.h"
 
-/*---------------------  Export Definitions -------------------------*/
 
-/*---------------------  Export Classes  ----------------------------*/
 
 //
 // RTS buffer header
@@ -660,9 +658,7 @@ typedef struct tagSBEACON_BUFFER
 } BEACON_BUFFER, *PBEACON_BUFFER;
 
 
-/*---------------------  Export Variables  --------------------------*/
 
-/*---------------------  Export Functions  --------------------------*/
 
 void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
 int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);

commit 4fcf94980c994ed992d8efd1424bd842225f1cc6
Author: Andres More <more.andres@gmail.com>
Date:   Mon Feb 25 20:32:55 2013 -0500

    staging: vt6656: removed no longer useful ttype.h file
    
    Removed includes and added linux/types.h instead when needed.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 57706acf3acc..e27640cda90c 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -29,7 +29,6 @@
 #ifndef __RXTX_H__
 #define __RXTX_H__
 
-#include "ttype.h"
 #include "device.h"
 #include "wcmd.h"
 

commit 3eaca0d2f5a4137d4a5ecf63cf34cdf13b499bee
Author: Andres More <more.andres@gmail.com>
Date:   Mon Feb 25 20:32:52 2013 -0500

    staging: vt6656: replaced custom WORD definition with u16
    
    Checkpatch findings were not resolved.
    
    sed -i 's/\bWORD\b/u16/g' drivers/staging/vt6656/*.[ch]
    sed -i 's/\bPWORD\b/u16 */g' drivers/staging/vt6656/*.[ch]
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 7ca185e4437e..57706acf3acc 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -41,8 +41,8 @@
 // RTS buffer header
 //
 typedef struct tagSRTSDataF {
-    WORD    wFrameControl;
-    WORD    wDurationID;
+    u16    wFrameControl;
+    u16    wDurationID;
     u8    abyRA[ETH_ALEN];
     u8    abyTA[ETH_ALEN];
 } SRTSDataF, *PSRTSDataF;
@@ -51,10 +51,10 @@ typedef struct tagSRTSDataF {
 // CTS buffer header
 //
 typedef struct tagSCTSDataF {
-    WORD    wFrameControl;
-    WORD    wDurationID;
+    u16    wFrameControl;
+    u16    wDurationID;
     u8    abyRA[ETH_ALEN];
-    WORD    wReserved;
+    u16    wReserved;
 } SCTSDataF, *PSCTSDataF;
 
 //
@@ -70,106 +70,106 @@ typedef struct tagSMICHDR {
 typedef struct tagSTX_NAF_G_RTS
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ba;
-    WORD            wRTSTxRrvTime_aa;
-    WORD            wRTSTxRrvTime_bb;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_ba;
+    u16            wRTSTxRrvTime_aa;
+    u16            wRTSTxRrvTime_bb;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     //RTS
     u8            byRTSSignalField_b;
     u8            byRTSServiceField_b;
-    WORD            wRTSTransmitLength_b;
+    u16            wRTSTransmitLength_b;
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_ba;
-    WORD            wRTSDuration_aa;
-    WORD            wRTSDuration_bb;
-    WORD            wReserved3;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_ba;
+    u16            wRTSDuration_aa;
+    u16            wRTSDuration_bb;
+    u16            wReserved3;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_NAF_G_RTS, *PTX_NAF_G_RTS;
 
 typedef struct tagSTX_NAF_G_RTS_MIC
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ba;
-    WORD            wRTSTxRrvTime_aa;
-    WORD            wRTSTxRrvTime_bb;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_ba;
+    u16            wRTSTxRrvTime_aa;
+    u16            wRTSTxRrvTime_bb;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     SMICHDR         sMICHDR;
 
     //RTS
     u8            byRTSSignalField_b;
     u8            byRTSServiceField_b;
-    WORD            wRTSTransmitLength_b;
+    u16            wRTSTransmitLength_b;
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_ba;
-    WORD            wRTSDuration_aa;
-    WORD            wRTSDuration_bb;
-    WORD            wReserved3;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_ba;
+    u16            wRTSDuration_aa;
+    u16            wRTSDuration_bb;
+    u16            wReserved3;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_NAF_G_RTS_MIC, *PTX_NAF_G_RTS_MIC;
 
 typedef struct tagSTX_NAF_G_CTS
 {
     //RsvTime
-    WORD            wCTSTxRrvTime_ba;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wCTSTxRrvTime_ba;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     //CTS
     u8            byCTSSignalField_b;
     u8            byCTSServiceField_b;
-    WORD            wCTSTransmitLength_b;
-    WORD            wCTSDuration_ba;
-    WORD            wReserved3;
+    u16            wCTSTransmitLength_b;
+    u16            wCTSDuration_ba;
+    u16            wReserved3;
     SCTSDataF       sCTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_NAF_G_CTS, *PTX_NAF_G_CTS;
 
@@ -177,10 +177,10 @@ typedef struct tagSTX_NAF_G_CTS
 typedef struct tagSTX_NAF_G_CTS_MIC
 {
     //RsvTime
-    WORD            wCTSTxRrvTime_ba;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wCTSTxRrvTime_ba;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
 
     SMICHDR         sMICHDR;
@@ -188,45 +188,45 @@ typedef struct tagSTX_NAF_G_CTS_MIC
     //CTS
     u8            byCTSSignalField_b;
     u8            byCTSServiceField_b;
-    WORD            wCTSTransmitLength_b;
-    WORD            wCTSDuration_ba;
-    WORD            wReserved3;
+    u16            wCTSTransmitLength_b;
+    u16            wCTSDuration_ba;
+    u16            wReserved3;
     SCTSDataF       sCTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_NAF_G_CTS_MIC, *PTX_NAF_G_CTS_MIC;
 
 
 typedef struct tagSTX_NAF_G_BEACON
 {
-    WORD            wFIFOCtl;
-    WORD            wTimeStamp;
+    u16            wFIFOCtl;
+    u16            wTimeStamp;
 
     //CTS
     u8            byCTSSignalField_b;
     u8            byCTSServiceField_b;
-    WORD            wCTSTransmitLength_b;
-    WORD            wCTSDuration_ba;
-    WORD            wReserved1;
+    u16            wCTSTransmitLength_b;
+    u16            wCTSDuration_ba;
+    u16            wReserved1;
     SCTSDataF       sCTS;
 
     //Data
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_a;
+    u16            wTimeStampOff_a;
 
 
 } TX_NAF_G_BEACON, *PTX_NAF_G_BEACON;
@@ -235,23 +235,23 @@ typedef struct tagSTX_NAF_G_BEACON
 typedef struct tagSTX_NAF_AB_RTS
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ab;
-    WORD            wTxRrvTime_ab;
+    u16            wRTSTxRrvTime_ab;
+    u16            wTxRrvTime_ab;
 
     //RTS
     u8            byRTSSignalField_ab;
     u8            byRTSServiceField_ab;
-    WORD            wRTSTransmitLength_ab;
-    WORD            wRTSDuration_ab;
-    WORD            wReserved2;
+    u16            wRTSTransmitLength_ab;
+    u16            wRTSDuration_ab;
+    u16            wReserved2;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_ab;
     u8            byServiceField_ab;
-    WORD            wTransmitLength_ab;
-    WORD            wDuration_ab;
-    WORD            wTimeStampOff_ab;
+    u16            wTransmitLength_ab;
+    u16            wDuration_ab;
+    u16            wTimeStampOff_ab;
 
 
 } TX_NAF_AB_RTS, *PTX_NAF_AB_RTS;
@@ -260,25 +260,25 @@ typedef struct tagSTX_NAF_AB_RTS
 typedef struct tagSTX_NAF_AB_RTS_MIC
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ab;
-    WORD            wTxRrvTime_ab;
+    u16            wRTSTxRrvTime_ab;
+    u16            wTxRrvTime_ab;
 
     SMICHDR         sMICHDR;
 
     //RTS
     u8            byRTSSignalField_ab;
     u8            byRTSServiceField_ab;
-    WORD            wRTSTransmitLength_ab;
-    WORD            wRTSDuration_ab;
-    WORD            wReserved2;
+    u16            wRTSTransmitLength_ab;
+    u16            wRTSDuration_ab;
+    u16            wReserved2;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_ab;
     u8            byServiceField_ab;
-    WORD            wTransmitLength_ab;
-    WORD            wDuration_ab;
-    WORD            wTimeStampOff_ab;
+    u16            wTransmitLength_ab;
+    u16            wDuration_ab;
+    u16            wTimeStampOff_ab;
 
 
 } TX_NAF_AB_RTS_MIC, *PTX_NAF_AB_RTS_MIC;
@@ -288,90 +288,90 @@ typedef struct tagSTX_NAF_AB_RTS_MIC
 typedef struct tagSTX_NAF_AB_CTS
 {
     //RsvTime
-    WORD            wReserved2;
-    WORD            wTxRrvTime_ab;
+    u16            wReserved2;
+    u16            wTxRrvTime_ab;
 
     //Data
     u8            bySignalField_ab;
     u8            byServiceField_ab;
-    WORD            wTransmitLength_ab;
-    WORD            wDuration_ab;
-    WORD            wTimeStampOff_ab;
+    u16            wTransmitLength_ab;
+    u16            wDuration_ab;
+    u16            wTimeStampOff_ab;
 
 } TX_NAF_AB_CTS, *PTX_NAF_AB_CTS;
 
 typedef struct tagSTX_NAF_AB_CTS_MIC
 {
     //RsvTime
-    WORD            wReserved2;
-    WORD            wTxRrvTime_ab;
+    u16            wReserved2;
+    u16            wTxRrvTime_ab;
 
     SMICHDR         sMICHDR;
 
     //Data
     u8            bySignalField_ab;
     u8            byServiceField_ab;
-    WORD            wTransmitLength_ab;
-    WORD            wDuration_ab;
-    WORD            wTimeStampOff_ab;
+    u16            wTransmitLength_ab;
+    u16            wDuration_ab;
+    u16            wTimeStampOff_ab;
 
 } TX_NAF_AB_CTS_MIC, *PTX_NAF_AB_CTS_MIC;
 
 
 typedef struct tagSTX_NAF_AB_BEACON
 {
-    WORD            wFIFOCtl;
-    WORD            wTimeStamp;
+    u16            wFIFOCtl;
+    u16            wTimeStamp;
 
    //Data
     u8            bySignalField_ab;
     u8            byServiceField_ab;
-    WORD            wTransmitLength_ab;
-    WORD            wDuration_ab;
-    WORD            wTimeStampOff_ab;
+    u16            wTransmitLength_ab;
+    u16            wDuration_ab;
+    u16            wTimeStampOff_ab;
 
 } TX_NAF_AB_BEACON, *PTX_NAF_AB_BEACON;
 
 typedef struct tagSTX_AF_G_RTS
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ba;
-    WORD            wRTSTxRrvTime_aa;
-    WORD            wRTSTxRrvTime_bb;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_ba;
+    u16            wRTSTxRrvTime_aa;
+    u16            wRTSTxRrvTime_bb;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     //RTS
     u8            byRTSSignalField_b;
     u8            byRTSServiceField_b;
-    WORD            wRTSTransmitLength_b;
+    u16            wRTSTransmitLength_b;
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_ba;
-    WORD            wRTSDuration_aa;
-    WORD            wRTSDuration_bb;
-    WORD            wReserved3;
-    WORD            wRTSDuration_ba_f0;
-    WORD            wRTSDuration_aa_f0;
-    WORD            wRTSDuration_ba_f1;
-    WORD            wRTSDuration_aa_f1;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_ba;
+    u16            wRTSDuration_aa;
+    u16            wRTSDuration_bb;
+    u16            wReserved3;
+    u16            wRTSDuration_ba_f0;
+    u16            wRTSDuration_aa_f0;
+    u16            wRTSDuration_ba_f1;
+    u16            wRTSDuration_aa_f1;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_AF_G_RTS, *PTX_AF_G_RTS;
 
@@ -379,45 +379,45 @@ typedef struct tagSTX_AF_G_RTS
 typedef struct tagSTX_AF_G_RTS_MIC
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_ba;
-    WORD            wRTSTxRrvTime_aa;
-    WORD            wRTSTxRrvTime_bb;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_ba;
+    u16            wRTSTxRrvTime_aa;
+    u16            wRTSTxRrvTime_bb;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     SMICHDR         sMICHDR;
 
     //RTS
     u8            byRTSSignalField_b;
     u8            byRTSServiceField_b;
-    WORD            wRTSTransmitLength_b;
+    u16            wRTSTransmitLength_b;
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_ba;
-    WORD            wRTSDuration_aa;
-    WORD            wRTSDuration_bb;
-    WORD            wReserved3;
-    WORD            wRTSDuration_ba_f0;
-    WORD            wRTSDuration_aa_f0;
-    WORD            wRTSDuration_ba_f1;
-    WORD            wRTSDuration_aa_f1;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_ba;
+    u16            wRTSDuration_aa;
+    u16            wRTSDuration_bb;
+    u16            wReserved3;
+    u16            wRTSDuration_ba_f0;
+    u16            wRTSDuration_aa_f0;
+    u16            wRTSDuration_ba_f1;
+    u16            wRTSDuration_aa_f1;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_AF_G_RTS_MIC, *PTX_AF_G_RTS_MIC;
 
@@ -426,34 +426,34 @@ typedef struct tagSTX_AF_G_RTS_MIC
 typedef struct tagSTX_AF_G_CTS
 {
     //RsvTime
-    WORD            wCTSTxRrvTime_ba;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wCTSTxRrvTime_ba;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
     //CTS
     u8            byCTSSignalField_b;
     u8            byCTSServiceField_b;
-    WORD            wCTSTransmitLength_b;
-    WORD            wCTSDuration_ba;
-    WORD            wReserved3;
-    WORD            wCTSDuration_ba_f0;
-    WORD            wCTSDuration_ba_f1;
+    u16            wCTSTransmitLength_b;
+    u16            wCTSDuration_ba;
+    u16            wReserved3;
+    u16            wCTSDuration_ba_f0;
+    u16            wCTSDuration_ba_f1;
     SCTSDataF       sCTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_AF_G_CTS, *PTX_AF_G_CTS;
 
@@ -461,10 +461,10 @@ typedef struct tagSTX_AF_G_CTS
 typedef struct tagSTX_AF_G_CTS_MIC
 {
     //RsvTime
-    WORD            wCTSTxRrvTime_ba;
-    WORD            wReserved2;
-    WORD            wTxRrvTime_b;
-    WORD            wTxRrvTime_a;
+    u16            wCTSTxRrvTime_ba;
+    u16            wReserved2;
+    u16            wTxRrvTime_b;
+    u16            wTxRrvTime_a;
 
 
     SMICHDR         sMICHDR;
@@ -472,26 +472,26 @@ typedef struct tagSTX_AF_G_CTS_MIC
     //CTS
     u8            byCTSSignalField_b;
     u8            byCTSServiceField_b;
-    WORD            wCTSTransmitLength_b;
-    WORD            wCTSDuration_ba;
-    WORD            wReserved3;
-    WORD            wCTSDuration_ba_f0;
-    WORD            wCTSDuration_ba_f1;
+    u16            wCTSTransmitLength_b;
+    u16            wCTSDuration_ba;
+    u16            wReserved3;
+    u16            wCTSDuration_ba_f0;
+    u16            wCTSDuration_ba_f1;
     SCTSDataF       sCTS;
 
     //Data
     u8            bySignalField_b;
     u8            byServiceField_b;
-    WORD            wTransmitLength_b;
+    u16            wTransmitLength_b;
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_b;
-    WORD            wDuration_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
-    WORD            wTimeStampOff_b;
-    WORD            wTimeStampOff_a;
+    u16            wTransmitLength_a;
+    u16            wDuration_b;
+    u16            wDuration_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
+    u16            wTimeStampOff_b;
+    u16            wTimeStampOff_a;
 
 } TX_AF_G_CTS_MIC, *PTX_AF_G_CTS_MIC;
 
@@ -500,27 +500,27 @@ typedef struct tagSTX_AF_G_CTS_MIC
 typedef struct tagSTX_AF_A_RTS
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_a;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_a;
+    u16            wTxRrvTime_a;
 
     //RTS
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_a;
-    WORD            wReserved2;
-    WORD            wRTSDuration_a_f0;
-    WORD            wRTSDuration_a_f1;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_a;
+    u16            wReserved2;
+    u16            wRTSDuration_a_f0;
+    u16            wRTSDuration_a_f1;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
+    u16            wTransmitLength_a;
+    u16            wDuration_a;
+    u16            wTimeStampOff_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
 
 } TX_AF_A_RTS, *PTX_AF_A_RTS;
 
@@ -528,29 +528,29 @@ typedef struct tagSTX_AF_A_RTS
 typedef struct tagSTX_AF_A_RTS_MIC
 {
     //RsvTime
-    WORD            wRTSTxRrvTime_a;
-    WORD            wTxRrvTime_a;
+    u16            wRTSTxRrvTime_a;
+    u16            wTxRrvTime_a;
 
     SMICHDR         sMICHDR;
 
     //RTS
     u8            byRTSSignalField_a;
     u8            byRTSServiceField_a;
-    WORD            wRTSTransmitLength_a;
-    WORD            wRTSDuration_a;
-    WORD            wReserved2;
-    WORD            wRTSDuration_a_f0;
-    WORD            wRTSDuration_a_f1;
+    u16            wRTSTransmitLength_a;
+    u16            wRTSDuration_a;
+    u16            wReserved2;
+    u16            wRTSDuration_a_f0;
+    u16            wRTSDuration_a_f1;
     SRTSDataF       sRTS;
 
     //Data
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
+    u16            wTransmitLength_a;
+    u16            wDuration_a;
+    u16            wTimeStampOff_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
 
 } TX_AF_A_RTS_MIC, *PTX_AF_A_RTS_MIC;
 
@@ -559,17 +559,17 @@ typedef struct tagSTX_AF_A_RTS_MIC
 typedef struct tagSTX_AF_A_CTS
 {
     //RsvTime
-    WORD            wReserved2;
-    WORD            wTxRrvTime_a;
+    u16            wReserved2;
+    u16            wTxRrvTime_a;
 
     //Data
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
+    u16            wTransmitLength_a;
+    u16            wDuration_a;
+    u16            wTimeStampOff_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
 
 } TX_AF_A_CTS, *PTX_AF_A_CTS;
 
@@ -577,19 +577,19 @@ typedef struct tagSTX_AF_A_CTS
 typedef struct tagSTX_AF_A_CTS_MIC
 {
     //RsvTime
-    WORD            wReserved2;
-    WORD            wTxRrvTime_a;
+    u16            wReserved2;
+    u16            wTxRrvTime_a;
 
     SMICHDR         sMICHDR;
 
     //Data
     u8            bySignalField_a;
     u8            byServiceField_a;
-    WORD            wTransmitLength_a;
-    WORD            wDuration_a;
-    WORD            wTimeStampOff_a;
-    WORD            wDuration_a_f0;
-    WORD            wDuration_a_f1;
+    u16            wTransmitLength_a;
+    u16            wDuration_a;
+    u16            wTimeStampOff_a;
+    u16            wDuration_a_f0;
+    u16            wDuration_a_f1;
 
 } TX_AF_A_CTS_MIC, *PTX_AF_A_CTS_MIC;
 
@@ -628,13 +628,13 @@ typedef struct tagSTX_BUFFER
 {
     u8                            byType;
     u8                            byPKTNO;
-    WORD                            wTxByteCount;
+    u16                            wTxByteCount;
 
 	u32 adwTxKey[4];
-    WORD                            wFIFOCtl;
-    WORD                            wTimeStamp;
-    WORD                            wFragCtl;
-    WORD                            wReserved;
+    u16                            wFIFOCtl;
+    u16                            wTimeStamp;
+    u16                            wFragCtl;
+    u16                            wReserved;
 
 
     // Actual message
@@ -650,10 +650,10 @@ typedef struct tagSBEACON_BUFFER
 {
     u8                            byType;
     u8                            byPKTNO;
-    WORD                            wTxByteCount;
+    u16                            wTxByteCount;
 
-    WORD                            wFIFOCtl;
-    WORD                            wTimeStamp;
+    u16                            wFIFOCtl;
+    u16                            wTimeStamp;
 
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;

commit b902fbfebf2c80c3782e41eda24b487964a47fd1
Author: Andres More <more.andres@gmail.com>
Date:   Mon Feb 25 20:32:51 2013 -0500

    staging: vt6656: replaced custom BYTE definition with u8
    
    Checkpatch findings were not resolved, only direct replacement.
    
    sed -i 's/\bBYTE\b/u8/g' drivers/staging/vt6656/*.[ch]
    sed -i 's/\bPBYTE\b/u8 */g' drivers/staging/vt6656/*.[ch]
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 9f537022cdd1..7ca185e4437e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -43,8 +43,8 @@
 typedef struct tagSRTSDataF {
     WORD    wFrameControl;
     WORD    wDurationID;
-    BYTE    abyRA[ETH_ALEN];
-    BYTE    abyTA[ETH_ALEN];
+    u8    abyRA[ETH_ALEN];
+    u8    abyTA[ETH_ALEN];
 } SRTSDataF, *PSRTSDataF;
 
 //
@@ -53,7 +53,7 @@ typedef struct tagSRTSDataF {
 typedef struct tagSCTSDataF {
     WORD    wFrameControl;
     WORD    wDurationID;
-    BYTE    abyRA[ETH_ALEN];
+    u8    abyRA[ETH_ALEN];
     WORD    wReserved;
 } SCTSDataF, *PSCTSDataF;
 
@@ -78,11 +78,11 @@ typedef struct tagSTX_NAF_G_RTS
     WORD            wTxRrvTime_a;
 
     //RTS
-    BYTE            byRTSSignalField_b;
-    BYTE            byRTSServiceField_b;
+    u8            byRTSSignalField_b;
+    u8            byRTSServiceField_b;
     WORD            wRTSTransmitLength_b;
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_ba;
     WORD            wRTSDuration_aa;
@@ -91,11 +91,11 @@ typedef struct tagSTX_NAF_G_RTS
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -117,11 +117,11 @@ typedef struct tagSTX_NAF_G_RTS_MIC
     SMICHDR         sMICHDR;
 
     //RTS
-    BYTE            byRTSSignalField_b;
-    BYTE            byRTSServiceField_b;
+    u8            byRTSSignalField_b;
+    u8            byRTSServiceField_b;
     WORD            wRTSTransmitLength_b;
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_ba;
     WORD            wRTSDuration_aa;
@@ -130,11 +130,11 @@ typedef struct tagSTX_NAF_G_RTS_MIC
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -152,19 +152,19 @@ typedef struct tagSTX_NAF_G_CTS
     WORD            wTxRrvTime_a;
 
     //CTS
-    BYTE            byCTSSignalField_b;
-    BYTE            byCTSServiceField_b;
+    u8            byCTSSignalField_b;
+    u8            byCTSServiceField_b;
     WORD            wCTSTransmitLength_b;
     WORD            wCTSDuration_ba;
     WORD            wReserved3;
     SCTSDataF       sCTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -186,19 +186,19 @@ typedef struct tagSTX_NAF_G_CTS_MIC
     SMICHDR         sMICHDR;
 
     //CTS
-    BYTE            byCTSSignalField_b;
-    BYTE            byCTSServiceField_b;
+    u8            byCTSSignalField_b;
+    u8            byCTSServiceField_b;
     WORD            wCTSTransmitLength_b;
     WORD            wCTSDuration_ba;
     WORD            wReserved3;
     SCTSDataF       sCTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -214,16 +214,16 @@ typedef struct tagSTX_NAF_G_BEACON
     WORD            wTimeStamp;
 
     //CTS
-    BYTE            byCTSSignalField_b;
-    BYTE            byCTSServiceField_b;
+    u8            byCTSSignalField_b;
+    u8            byCTSServiceField_b;
     WORD            wCTSTransmitLength_b;
     WORD            wCTSDuration_ba;
     WORD            wReserved1;
     SCTSDataF       sCTS;
 
     //Data
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_a;
     WORD            wTimeStampOff_a;
@@ -239,16 +239,16 @@ typedef struct tagSTX_NAF_AB_RTS
     WORD            wTxRrvTime_ab;
 
     //RTS
-    BYTE            byRTSSignalField_ab;
-    BYTE            byRTSServiceField_ab;
+    u8            byRTSSignalField_ab;
+    u8            byRTSServiceField_ab;
     WORD            wRTSTransmitLength_ab;
     WORD            wRTSDuration_ab;
     WORD            wReserved2;
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_ab;
-    BYTE            byServiceField_ab;
+    u8            bySignalField_ab;
+    u8            byServiceField_ab;
     WORD            wTransmitLength_ab;
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
@@ -266,16 +266,16 @@ typedef struct tagSTX_NAF_AB_RTS_MIC
     SMICHDR         sMICHDR;
 
     //RTS
-    BYTE            byRTSSignalField_ab;
-    BYTE            byRTSServiceField_ab;
+    u8            byRTSSignalField_ab;
+    u8            byRTSServiceField_ab;
     WORD            wRTSTransmitLength_ab;
     WORD            wRTSDuration_ab;
     WORD            wReserved2;
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_ab;
-    BYTE            byServiceField_ab;
+    u8            bySignalField_ab;
+    u8            byServiceField_ab;
     WORD            wTransmitLength_ab;
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
@@ -292,8 +292,8 @@ typedef struct tagSTX_NAF_AB_CTS
     WORD            wTxRrvTime_ab;
 
     //Data
-    BYTE            bySignalField_ab;
-    BYTE            byServiceField_ab;
+    u8            bySignalField_ab;
+    u8            byServiceField_ab;
     WORD            wTransmitLength_ab;
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
@@ -309,8 +309,8 @@ typedef struct tagSTX_NAF_AB_CTS_MIC
     SMICHDR         sMICHDR;
 
     //Data
-    BYTE            bySignalField_ab;
-    BYTE            byServiceField_ab;
+    u8            bySignalField_ab;
+    u8            byServiceField_ab;
     WORD            wTransmitLength_ab;
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
@@ -324,8 +324,8 @@ typedef struct tagSTX_NAF_AB_BEACON
     WORD            wTimeStamp;
 
    //Data
-    BYTE            bySignalField_ab;
-    BYTE            byServiceField_ab;
+    u8            bySignalField_ab;
+    u8            byServiceField_ab;
     WORD            wTransmitLength_ab;
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
@@ -343,11 +343,11 @@ typedef struct tagSTX_AF_G_RTS
     WORD            wTxRrvTime_a;
 
     //RTS
-    BYTE            byRTSSignalField_b;
-    BYTE            byRTSServiceField_b;
+    u8            byRTSSignalField_b;
+    u8            byRTSServiceField_b;
     WORD            wRTSTransmitLength_b;
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_ba;
     WORD            wRTSDuration_aa;
@@ -360,11 +360,11 @@ typedef struct tagSTX_AF_G_RTS
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -389,11 +389,11 @@ typedef struct tagSTX_AF_G_RTS_MIC
     SMICHDR         sMICHDR;
 
     //RTS
-    BYTE            byRTSSignalField_b;
-    BYTE            byRTSServiceField_b;
+    u8            byRTSSignalField_b;
+    u8            byRTSServiceField_b;
     WORD            wRTSTransmitLength_b;
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_ba;
     WORD            wRTSDuration_aa;
@@ -406,11 +406,11 @@ typedef struct tagSTX_AF_G_RTS_MIC
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -432,8 +432,8 @@ typedef struct tagSTX_AF_G_CTS
     WORD            wTxRrvTime_a;
 
     //CTS
-    BYTE            byCTSSignalField_b;
-    BYTE            byCTSServiceField_b;
+    u8            byCTSSignalField_b;
+    u8            byCTSServiceField_b;
     WORD            wCTSTransmitLength_b;
     WORD            wCTSDuration_ba;
     WORD            wReserved3;
@@ -442,11 +442,11 @@ typedef struct tagSTX_AF_G_CTS
     SCTSDataF       sCTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -470,8 +470,8 @@ typedef struct tagSTX_AF_G_CTS_MIC
     SMICHDR         sMICHDR;
 
     //CTS
-    BYTE            byCTSSignalField_b;
-    BYTE            byCTSServiceField_b;
+    u8            byCTSSignalField_b;
+    u8            byCTSServiceField_b;
     WORD            wCTSTransmitLength_b;
     WORD            wCTSDuration_ba;
     WORD            wReserved3;
@@ -480,11 +480,11 @@ typedef struct tagSTX_AF_G_CTS_MIC
     SCTSDataF       sCTS;
 
     //Data
-    BYTE            bySignalField_b;
-    BYTE            byServiceField_b;
+    u8            bySignalField_b;
+    u8            byServiceField_b;
     WORD            wTransmitLength_b;
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_b;
     WORD            wDuration_a;
@@ -504,8 +504,8 @@ typedef struct tagSTX_AF_A_RTS
     WORD            wTxRrvTime_a;
 
     //RTS
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_a;
     WORD            wReserved2;
@@ -514,8 +514,8 @@ typedef struct tagSTX_AF_A_RTS
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_a;
     WORD            wTimeStampOff_a;
@@ -534,8 +534,8 @@ typedef struct tagSTX_AF_A_RTS_MIC
     SMICHDR         sMICHDR;
 
     //RTS
-    BYTE            byRTSSignalField_a;
-    BYTE            byRTSServiceField_a;
+    u8            byRTSSignalField_a;
+    u8            byRTSServiceField_a;
     WORD            wRTSTransmitLength_a;
     WORD            wRTSDuration_a;
     WORD            wReserved2;
@@ -544,8 +544,8 @@ typedef struct tagSTX_AF_A_RTS_MIC
     SRTSDataF       sRTS;
 
     //Data
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_a;
     WORD            wTimeStampOff_a;
@@ -563,8 +563,8 @@ typedef struct tagSTX_AF_A_CTS
     WORD            wTxRrvTime_a;
 
     //Data
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_a;
     WORD            wTimeStampOff_a;
@@ -583,8 +583,8 @@ typedef struct tagSTX_AF_A_CTS_MIC
     SMICHDR         sMICHDR;
 
     //Data
-    BYTE            bySignalField_a;
-    BYTE            byServiceField_a;
+    u8            bySignalField_a;
+    u8            byServiceField_a;
     WORD            wTransmitLength_a;
     WORD            wDuration_a;
     WORD            wTimeStampOff_a;
@@ -626,8 +626,8 @@ typedef union tagUTX_BUFFER_CONTAINER
 //
 typedef struct tagSTX_BUFFER
 {
-    BYTE                            byType;
-    BYTE                            byPKTNO;
+    u8                            byType;
+    u8                            byPKTNO;
     WORD                            wTxByteCount;
 
 	u32 adwTxKey[4];
@@ -648,8 +648,8 @@ typedef struct tagSTX_BUFFER
 //
 typedef struct tagSBEACON_BUFFER
 {
-    BYTE                            byType;
-    BYTE                            byPKTNO;
+    u8                            byType;
+    u8                            byPKTNO;
     WORD                            wTxByteCount;
 
     WORD                            wFIFOCtl;

commit d56131def640daa8b802dd7ddbffff30846005ac
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Thu Jan 17 23:15:22 2013 +0000

    staging: vt6656: change bssdb/rxtx/wpa2 to new structures
    
    Use
    struct vnt_private
    struct vnt_manager
    
    Move vnt_manager from sMgmtObj to vnt_mgmt.
    
    This patch cleans up function declarations, definitions and local variables
    where appropriate replacing types defined in "type.h" with linux/types.h.
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index dd2198acc636..9f537022cdd1 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -665,30 +665,11 @@ typedef struct tagSBEACON_BUFFER
 
 /*---------------------  Export Functions  --------------------------*/
 
-BOOL
-bPacketToWirelessUsb(
-      PSDevice         pDevice,
-      BYTE             byPktType,
-      PBYTE            usbPacketBuf,
-      BOOL             bNeedEncrypt,
-      unsigned int             cbPayloadSize,
-      unsigned int             uDMAIdx,
-      PSEthernetHeader psEthHeader,
-      PBYTE            pPacket,
-      PSKeyItem        pTransmitKey,
-      unsigned int             uNodeIndex,
-      WORD             wCurrentRate,
-     unsigned int             *pcbHeaderLen,
-     unsigned int             *pcbTotalLen
-    );
-
-void vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
-int nsDMA_tx_packet(PSDevice pDevice,
-		    unsigned int uDMAIdx,
-		    struct sk_buff *skb);
-CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
-CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
-BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData,
-		      unsigned int uDataLen, unsigned int uNodeIndex);
+void vDMA0_tx_80211(struct vnt_private *, struct sk_buff *skb);
+int nsDMA_tx_packet(struct vnt_private *, u32 uDMAIdx, struct sk_buff *skb);
+CMD_STATUS csMgmt_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
+CMD_STATUS csBeacon_xmit(struct vnt_private *, struct vnt_tx_mgmt *);
+int bRelayPacketSend(struct vnt_private *, u8 *pbySkbData, u32 uDataLen,
+	u32 uNodeIndex);
 
 #endif /* __RXTX_H__ */

commit ed74395ca491265bf26b56e31d6ba3f654a0b690
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Sun Nov 11 15:34:51 2012 +0000

    staging: vt6656: 64 bit fixes: rxtx.h Replace DWORD with u32.
    
    Size of long issues.
    
     Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index f99acf1d8eb9..dd2198acc636 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -61,9 +61,9 @@ typedef struct tagSCTSDataF {
 // MICHDR data header
 //
 typedef struct tagSMICHDR {
-    DWORD   adwHDR0[4];
-    DWORD   adwHDR1[4];
-    DWORD   adwHDR2[4];
+	u32 adwHDR0[4];
+	u32 adwHDR1[4];
+	u32 adwHDR2[4];
 } SMICHDR, *PSMICHDR;
 
 
@@ -630,7 +630,7 @@ typedef struct tagSTX_BUFFER
     BYTE                            byPKTNO;
     WORD                            wTxByteCount;
 
-    DWORD                           adwTxKey[4];
+	u32 adwTxKey[4];
     WORD                            wFIFOCtl;
     WORD                            wTimeStamp;
     WORD                            wFragCtl;

commit 6487c49e8a739ae6020ccda9470f5837e792ab53
Author: Andres More <more.andres@gmail.com>
Date:   Mon Aug 2 20:51:57 2010 -0300

    staging: vt6656: removed NTSTATUS definition
    
    Replaced NTSTATUS with int, as defined in a couple of places.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index f90de42d7abe..f99acf1d8eb9 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -683,9 +683,9 @@ bPacketToWirelessUsb(
     );
 
 void vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
-NTSTATUS nsDMA_tx_packet(PSDevice  pDevice,
-			 unsigned int uDMAIdx,
-			 struct sk_buff *skb);
+int nsDMA_tx_packet(PSDevice pDevice,
+		    unsigned int uDMAIdx,
+		    struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData,

commit cc856e61ee4ffb150ff352e3d6940978a2f819e8
Author: Andres More <more.andres@gmail.com>
Date:   Mon May 17 21:34:01 2010 -0300

    Staging: vt6656: removed custom UCHAR/USHORT/UINT/ULONG/ULONGLONG typedefs
    
    Cleared all checkpatch warnings but 'do not add new typedefs' ones.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 64df4a3550d6..f90de42d7abe 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -671,21 +671,24 @@ bPacketToWirelessUsb(
       BYTE             byPktType,
       PBYTE            usbPacketBuf,
       BOOL             bNeedEncrypt,
-      UINT             cbPayloadSize,
-      UINT             uDMAIdx,
+      unsigned int             cbPayloadSize,
+      unsigned int             uDMAIdx,
       PSEthernetHeader psEthHeader,
       PBYTE            pPacket,
       PSKeyItem        pTransmitKey,
-      UINT             uNodeIndex,
+      unsigned int             uNodeIndex,
       WORD             wCurrentRate,
-     UINT             *pcbHeaderLen,
-     UINT             *pcbTotalLen
+     unsigned int             *pcbHeaderLen,
+     unsigned int             *pcbTotalLen
     );
 
 void vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
-NTSTATUS nsDMA_tx_packet(PSDevice  pDevice, UINT uDMAIdx, struct sk_buff *skb);
+NTSTATUS nsDMA_tx_packet(PSDevice  pDevice,
+			 unsigned int uDMAIdx,
+			 struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
-BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData, UINT uDataLen, UINT uNodeIndex);
+BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData,
+		      unsigned int uDataLen, unsigned int uNodeIndex);
 
 #endif /* __RXTX_H__ */

commit 6f8c13c7dbe0d51e62bdb1aa11c1c38a8f8e3133
Author: Andres More <more.andres@gmail.com>
Date:   Tue May 4 20:40:10 2010 -0300

    Staging: vt6656: code cleanup, removed OUT definition
    
    Remoted empty OUT define in ttype.h and its usage across the code.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 026943058ac2..64df4a3550d6 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -678,8 +678,8 @@ bPacketToWirelessUsb(
       PSKeyItem        pTransmitKey,
       UINT             uNodeIndex,
       WORD             wCurrentRate,
-    OUT UINT             *pcbHeaderLen,
-    OUT UINT             *pcbTotalLen
+     UINT             *pcbHeaderLen,
+     UINT             *pcbTotalLen
     );
 
 void vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);

commit e7b07d1d8936e06f88dbe227401ce659c2f9dee5
Author: Andres More <more.andres@gmail.com>
Date:   Sat May 1 19:12:26 2010 -0300

    Staging: vt6656: code cleanup, fixed comments style at the end of headers
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 7c7e078495c8..026943058ac2 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -688,7 +688,4 @@ CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData, UINT uDataLen, UINT uNodeIndex);
 
-#endif // __RXTX_H__
-
-
-
+#endif /* __RXTX_H__ */

commit 8611a29ab967bc197494db19d31994d1b5a26fdc
Author: Andres More <more.andres@gmail.com>
Date:   Sat May 1 14:25:00 2010 -0300

    Staging: vt6656: removed VOID/PVOID definitions
    
    Warnings about the usage of externs in .c files were not resolved here.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 1160c0354f3f..7c7e078495c8 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -682,7 +682,7 @@ bPacketToWirelessUsb(
     OUT UINT             *pcbTotalLen
     );
 
-VOID vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
+void vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
 NTSTATUS nsDMA_tx_packet(PSDevice  pDevice, UINT uDMAIdx, struct sk_buff *skb);
 CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);

commit 592ccfebb3d7ae6d2fa367b97f080790befa3c6c
Author: Andres More <more.andres@gmail.com>
Date:   Sat Apr 17 12:07:42 2010 -0300

    Staging: vt6656: Removed IN definition
    
    Code cleanup, removed empty IN definition used to denote input parameters.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 133f47520621..1160c0354f3f 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -667,17 +667,17 @@ typedef struct tagSBEACON_BUFFER
 
 BOOL
 bPacketToWirelessUsb(
-    IN  PSDevice         pDevice,
-    IN  BYTE             byPktType,
-    IN  PBYTE            usbPacketBuf,
-    IN  BOOL             bNeedEncrypt,
-    IN  UINT             cbPayloadSize,
-    IN  UINT             uDMAIdx,
-    IN  PSEthernetHeader psEthHeader,
-    IN  PBYTE            pPacket,
-    IN  PSKeyItem        pTransmitKey,
-    IN  UINT             uNodeIndex,
-    IN  WORD             wCurrentRate,
+      PSDevice         pDevice,
+      BYTE             byPktType,
+      PBYTE            usbPacketBuf,
+      BOOL             bNeedEncrypt,
+      UINT             cbPayloadSize,
+      UINT             uDMAIdx,
+      PSEthernetHeader psEthHeader,
+      PBYTE            pPacket,
+      PSKeyItem        pTransmitKey,
+      UINT             uNodeIndex,
+      WORD             wCurrentRate,
     OUT UINT             *pcbHeaderLen,
     OUT UINT             *pcbTotalLen
     );

commit 9a0e756c5280750c23bd44d2b855a1f5442ea7b4
Author: Andres More <more.andres@gmail.com>
Date:   Tue Apr 13 21:54:48 2010 -0300

    Staging: vt6656: incorporated ETH_ALEN macro instead of custom one
    
    Replaced custom U_ETHER_ADDR_LEN by ETH_ALEN from <linux/if_ether.h>.
    Resolved checkpatch findings on the changed lines, mostly indentation.
    
    Signed-off-by: Andres More <more.andres@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 6bc22d371c1e..133f47520621 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -43,8 +43,8 @@
 typedef struct tagSRTSDataF {
     WORD    wFrameControl;
     WORD    wDurationID;
-    BYTE    abyRA[U_ETHER_ADDR_LEN];
-    BYTE    abyTA[U_ETHER_ADDR_LEN];
+    BYTE    abyRA[ETH_ALEN];
+    BYTE    abyTA[ETH_ALEN];
 } SRTSDataF, *PSRTSDataF;
 
 //
@@ -53,7 +53,7 @@ typedef struct tagSRTSDataF {
 typedef struct tagSCTSDataF {
     WORD    wFrameControl;
     WORD    wDurationID;
-    BYTE    abyRA[U_ETHER_ADDR_LEN];
+    BYTE    abyRA[ETH_ALEN];
     WORD    wReserved;
 } SCTSDataF, *PSCTSDataF;
 

commit 9d26d60f99855056a20ac7c0b68eb5ed04619831
Author: Jim Lieb <lieb@canonical.com>
Date:   Wed Aug 12 14:54:08 2009 -0700

    Staging: vt665x: Clean up include files, Part 1
    
    Remove cplusplus lines from include files
    Remove needless ifdefs on includes to conform with C
    conventions.  Remove misc commented code/includes
    Update TODO
    
    Signed-off-by: Jim Lieb <lieb@canonical.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index fabea7f11c88..6bc22d371c1e 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -26,20 +26,12 @@
  *
  */
 
-
 #ifndef __RXTX_H__
 #define __RXTX_H__
 
-#if !defined(__TTYPE_H__)
 #include "ttype.h"
-#endif
-#if !defined(__DEVICE_H__)
 #include "device.h"
-#endif
-#if !defined(__WCMD_H__)
 #include "wcmd.h"
-#endif
-
 
 /*---------------------  Export Definitions -------------------------*/
 
@@ -673,13 +665,6 @@ typedef struct tagSBEACON_BUFFER
 
 /*---------------------  Export Functions  --------------------------*/
 
-
-#ifdef __cplusplus
-extern "C" {                            /* Assume C declarations for C++ */
-#endif /* __cplusplus */
-
-
-
 BOOL
 bPacketToWirelessUsb(
     IN  PSDevice         pDevice,
@@ -703,13 +688,6 @@ CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
 BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData, UINT uDataLen, UINT uNodeIndex);
 
-#ifdef __cplusplus
-}                                       /* End of extern "C" { */
-#endif /* __cplusplus */
-
-
-
-
 #endif // __RXTX_H__
 
 

commit 193a823caaf0e2a79a447014be00a6b70ed216a2
Author: Jim Lieb <lieb@canonical.com>
Date:   Wed Aug 12 14:54:06 2009 -0700

    Staging: vt665x: Typedef and macro cleanup Part 1
    
    Clean up unused typedefs and macros to remove Win32'isms and
    misc non-linux constructs.  Text edits to referencing
    source for less frequently used macros.
    
    Signed-off-by: Jim Lieb <lieb@canonical.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
index 07d9720f5b99..fabea7f11c88 100644
--- a/drivers/staging/vt6656/rxtx.h
+++ b/drivers/staging/vt6656/rxtx.h
@@ -53,7 +53,7 @@ typedef struct tagSRTSDataF {
     WORD    wDurationID;
     BYTE    abyRA[U_ETHER_ADDR_LEN];
     BYTE    abyTA[U_ETHER_ADDR_LEN];
-} SRTSDataF, DEF* PSRTSDataF;
+} SRTSDataF, *PSRTSDataF;
 
 //
 // CTS buffer header
@@ -63,7 +63,7 @@ typedef struct tagSCTSDataF {
     WORD    wDurationID;
     BYTE    abyRA[U_ETHER_ADDR_LEN];
     WORD    wReserved;
-} SCTSDataF, DEF* PSCTSDataF;
+} SCTSDataF, *PSCTSDataF;
 
 //
 // MICHDR data header
@@ -72,7 +72,7 @@ typedef struct tagSMICHDR {
     DWORD   adwHDR0[4];
     DWORD   adwHDR1[4];
     DWORD   adwHDR2[4];
-} SMICHDR, DEF* PSMICHDR;
+} SMICHDR, *PSMICHDR;
 
 
 typedef struct tagSTX_NAF_G_RTS
@@ -110,7 +110,7 @@ typedef struct tagSTX_NAF_G_RTS
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_NAF_G_RTS, DEF* PTX_NAF_G_RTS;
+} TX_NAF_G_RTS, *PTX_NAF_G_RTS;
 
 typedef struct tagSTX_NAF_G_RTS_MIC
 {
@@ -149,7 +149,7 @@ typedef struct tagSTX_NAF_G_RTS_MIC
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_NAF_G_RTS_MIC, DEF* PTX_NAF_G_RTS_MIC;
+} TX_NAF_G_RTS_MIC, *PTX_NAF_G_RTS_MIC;
 
 typedef struct tagSTX_NAF_G_CTS
 {
@@ -179,7 +179,7 @@ typedef struct tagSTX_NAF_G_CTS
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_NAF_G_CTS, DEF* PTX_NAF_G_CTS;
+} TX_NAF_G_CTS, *PTX_NAF_G_CTS;
 
 
 typedef struct tagSTX_NAF_G_CTS_MIC
@@ -213,7 +213,7 @@ typedef struct tagSTX_NAF_G_CTS_MIC
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_NAF_G_CTS_MIC, DEF* PTX_NAF_G_CTS_MIC;
+} TX_NAF_G_CTS_MIC, *PTX_NAF_G_CTS_MIC;
 
 
 typedef struct tagSTX_NAF_G_BEACON
@@ -237,7 +237,7 @@ typedef struct tagSTX_NAF_G_BEACON
     WORD            wTimeStampOff_a;
 
 
-} TX_NAF_G_BEACON, DEF* PTX_NAF_G_BEACON;
+} TX_NAF_G_BEACON, *PTX_NAF_G_BEACON;
 
 
 typedef struct tagSTX_NAF_AB_RTS
@@ -262,7 +262,7 @@ typedef struct tagSTX_NAF_AB_RTS
     WORD            wTimeStampOff_ab;
 
 
-} TX_NAF_AB_RTS, DEF* PTX_NAF_AB_RTS;
+} TX_NAF_AB_RTS, *PTX_NAF_AB_RTS;
 
 
 typedef struct tagSTX_NAF_AB_RTS_MIC
@@ -289,7 +289,7 @@ typedef struct tagSTX_NAF_AB_RTS_MIC
     WORD            wTimeStampOff_ab;
 
 
-} TX_NAF_AB_RTS_MIC, DEF* PTX_NAF_AB_RTS_MIC;
+} TX_NAF_AB_RTS_MIC, *PTX_NAF_AB_RTS_MIC;
 
 
 
@@ -306,7 +306,7 @@ typedef struct tagSTX_NAF_AB_CTS
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
 
-} TX_NAF_AB_CTS, DEF* PTX_NAF_AB_CTS;
+} TX_NAF_AB_CTS, *PTX_NAF_AB_CTS;
 
 typedef struct tagSTX_NAF_AB_CTS_MIC
 {
@@ -323,7 +323,7 @@ typedef struct tagSTX_NAF_AB_CTS_MIC
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
 
-} TX_NAF_AB_CTS_MIC, DEF* PTX_NAF_AB_CTS_MIC;
+} TX_NAF_AB_CTS_MIC, *PTX_NAF_AB_CTS_MIC;
 
 
 typedef struct tagSTX_NAF_AB_BEACON
@@ -338,7 +338,7 @@ typedef struct tagSTX_NAF_AB_BEACON
     WORD            wDuration_ab;
     WORD            wTimeStampOff_ab;
 
-} TX_NAF_AB_BEACON, DEF* PTX_NAF_AB_BEACON;
+} TX_NAF_AB_BEACON, *PTX_NAF_AB_BEACON;
 
 typedef struct tagSTX_AF_G_RTS
 {
@@ -381,7 +381,7 @@ typedef struct tagSTX_AF_G_RTS
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_AF_G_RTS, DEF* PTX_AF_G_RTS;
+} TX_AF_G_RTS, *PTX_AF_G_RTS;
 
 
 typedef struct tagSTX_AF_G_RTS_MIC
@@ -427,7 +427,7 @@ typedef struct tagSTX_AF_G_RTS_MIC
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_AF_G_RTS_MIC, DEF* PTX_AF_G_RTS_MIC;
+} TX_AF_G_RTS_MIC, *PTX_AF_G_RTS_MIC;
 
 
 
@@ -463,7 +463,7 @@ typedef struct tagSTX_AF_G_CTS
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_AF_G_CTS, DEF* PTX_AF_G_CTS;
+} TX_AF_G_CTS, *PTX_AF_G_CTS;
 
 
 typedef struct tagSTX_AF_G_CTS_MIC
@@ -501,7 +501,7 @@ typedef struct tagSTX_AF_G_CTS_MIC
     WORD            wTimeStampOff_b;
     WORD            wTimeStampOff_a;
 
-} TX_AF_G_CTS_MIC, DEF* PTX_AF_G_CTS_MIC;
+} TX_AF_G_CTS_MIC, *PTX_AF_G_CTS_MIC;
 
 
 
@@ -530,7 +530,7 @@ typedef struct tagSTX_AF_A_RTS
     WORD            wDuration_a_f0;
     WORD            wDuration_a_f1;
 
-} TX_AF_A_RTS, DEF* PTX_AF_A_RTS;
+} TX_AF_A_RTS, *PTX_AF_A_RTS;
 
 
 typedef struct tagSTX_AF_A_RTS_MIC
@@ -560,7 +560,7 @@ typedef struct tagSTX_AF_A_RTS_MIC
     WORD            wDuration_a_f0;
     WORD            wDuration_a_f1;
 
-} TX_AF_A_RTS_MIC, DEF* PTX_AF_A_RTS_MIC;
+} TX_AF_A_RTS_MIC, *PTX_AF_A_RTS_MIC;
 
 
 
@@ -579,7 +579,7 @@ typedef struct tagSTX_AF_A_CTS
     WORD            wDuration_a_f0;
     WORD            wDuration_a_f1;
 
-} TX_AF_A_CTS, DEF* PTX_AF_A_CTS;
+} TX_AF_A_CTS, *PTX_AF_A_CTS;
 
 
 typedef struct tagSTX_AF_A_CTS_MIC
@@ -599,7 +599,7 @@ typedef struct tagSTX_AF_A_CTS_MIC
     WORD            wDuration_a_f0;
     WORD            wDuration_a_f1;
 
-} TX_AF_A_CTS_MIC, DEF* PTX_AF_A_CTS_MIC;
+} TX_AF_A_CTS_MIC, *PTX_AF_A_CTS_MIC;
 
 
 //
@@ -626,7 +626,7 @@ typedef union tagUTX_BUFFER_CONTAINER
     TX_AF_A_CTS                     CTS_A_AutoFB;
     TX_AF_A_CTS_MIC                 CTS_A_AutoFB_MIC;
 
-} TX_BUFFER_CONTAINER, DEF* PTX_BUFFER_CONTAINER;
+} TX_BUFFER_CONTAINER, *PTX_BUFFER_CONTAINER;
 
 
 //
@@ -648,7 +648,7 @@ typedef struct tagSTX_BUFFER
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;
 
-} TX_BUFFER, DEF* PTX_BUFFER;
+} TX_BUFFER, *PTX_BUFFER;
 
 
 //
@@ -666,7 +666,7 @@ typedef struct tagSBEACON_BUFFER
     // Actual message
     TX_BUFFER_CONTAINER             BufferHeader;
 
-} BEACON_BUFFER, DEF* PBEACON_BUFFER;
+} BEACON_BUFFER, *PBEACON_BUFFER;
 
 
 /*---------------------  Export Variables  --------------------------*/

commit 92b96797118e5836294a6d42a5a8e10b86f50e3f
Author: Forest Bond <forest@alittletooquiet.net>
Date:   Sat Jun 13 07:38:31 2009 -0400

    Staging: Add pristine upstream vt6656 driver sources to drivers/staging/vt6656.
    
    Add pristine upstream vt6656 driver sources to drivers/staging/vt6656.  These
    files were copied from the driver directory in the upstream source archive,
    available here:
    
      http://www.viaarena.com/Driver/VT6656_Linux_src_v1.19_12_x86.zip
    
    After copying, trailing whitespace was stripped.  This is GPL-licensed code.
    
    Signed-off-by: Forest Bond <forest@alittletooquiet.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/vt6656/rxtx.h b/drivers/staging/vt6656/rxtx.h
new file mode 100644
index 000000000000..07d9720f5b99
--- /dev/null
+++ b/drivers/staging/vt6656/rxtx.h
@@ -0,0 +1,716 @@
+/*
+ * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.
+ * All rights reserved.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+ *
+ * File: rxtx.h
+ *
+ * Purpose:
+ *
+ * Author: Jerry Chen
+ *
+ * Date: Jun. 27, 2002
+ *
+ */
+
+
+#ifndef __RXTX_H__
+#define __RXTX_H__
+
+#if !defined(__TTYPE_H__)
+#include "ttype.h"
+#endif
+#if !defined(__DEVICE_H__)
+#include "device.h"
+#endif
+#if !defined(__WCMD_H__)
+#include "wcmd.h"
+#endif
+
+
+/*---------------------  Export Definitions -------------------------*/
+
+/*---------------------  Export Classes  ----------------------------*/
+
+//
+// RTS buffer header
+//
+typedef struct tagSRTSDataF {
+    WORD    wFrameControl;
+    WORD    wDurationID;
+    BYTE    abyRA[U_ETHER_ADDR_LEN];
+    BYTE    abyTA[U_ETHER_ADDR_LEN];
+} SRTSDataF, DEF* PSRTSDataF;
+
+//
+// CTS buffer header
+//
+typedef struct tagSCTSDataF {
+    WORD    wFrameControl;
+    WORD    wDurationID;
+    BYTE    abyRA[U_ETHER_ADDR_LEN];
+    WORD    wReserved;
+} SCTSDataF, DEF* PSCTSDataF;
+
+//
+// MICHDR data header
+//
+typedef struct tagSMICHDR {
+    DWORD   adwHDR0[4];
+    DWORD   adwHDR1[4];
+    DWORD   adwHDR2[4];
+} SMICHDR, DEF* PSMICHDR;
+
+
+typedef struct tagSTX_NAF_G_RTS
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ba;
+    WORD            wRTSTxRrvTime_aa;
+    WORD            wRTSTxRrvTime_bb;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    //RTS
+    BYTE            byRTSSignalField_b;
+    BYTE            byRTSServiceField_b;
+    WORD            wRTSTransmitLength_b;
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_ba;
+    WORD            wRTSDuration_aa;
+    WORD            wRTSDuration_bb;
+    WORD            wReserved3;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_NAF_G_RTS, DEF* PTX_NAF_G_RTS;
+
+typedef struct tagSTX_NAF_G_RTS_MIC
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ba;
+    WORD            wRTSTxRrvTime_aa;
+    WORD            wRTSTxRrvTime_bb;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    SMICHDR         sMICHDR;
+
+    //RTS
+    BYTE            byRTSSignalField_b;
+    BYTE            byRTSServiceField_b;
+    WORD            wRTSTransmitLength_b;
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_ba;
+    WORD            wRTSDuration_aa;
+    WORD            wRTSDuration_bb;
+    WORD            wReserved3;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_NAF_G_RTS_MIC, DEF* PTX_NAF_G_RTS_MIC;
+
+typedef struct tagSTX_NAF_G_CTS
+{
+    //RsvTime
+    WORD            wCTSTxRrvTime_ba;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    //CTS
+    BYTE            byCTSSignalField_b;
+    BYTE            byCTSServiceField_b;
+    WORD            wCTSTransmitLength_b;
+    WORD            wCTSDuration_ba;
+    WORD            wReserved3;
+    SCTSDataF       sCTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_NAF_G_CTS, DEF* PTX_NAF_G_CTS;
+
+
+typedef struct tagSTX_NAF_G_CTS_MIC
+{
+    //RsvTime
+    WORD            wCTSTxRrvTime_ba;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+
+    SMICHDR         sMICHDR;
+
+    //CTS
+    BYTE            byCTSSignalField_b;
+    BYTE            byCTSServiceField_b;
+    WORD            wCTSTransmitLength_b;
+    WORD            wCTSDuration_ba;
+    WORD            wReserved3;
+    SCTSDataF       sCTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_NAF_G_CTS_MIC, DEF* PTX_NAF_G_CTS_MIC;
+
+
+typedef struct tagSTX_NAF_G_BEACON
+{
+    WORD            wFIFOCtl;
+    WORD            wTimeStamp;
+
+    //CTS
+    BYTE            byCTSSignalField_b;
+    BYTE            byCTSServiceField_b;
+    WORD            wCTSTransmitLength_b;
+    WORD            wCTSDuration_ba;
+    WORD            wReserved1;
+    SCTSDataF       sCTS;
+
+    //Data
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_a;
+
+
+} TX_NAF_G_BEACON, DEF* PTX_NAF_G_BEACON;
+
+
+typedef struct tagSTX_NAF_AB_RTS
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ab;
+    WORD            wTxRrvTime_ab;
+
+    //RTS
+    BYTE            byRTSSignalField_ab;
+    BYTE            byRTSServiceField_ab;
+    WORD            wRTSTransmitLength_ab;
+    WORD            wRTSDuration_ab;
+    WORD            wReserved2;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_ab;
+    BYTE            byServiceField_ab;
+    WORD            wTransmitLength_ab;
+    WORD            wDuration_ab;
+    WORD            wTimeStampOff_ab;
+
+
+} TX_NAF_AB_RTS, DEF* PTX_NAF_AB_RTS;
+
+
+typedef struct tagSTX_NAF_AB_RTS_MIC
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ab;
+    WORD            wTxRrvTime_ab;
+
+    SMICHDR         sMICHDR;
+
+    //RTS
+    BYTE            byRTSSignalField_ab;
+    BYTE            byRTSServiceField_ab;
+    WORD            wRTSTransmitLength_ab;
+    WORD            wRTSDuration_ab;
+    WORD            wReserved2;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_ab;
+    BYTE            byServiceField_ab;
+    WORD            wTransmitLength_ab;
+    WORD            wDuration_ab;
+    WORD            wTimeStampOff_ab;
+
+
+} TX_NAF_AB_RTS_MIC, DEF* PTX_NAF_AB_RTS_MIC;
+
+
+
+typedef struct tagSTX_NAF_AB_CTS
+{
+    //RsvTime
+    WORD            wReserved2;
+    WORD            wTxRrvTime_ab;
+
+    //Data
+    BYTE            bySignalField_ab;
+    BYTE            byServiceField_ab;
+    WORD            wTransmitLength_ab;
+    WORD            wDuration_ab;
+    WORD            wTimeStampOff_ab;
+
+} TX_NAF_AB_CTS, DEF* PTX_NAF_AB_CTS;
+
+typedef struct tagSTX_NAF_AB_CTS_MIC
+{
+    //RsvTime
+    WORD            wReserved2;
+    WORD            wTxRrvTime_ab;
+
+    SMICHDR         sMICHDR;
+
+    //Data
+    BYTE            bySignalField_ab;
+    BYTE            byServiceField_ab;
+    WORD            wTransmitLength_ab;
+    WORD            wDuration_ab;
+    WORD            wTimeStampOff_ab;
+
+} TX_NAF_AB_CTS_MIC, DEF* PTX_NAF_AB_CTS_MIC;
+
+
+typedef struct tagSTX_NAF_AB_BEACON
+{
+    WORD            wFIFOCtl;
+    WORD            wTimeStamp;
+
+   //Data
+    BYTE            bySignalField_ab;
+    BYTE            byServiceField_ab;
+    WORD            wTransmitLength_ab;
+    WORD            wDuration_ab;
+    WORD            wTimeStampOff_ab;
+
+} TX_NAF_AB_BEACON, DEF* PTX_NAF_AB_BEACON;
+
+typedef struct tagSTX_AF_G_RTS
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ba;
+    WORD            wRTSTxRrvTime_aa;
+    WORD            wRTSTxRrvTime_bb;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    //RTS
+    BYTE            byRTSSignalField_b;
+    BYTE            byRTSServiceField_b;
+    WORD            wRTSTransmitLength_b;
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_ba;
+    WORD            wRTSDuration_aa;
+    WORD            wRTSDuration_bb;
+    WORD            wReserved3;
+    WORD            wRTSDuration_ba_f0;
+    WORD            wRTSDuration_aa_f0;
+    WORD            wRTSDuration_ba_f1;
+    WORD            wRTSDuration_aa_f1;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_AF_G_RTS, DEF* PTX_AF_G_RTS;
+
+
+typedef struct tagSTX_AF_G_RTS_MIC
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_ba;
+    WORD            wRTSTxRrvTime_aa;
+    WORD            wRTSTxRrvTime_bb;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    SMICHDR         sMICHDR;
+
+    //RTS
+    BYTE            byRTSSignalField_b;
+    BYTE            byRTSServiceField_b;
+    WORD            wRTSTransmitLength_b;
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_ba;
+    WORD            wRTSDuration_aa;
+    WORD            wRTSDuration_bb;
+    WORD            wReserved3;
+    WORD            wRTSDuration_ba_f0;
+    WORD            wRTSDuration_aa_f0;
+    WORD            wRTSDuration_ba_f1;
+    WORD            wRTSDuration_aa_f1;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_AF_G_RTS_MIC, DEF* PTX_AF_G_RTS_MIC;
+
+
+
+typedef struct tagSTX_AF_G_CTS
+{
+    //RsvTime
+    WORD            wCTSTxRrvTime_ba;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+    //CTS
+    BYTE            byCTSSignalField_b;
+    BYTE            byCTSServiceField_b;
+    WORD            wCTSTransmitLength_b;
+    WORD            wCTSDuration_ba;
+    WORD            wReserved3;
+    WORD            wCTSDuration_ba_f0;
+    WORD            wCTSDuration_ba_f1;
+    SCTSDataF       sCTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_AF_G_CTS, DEF* PTX_AF_G_CTS;
+
+
+typedef struct tagSTX_AF_G_CTS_MIC
+{
+    //RsvTime
+    WORD            wCTSTxRrvTime_ba;
+    WORD            wReserved2;
+    WORD            wTxRrvTime_b;
+    WORD            wTxRrvTime_a;
+
+
+    SMICHDR         sMICHDR;
+
+    //CTS
+    BYTE            byCTSSignalField_b;
+    BYTE            byCTSServiceField_b;
+    WORD            wCTSTransmitLength_b;
+    WORD            wCTSDuration_ba;
+    WORD            wReserved3;
+    WORD            wCTSDuration_ba_f0;
+    WORD            wCTSDuration_ba_f1;
+    SCTSDataF       sCTS;
+
+    //Data
+    BYTE            bySignalField_b;
+    BYTE            byServiceField_b;
+    WORD            wTransmitLength_b;
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_b;
+    WORD            wDuration_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+    WORD            wTimeStampOff_b;
+    WORD            wTimeStampOff_a;
+
+} TX_AF_G_CTS_MIC, DEF* PTX_AF_G_CTS_MIC;
+
+
+
+typedef struct tagSTX_AF_A_RTS
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_a;
+    WORD            wTxRrvTime_a;
+
+    //RTS
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_a;
+    WORD            wReserved2;
+    WORD            wRTSDuration_a_f0;
+    WORD            wRTSDuration_a_f1;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+
+} TX_AF_A_RTS, DEF* PTX_AF_A_RTS;
+
+
+typedef struct tagSTX_AF_A_RTS_MIC
+{
+    //RsvTime
+    WORD            wRTSTxRrvTime_a;
+    WORD            wTxRrvTime_a;
+
+    SMICHDR         sMICHDR;
+
+    //RTS
+    BYTE            byRTSSignalField_a;
+    BYTE            byRTSServiceField_a;
+    WORD            wRTSTransmitLength_a;
+    WORD            wRTSDuration_a;
+    WORD            wReserved2;
+    WORD            wRTSDuration_a_f0;
+    WORD            wRTSDuration_a_f1;
+    SRTSDataF       sRTS;
+
+    //Data
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+
+} TX_AF_A_RTS_MIC, DEF* PTX_AF_A_RTS_MIC;
+
+
+
+typedef struct tagSTX_AF_A_CTS
+{
+    //RsvTime
+    WORD            wReserved2;
+    WORD            wTxRrvTime_a;
+
+    //Data
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+
+} TX_AF_A_CTS, DEF* PTX_AF_A_CTS;
+
+
+typedef struct tagSTX_AF_A_CTS_MIC
+{
+    //RsvTime
+    WORD            wReserved2;
+    WORD            wTxRrvTime_a;
+
+    SMICHDR         sMICHDR;
+
+    //Data
+    BYTE            bySignalField_a;
+    BYTE            byServiceField_a;
+    WORD            wTransmitLength_a;
+    WORD            wDuration_a;
+    WORD            wTimeStampOff_a;
+    WORD            wDuration_a_f0;
+    WORD            wDuration_a_f1;
+
+} TX_AF_A_CTS_MIC, DEF* PTX_AF_A_CTS_MIC;
+
+
+//
+// union with all of the TX Buffer Type
+//
+typedef union tagUTX_BUFFER_CONTAINER
+{
+    TX_NAF_G_RTS                    RTS_G;
+    TX_NAF_G_RTS_MIC                RTS_G_MIC;
+    TX_NAF_G_CTS                    CTS_G;
+    TX_NAF_G_CTS_MIC                CTS_G_MIC;
+    //TX_NAF_G_BEACON                 Beacon_G;
+    TX_NAF_AB_RTS                   RTS_AB;
+    TX_NAF_AB_RTS_MIC               RTS_AB_MIC;
+    TX_NAF_AB_CTS                   CTS_AB;
+    TX_NAF_AB_CTS_MIC               CTS_AB_MIC;
+    //TX_NAF_AB_BEACON                Beacon_AB;
+    TX_AF_G_RTS                     RTS_G_AutoFB;
+    TX_AF_G_RTS_MIC                 RTS_G_AutoFB_MIC;
+    TX_AF_G_CTS                     CTS_G_AutoFB;
+    TX_AF_G_CTS_MIC                 CTS_G_AutoFB_MIC;
+    TX_AF_A_RTS                     RTS_A_AutoFB;
+    TX_AF_A_RTS_MIC                 RTS_A_AutoFB_MIC;
+    TX_AF_A_CTS                     CTS_A_AutoFB;
+    TX_AF_A_CTS_MIC                 CTS_A_AutoFB_MIC;
+
+} TX_BUFFER_CONTAINER, DEF* PTX_BUFFER_CONTAINER;
+
+
+//
+// Remote NDIS message format
+//
+typedef struct tagSTX_BUFFER
+{
+    BYTE                            byType;
+    BYTE                            byPKTNO;
+    WORD                            wTxByteCount;
+
+    DWORD                           adwTxKey[4];
+    WORD                            wFIFOCtl;
+    WORD                            wTimeStamp;
+    WORD                            wFragCtl;
+    WORD                            wReserved;
+
+
+    // Actual message
+    TX_BUFFER_CONTAINER             BufferHeader;
+
+} TX_BUFFER, DEF* PTX_BUFFER;
+
+
+//
+// Remote NDIS message format
+//
+typedef struct tagSBEACON_BUFFER
+{
+    BYTE                            byType;
+    BYTE                            byPKTNO;
+    WORD                            wTxByteCount;
+
+    WORD                            wFIFOCtl;
+    WORD                            wTimeStamp;
+
+    // Actual message
+    TX_BUFFER_CONTAINER             BufferHeader;
+
+} BEACON_BUFFER, DEF* PBEACON_BUFFER;
+
+
+/*---------------------  Export Variables  --------------------------*/
+
+/*---------------------  Export Functions  --------------------------*/
+
+
+#ifdef __cplusplus
+extern "C" {                            /* Assume C declarations for C++ */
+#endif /* __cplusplus */
+
+
+
+BOOL
+bPacketToWirelessUsb(
+    IN  PSDevice         pDevice,
+    IN  BYTE             byPktType,
+    IN  PBYTE            usbPacketBuf,
+    IN  BOOL             bNeedEncrypt,
+    IN  UINT             cbPayloadSize,
+    IN  UINT             uDMAIdx,
+    IN  PSEthernetHeader psEthHeader,
+    IN  PBYTE            pPacket,
+    IN  PSKeyItem        pTransmitKey,
+    IN  UINT             uNodeIndex,
+    IN  WORD             wCurrentRate,
+    OUT UINT             *pcbHeaderLen,
+    OUT UINT             *pcbTotalLen
+    );
+
+VOID vDMA0_tx_80211(PSDevice  pDevice, struct sk_buff *skb);
+NTSTATUS nsDMA_tx_packet(PSDevice  pDevice, UINT uDMAIdx, struct sk_buff *skb);
+CMD_STATUS csMgmt_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
+CMD_STATUS csBeacon_xmit(PSDevice pDevice, PSTxMgmtPacket pPacket);
+BOOL bRelayPacketSend(PSDevice pDevice, PBYTE pbySkbData, UINT uDataLen, UINT uNodeIndex);
+
+#ifdef __cplusplus
+}                                       /* End of extern "C" { */
+#endif /* __cplusplus */
+
+
+
+
+#endif // __RXTX_H__
+
+
+
