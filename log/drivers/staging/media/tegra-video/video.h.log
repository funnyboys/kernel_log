commit 3d8a97eabef088393170a9ca46c12ff6021a3be4
Author: Sowjanya Komatineni <skomatineni@nvidia.com>
Date:   Mon May 4 19:31:57 2020 -0700

    media: tegra-video: Add Tegra210 Video input driver
    
    Tegra210 contains a powerful Video Input (VI) hardware controller
    which can support up to 6 MIPI CSI camera sensors.
    
    Each Tegra CSI port can be one-to-one mapped to VI channel and can
    capture from an external camera sensor connected to CSI or from
    built-in test pattern generator.
    
    Tegra210 supports built-in test pattern generator from CSI to VI.
    
    This patch adds a V4L2 capture driver with a media interface for
    Tegra210 built-in CSI to VI test pattern generator.
    
    This patch includes TPG support only and all the video pipeline
    configuration happens through the video device node.
    
    Acked-by: Thierry Reding <treding@nvidia.com>
    Signed-off-by: Sowjanya Komatineni <skomatineni@nvidia.com>
    Reviewed-by: Dmitry Osipenko <digetx@gmail.com>
    Acked-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>
    Signed-off-by: Thierry Reding <treding@nvidia.com>

diff --git a/drivers/staging/media/tegra-video/video.h b/drivers/staging/media/tegra-video/video.h
new file mode 100644
index 000000000000..fadaf2189dc9
--- /dev/null
+++ b/drivers/staging/media/tegra-video/video.h
@@ -0,0 +1,29 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
+/*
+ * Copyright (C) 2020 NVIDIA CORPORATION.  All rights reserved.
+ */
+
+#ifndef __TEGRA_VIDEO_H__
+#define __TEGRA_VIDEO_H__
+
+#include <linux/host1x.h>
+
+#include <media/media-device.h>
+#include <media/v4l2-device.h>
+
+#include "vi.h"
+#include "csi.h"
+
+struct tegra_video_device {
+	struct v4l2_device v4l2_dev;
+	struct media_device media_dev;
+	struct tegra_vi *vi;
+	struct tegra_csi *csi;
+};
+
+int tegra_v4l2_nodes_setup_tpg(struct tegra_video_device *vid);
+void tegra_v4l2_nodes_cleanup_tpg(struct tegra_video_device *vid);
+
+extern struct platform_driver tegra_vi_driver;
+extern struct platform_driver tegra_csi_driver;
+#endif
