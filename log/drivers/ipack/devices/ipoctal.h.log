commit d72619706abc4aa7e540ea882dae883cee7cc3b3
Merge: e786741ff1b5 35a4ed0164e9
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jul 11 15:38:21 2019 -0700

    Merge tag 'tty-5.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty
    
    Pull tty / serial driver updates from Greg KH:
     "Here is the "large" TTY and Serial driver update for 5.3-rc1.
    
      It's in the negative number of lines overall as we removed an obsolete
      serial driver that was causing problems for some people who were
      trying to clean up some apis (the mpsc.c driver, which only worked for
      some pre-production hardware that no one has anymore.)
    
      Other than that, lots of tiny changes, cleaning up small things along
      with some platform-specific serial driver updates.
    
      All of these have been in linux-next for a while now with no reported
      issues"
    
    * tag 'tty-5.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty: (68 commits)
      tty: serial: fsl_lpuart: add imx8qxp support
      serial: imx: set_termios(): preserve RTS state
      serial: imx: set_termios(): clarify RTS/CTS bits calculation
      serial: imx: set_termios(): factor-out 'ucr2' initial value
      serial: sh-sci: Terminate TX DMA during buffer flushing
      serial: sh-sci: Fix TX DMA buffer flushing and workqueue races
      serial: mpsc: Remove obsolete MPSC driver
      serial: 8250: 8250_core: Fix missing unlock on error in serial8250_register_8250_port()
      serial: stm32: add RX and TX FIFO flush
      serial: stm32: add support of RX FIFO threshold
      serial: stm32: add support of TX FIFO threshold
      serial: stm32: update PIO transmission
      serial: stm32: add support of timeout interrupt for RX
      Revert "serial: 8250: Don't service RX FIFO if interrupts are disabled"
      tty/serial/8250: use mctrl_gpio helpers
      serial: mctrl_gpio: Check if GPIO property exisits before requesting it
      serial: 8250: pericom_do_set_divisor can be static
      tty: serial_core: Set port active bit in uart_port_activate
      serial: 8250: Add MSR/MCR TIOCM conversion wrapper functions
      serial: 8250: factor out serial8250_{set,clear}_THRI() helpers
      ...

commit b886d83c5b621abc84ff9616f14c529be3f6b147
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Sat Jun 1 10:08:55 2019 +0200

    treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 441
    
    Based on 1 normalized pattern(s):
    
      this program is free software you can redistribute it and or modify
      it under the terms of the gnu general public license as published by
      the free software foundation version 2 of the license
    
    extracted by the scancode license scanner the SPDX license identifier
    
      GPL-2.0-only
    
    has been chosen to replace the boilerplate/reference in 315 file(s).
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Reviewed-by: Allison Randal <allison@lohutok.net>
    Reviewed-by: Armijn Hemel <armijn@tjaldur.nl>
    Cc: linux-spdx@vger.kernel.org
    Link: https://lkml.kernel.org/r/20190531190115.503150771@linutronix.de
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/ipack/devices/ipoctal.h b/drivers/ipack/devices/ipoctal.h
index 7fede0eb6a0c..920537883238 100644
--- a/drivers/ipack/devices/ipoctal.h
+++ b/drivers/ipack/devices/ipoctal.h
@@ -1,3 +1,4 @@
+/* SPDX-License-Identifier: GPL-2.0-only */
 /**
  * ipoctal.h
  *
@@ -6,10 +7,6 @@
  * Copyright (C) 2009-2012 CERN (www.cern.ch)
  * Author: Nicolas Serafini, EIC2 SA
  * Author: Samuel Iglesias Gonsalvez <siglesias@igalia.com>
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the Free
- * Software Foundation; version 2 of the License.
  */
 
 #ifndef _IPOCTAL_H_

commit b95781666d138ebf08cec46e58666ab8fbc37b9f
Author: Johan Hovold <johan@kernel.org>
Date:   Fri Apr 26 07:59:24 2019 +0200

    tty: ipoctal: drop unused iflag macro
    
    Drop the RELEVANT_IFLAG() macro which has never been used.
    
    Cc: Samuel Iglesias Gonsalvez <siglesias@igalia.com>
    Cc: Jens Taprogge <jens.taprogge@taprogge.org>
    Signed-off-by: Johan Hovold <johan@kernel.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/ipack/devices/ipoctal.h b/drivers/ipack/devices/ipoctal.h
index 7fede0eb6a0c..78e4fc81fb03 100644
--- a/drivers/ipack/devices/ipoctal.h
+++ b/drivers/ipack/devices/ipoctal.h
@@ -18,7 +18,6 @@
 #define NR_CHANNELS		8
 #define IPOCTAL_MAX_BOARDS	16
 #define MAX_DEVICES		(NR_CHANNELS * IPOCTAL_MAX_BOARDS)
-#define RELEVANT_IFLAG(iflag) ((iflag) & (IGNBRK|BRKINT|IGNPAR|PARMRK|INPCK))
 
 /**
  * struct ipoctal_stats -- Stats since last reset

commit e0b04f2e94baca0f8135e7d5648c21be2e29d831
Author: Rasmus Villemoes <linux@rasmusvillemoes.dk>
Date:   Fri Aug 22 14:09:23 2014 +0200

    drivers/ipack/devices/ipoctal.h: Fix typo in include guard
    
    Signed-off-by: Rasmus Villemoes <linux@rasmusvillemoes.dk>
    Acked-by: Samuel Iglesias Gonsalvez <siglesias@igalia.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/ipack/devices/ipoctal.h b/drivers/ipack/devices/ipoctal.h
index 28f1c4233154..7fede0eb6a0c 100644
--- a/drivers/ipack/devices/ipoctal.h
+++ b/drivers/ipack/devices/ipoctal.h
@@ -12,7 +12,7 @@
  * Software Foundation; version 2 of the License.
  */
 
-#ifndef _IPOCTAL_H
+#ifndef _IPOCTAL_H_
 #define _IPOCTAL_H_
 
 #define NR_CHANNELS		8

commit 05e5027efc9c0bb6d1d04cde279afbafca0a7929
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Fri Nov 16 08:14:18 2012 -0800

    Staging: ipack: move out of staging
    
    The ipack subsystem is cleaned up enough to now move out of the staging
    tree, and into drivers/ipack.
    
    Cc: Samuel Iglesias Gonsalvez <siglesias@igalia.com>
    Cc: Jens Taprogge <jens.taprogge@taprogge.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/ipack/devices/ipoctal.h b/drivers/ipack/devices/ipoctal.h
new file mode 100644
index 000000000000..28f1c4233154
--- /dev/null
+++ b/drivers/ipack/devices/ipoctal.h
@@ -0,0 +1,42 @@
+/**
+ * ipoctal.h
+ *
+ * driver for the IPOCTAL boards
+
+ * Copyright (C) 2009-2012 CERN (www.cern.ch)
+ * Author: Nicolas Serafini, EIC2 SA
+ * Author: Samuel Iglesias Gonsalvez <siglesias@igalia.com>
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms of the GNU General Public License as published by the Free
+ * Software Foundation; version 2 of the License.
+ */
+
+#ifndef _IPOCTAL_H
+#define _IPOCTAL_H_
+
+#define NR_CHANNELS		8
+#define IPOCTAL_MAX_BOARDS	16
+#define MAX_DEVICES		(NR_CHANNELS * IPOCTAL_MAX_BOARDS)
+#define RELEVANT_IFLAG(iflag) ((iflag) & (IGNBRK|BRKINT|IGNPAR|PARMRK|INPCK))
+
+/**
+ * struct ipoctal_stats -- Stats since last reset
+ *
+ * @tx: Number of transmitted bytes
+ * @rx: Number of received bytes
+ * @overrun: Number of overrun errors
+ * @parity_err: Number of parity errors
+ * @framing_err: Number of framing errors
+ * @rcv_break: Number of break received
+ */
+struct ipoctal_stats {
+	unsigned long tx;
+	unsigned long rx;
+	unsigned long overrun_err;
+	unsigned long parity_err;
+	unsigned long framing_err;
+	unsigned long rcv_break;
+};
+
+#endif /* _IPOCTAL_H_ */
