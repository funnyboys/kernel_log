commit 63fba242c464ba3417d33f97bc0d47bbf46d0721
Author: Neil Armstrong <narmstrong@baylibre.com>
Date:   Mon Oct 21 11:15:04 2019 +0200

    drm/meson: add RDMA module driver
    
    The VPU embeds a "Register DMA" that can write a sequence of registers
    on the VPU AHB bus, either manually or triggered by an internal IRQ
    event like VSYNC or a line input counter.
    
    The initial implementation handles a single channel (over 8), triggered
    by the VSYNC irq and does not handle the RDMA irq.
    
    The RDMA will be usefull to reset and program the AFBC decoder unit
    on each vsync without involving the interrupt handler that can
    be masked for a log period of time, producing display glitches.
    
    Signed-off-by: Neil Armstrong <narmstrong@baylibre.com>
    Reviewed-by: Kevin Hilman <khilman@baylibre.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/20191021091509.3864-5-narmstrong@baylibre.com

diff --git a/drivers/gpu/drm/meson/meson_rdma.h b/drivers/gpu/drm/meson/meson_rdma.h
new file mode 100644
index 000000000000..3870bff7b47f
--- /dev/null
+++ b/drivers/gpu/drm/meson/meson_rdma.h
@@ -0,0 +1,21 @@
+/* SPDX-License-Identifier: GPL-2.0+ */
+/*
+ * Copyright (C) 2019 BayLibre, SAS
+ * Author: Neil Armstrong <narmstrong@baylibre.com>
+ */
+
+#ifndef __MESON_RDMA_H
+#define __MESON_RDMA_H
+
+#include "meson_drv.h"
+
+int meson_rdma_init(struct meson_drm *priv);
+void meson_rdma_free(struct meson_drm *priv);
+void meson_rdma_setup(struct meson_drm *priv);
+void meson_rdma_reset(struct meson_drm *priv);
+void meson_rdma_stop(struct meson_drm *priv);
+
+void meson_rdma_writel_sync(struct meson_drm *priv, uint32_t val, uint32_t reg);
+void meson_rdma_flush(struct meson_drm *priv);
+
+#endif /* __MESON_RDMA_H */
