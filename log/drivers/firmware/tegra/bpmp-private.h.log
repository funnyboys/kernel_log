commit fe45ab552955ee93b492cbf86603eb02b3c77a66
Author: Thierry Reding <treding@nvidia.com>
Date:   Thu Feb 7 12:50:06 2019 +0100

    firmware/tegra: Enable Tegra186 BPMP support on Tegra194
    
    The BPMP implementation on Tegra194 is mostly compatible with the
    implementation on Tegra186, so make sure the latter is available when
    support for Tegra194 is enabled.
    
    Suggested-by: Timo Alho <talho@nvidia.com>
    Reviewed-by: Timo Alho <talho@nvidia.com>
    Tested-by: Timo Alho <talho@nvidia.com>
    Signed-off-by: Thierry Reding <treding@nvidia.com>

diff --git a/drivers/firmware/tegra/bpmp-private.h b/drivers/firmware/tegra/bpmp-private.h
index cc343f4ebafb..54d560c48398 100644
--- a/drivers/firmware/tegra/bpmp-private.h
+++ b/drivers/firmware/tegra/bpmp-private.h
@@ -23,7 +23,8 @@ struct tegra_bpmp_ops {
 	int (*resume)(struct tegra_bpmp *bpmp);
 };
 
-#if IS_ENABLED(CONFIG_ARCH_TEGRA_186_SOC)
+#if IS_ENABLED(CONFIG_ARCH_TEGRA_186_SOC) || \
+    IS_ENABLED(CONFIG_ARCH_TEGRA_194_SOC)
 extern const struct tegra_bpmp_ops tegra186_bpmp_ops;
 #endif
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_210_SOC)

commit 79d031fcad56e27fc4d614d54cd5962cad282473
Author: Thierry Reding <treding@nvidia.com>
Date:   Thu Feb 7 12:50:05 2019 +0100

    firmware: tegra: Conditionally support SoC generations
    
    Only include support for Tegra210 and Tegra186 in the BPMP driver if
    support for those SoCs was selected. This fixes a build failure seen
    on 32-bit ARM allmodconfig builds, but could also happen on 64-bit
    ARM builds if either Tegra210 or Tegra186 were not selected.
    
    Reported-by: Guenter Roeck <linux@roeck-us.net>
    Reviewed-by: Timo Alho <talho@nvidia.com>
    Tested-by: Timo Alho <talho@nvidia.com>
    Signed-off-by: Thierry Reding <treding@nvidia.com>

diff --git a/drivers/firmware/tegra/bpmp-private.h b/drivers/firmware/tegra/bpmp-private.h
index 07c3d46abb87..cc343f4ebafb 100644
--- a/drivers/firmware/tegra/bpmp-private.h
+++ b/drivers/firmware/tegra/bpmp-private.h
@@ -23,7 +23,11 @@ struct tegra_bpmp_ops {
 	int (*resume)(struct tegra_bpmp *bpmp);
 };
 
+#if IS_ENABLED(CONFIG_ARCH_TEGRA_186_SOC)
 extern const struct tegra_bpmp_ops tegra186_bpmp_ops;
+#endif
+#if IS_ENABLED(CONFIG_ARCH_TEGRA_210_SOC)
 extern const struct tegra_bpmp_ops tegra210_bpmp_ops;
+#endif
 
 #endif

commit 139251fc220830cc49b71331d281a8ad03a08ab7
Author: Timo Alho <talho@nvidia.com>
Date:   Thu Jan 24 19:03:54 2019 +0200

    firmware: tegra: add bpmp driver for Tegra210
    
    This patch adds driver for Tegra210 BPMP firmware.
    
    The BPMP is a specific processor in Tegra210 chip, which runs firmware
    for assisting in entering deep low power states (suspend to ram), and
    offloading DRAM memory clock scaling on some platforms.
    
    Based on work by Sivaram Nair <sivaramn@nvidia.com>
    
    Signed-off-by: Timo Alho <talho@nvidia.com>
    Acked-by: Jon Hunter <jonathanh@nvidia.com>
    Signed-off-by: Thierry Reding <treding@nvidia.com>

diff --git a/drivers/firmware/tegra/bpmp-private.h b/drivers/firmware/tegra/bpmp-private.h
index 6fb10f1cfb8f..07c3d46abb87 100644
--- a/drivers/firmware/tegra/bpmp-private.h
+++ b/drivers/firmware/tegra/bpmp-private.h
@@ -24,5 +24,6 @@ struct tegra_bpmp_ops {
 };
 
 extern const struct tegra_bpmp_ops tegra186_bpmp_ops;
+extern const struct tegra_bpmp_ops tegra210_bpmp_ops;
 
 #endif

commit cdfa358b248efd36c6a9cb4d4d0a3ba7509f8387
Author: Timo Alho <talho@nvidia.com>
Date:   Thu Jan 24 19:03:53 2019 +0200

    firmware: tegra: Refactor BPMP driver
    
    Split BPMP driver into common and chip specific parts to facilitate
    adding support for previous and future Tegra chips that are using BPMP
    as co-processor.
    
    Signed-off-by: Timo Alho <talho@nvidia.com>
    Acked-by: Jon Hunter <jonathanh@nvidia.com>
    Signed-off-by: Thierry Reding <treding@nvidia.com>

diff --git a/drivers/firmware/tegra/bpmp-private.h b/drivers/firmware/tegra/bpmp-private.h
new file mode 100644
index 000000000000..6fb10f1cfb8f
--- /dev/null
+++ b/drivers/firmware/tegra/bpmp-private.h
@@ -0,0 +1,28 @@
+/* SPDX-License-Identifier: GPL-2.0 */
+/*
+ * Copyright (c) 2018, NVIDIA CORPORATION.
+ */
+
+#ifndef __FIRMWARE_TEGRA_BPMP_PRIVATE_H
+#define __FIRMWARE_TEGRA_BPMP_PRIVATE_H
+
+#include <soc/tegra/bpmp.h>
+
+struct tegra_bpmp_ops {
+	int (*init)(struct tegra_bpmp *bpmp);
+	void (*deinit)(struct tegra_bpmp *bpmp);
+	bool (*is_response_ready)(struct tegra_bpmp_channel *channel);
+	bool (*is_request_ready)(struct tegra_bpmp_channel *channel);
+	int (*ack_response)(struct tegra_bpmp_channel *channel);
+	int (*ack_request)(struct tegra_bpmp_channel *channel);
+	bool (*is_response_channel_free)(struct tegra_bpmp_channel *channel);
+	bool (*is_request_channel_free)(struct tegra_bpmp_channel *channel);
+	int (*post_response)(struct tegra_bpmp_channel *channel);
+	int (*post_request)(struct tegra_bpmp_channel *channel);
+	int (*ring_doorbell)(struct tegra_bpmp *bpmp);
+	int (*resume)(struct tegra_bpmp *bpmp);
+};
+
+extern const struct tegra_bpmp_ops tegra186_bpmp_ops;
+
+#endif
